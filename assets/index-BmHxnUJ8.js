(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function fS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jd={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function dS(){if(nv)return Ol;nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var iv;function mS(){return iv||(iv=1,Jd.exports=dS()),Jd.exports}var C=mS(),em={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function pS(){if(rv)return Re;rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,H={};function U(k,re,pe){this.props=k,this.context=re,this.refs=H,this.updater=pe||I}U.prototype.isReactComponent={},U.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},U.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=U.prototype;function Q(k,re,pe){this.props=k,this.context=re,this.refs=H,this.updater=pe||I}var P=Q.prototype=new $;P.constructor=Q,M(P,U.prototype),P.isPureReactComponent=!0;var W=Array.isArray,ne={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function O(k,re,pe,ue,ce,Ie){return pe=Ie.ref,{$$typeof:r,type:k,key:re,ref:pe!==void 0?pe:null,props:Ie}}function R(k,re){return O(k.type,re,void 0,void 0,void 0,k.props)}function S(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function N(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pe){return re[pe]})}var V=/\/+/g;function z(k,re){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):re.toString(36)}function x(){}function ft(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(x,x):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function nt(k,re,pe,ue,ce){var Ie=typeof k;(Ie==="undefined"||Ie==="boolean")&&(k=null);var we=!1;if(k===null)we=!0;else switch(Ie){case"bigint":case"string":case"number":we=!0;break;case"object":switch(k.$$typeof){case r:case e:we=!0;break;case E:return we=k._init,nt(we(k._payload),re,pe,ue,ce)}}if(we)return ce=ce(k),we=ue===""?"."+z(k,0):ue,W(ce)?(pe="",we!=null&&(pe=we.replace(V,"$&/")+"/"),nt(ce,re,pe,"",function(ot){return ot})):ce!=null&&(S(ce)&&(ce=R(ce,pe+(ce.key==null||k&&k.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+we)),re.push(ce)),1;we=0;var gt=ue===""?".":ue+":";if(W(k))for(var ze=0;ze<k.length;ze++)ue=k[ze],Ie=gt+z(ue,ze),we+=nt(ue,re,pe,Ie,ce);else if(ze=w(k),typeof ze=="function")for(k=ze.call(k),ze=0;!(ue=k.next()).done;)ue=ue.value,Ie=gt+z(ue,ze++),we+=nt(ue,re,pe,Ie,ce);else if(Ie==="object"){if(typeof k.then=="function")return nt(ft(k),re,pe,ue,ce);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function oe(k,re,pe){if(k==null)return k;var ue=[],ce=0;return nt(k,ue,"","",function(Ie){return re.call(pe,Ie,ce++)}),ue}function _e(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(pe){(k._status===0||k._status===-1)&&(k._status=1,k._result=pe)},function(pe){(k._status===0||k._status===-1)&&(k._status=2,k._result=pe)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var de=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Fe(){}return Re.Children={map:oe,forEach:function(k,re,pe){oe(k,function(){re.apply(this,arguments)},pe)},count:function(k){var re=0;return oe(k,function(){re++}),re},toArray:function(k){return oe(k,function(re){return re})||[]},only:function(k){if(!S(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Re.Component=U,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=Q,Re.StrictMode=a,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cloneElement=function(k,re,pe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=M({},k.props),ce=k.key,Ie=void 0;if(re!=null)for(we in re.ref!==void 0&&(Ie=void 0),re.key!==void 0&&(ce=""+re.key),re)!se.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(ue[we]=re[we]);var we=arguments.length-2;if(we===1)ue.children=pe;else if(1<we){for(var gt=Array(we),ze=0;ze<we;ze++)gt[ze]=arguments[ze+2];ue.children=gt}return O(k.type,ce,void 0,void 0,Ie,ue)},Re.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Re.createElement=function(k,re,pe){var ue,ce={},Ie=null;if(re!=null)for(ue in re.key!==void 0&&(Ie=""+re.key),re)se.call(re,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=re[ue]);var we=arguments.length-2;if(we===1)ce.children=pe;else if(1<we){for(var gt=Array(we),ze=0;ze<we;ze++)gt[ze]=arguments[ze+2];ce.children=gt}if(k&&k.defaultProps)for(ue in we=k.defaultProps,we)ce[ue]===void 0&&(ce[ue]=we[ue]);return O(k,Ie,void 0,void 0,null,ce)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:m,render:k}},Re.isValidElement=S,Re.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:_e}},Re.memo=function(k,re){return{$$typeof:g,type:k,compare:re===void 0?null:re}},Re.startTransition=function(k){var re=ne.T,pe={};ne.T=pe;try{var ue=k(),ce=ne.S;ce!==null&&ce(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Fe,de)}catch(Ie){de(Ie)}finally{ne.T=re}},Re.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Re.use=function(k){return ne.H.use(k)},Re.useActionState=function(k,re,pe){return ne.H.useActionState(k,re,pe)},Re.useCallback=function(k,re){return ne.H.useCallback(k,re)},Re.useContext=function(k){return ne.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,re){return ne.H.useDeferredValue(k,re)},Re.useEffect=function(k,re){return ne.H.useEffect(k,re)},Re.useId=function(){return ne.H.useId()},Re.useImperativeHandle=function(k,re,pe){return ne.H.useImperativeHandle(k,re,pe)},Re.useInsertionEffect=function(k,re){return ne.H.useInsertionEffect(k,re)},Re.useLayoutEffect=function(k,re){return ne.H.useLayoutEffect(k,re)},Re.useMemo=function(k,re){return ne.H.useMemo(k,re)},Re.useOptimistic=function(k,re){return ne.H.useOptimistic(k,re)},Re.useReducer=function(k,re,pe){return ne.H.useReducer(k,re,pe)},Re.useRef=function(k){return ne.H.useRef(k)},Re.useState=function(k){return ne.H.useState(k)},Re.useSyncExternalStore=function(k,re,pe){return ne.H.useSyncExternalStore(k,re,pe)},Re.useTransition=function(){return ne.H.useTransition()},Re.version="19.0.0",Re}var av;function Qm(){return av||(av=1,em.exports=pS()),em.exports}var q=Qm();const et=fS(q);var tm={exports:{}},Ml={},nm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function gS(){return sv||(sv=1,function(r){function e(oe,_e){var de=oe.length;oe.push(_e);e:for(;0<de;){var Fe=de-1>>>1,k=oe[Fe];if(0<o(k,_e))oe[Fe]=_e,oe[de]=k,de=Fe;else break e}}function n(oe){return oe.length===0?null:oe[0]}function a(oe){if(oe.length===0)return null;var _e=oe[0],de=oe.pop();if(de!==_e){oe[0]=de;e:for(var Fe=0,k=oe.length,re=k>>>1;Fe<re;){var pe=2*(Fe+1)-1,ue=oe[pe],ce=pe+1,Ie=oe[ce];if(0>o(ue,de))ce<k&&0>o(Ie,ue)?(oe[Fe]=Ie,oe[ce]=de,Fe=ce):(oe[Fe]=ue,oe[pe]=de,Fe=pe);else if(ce<k&&0>o(Ie,de))oe[Fe]=Ie,oe[ce]=de,Fe=ce;else break e}}return _e}function o(oe,_e){var de=oe.sortIndex-_e.sortIndex;return de!==0?de:oe.id-_e.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,w=3,I=!1,M=!1,H=!1,U=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function P(oe){for(var _e=n(g);_e!==null;){if(_e.callback===null)a(g);else if(_e.startTime<=oe)a(g),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(g)}}function W(oe){if(H=!1,P(oe),!M)if(n(p)!==null)M=!0,ft();else{var _e=n(g);_e!==null&&nt(W,_e.startTime-oe)}}var ne=!1,se=-1,O=5,R=-1;function S(){return!(r.unstable_now()-R<O)}function N(){if(ne){var oe=r.unstable_now();R=oe;var _e=!0;try{e:{M=!1,H&&(H=!1,$(se),se=-1),I=!0;var de=w;try{t:{for(P(oe),A=n(p);A!==null&&!(A.expirationTime>oe&&S());){var Fe=A.callback;if(typeof Fe=="function"){A.callback=null,w=A.priorityLevel;var k=Fe(A.expirationTime<=oe);if(oe=r.unstable_now(),typeof k=="function"){A.callback=k,P(oe),_e=!0;break t}A===n(p)&&a(p),P(oe)}else a(p);A=n(p)}if(A!==null)_e=!0;else{var re=n(g);re!==null&&nt(W,re.startTime-oe),_e=!1}}break e}finally{A=null,w=de,I=!1}_e=void 0}}finally{_e?V():ne=!1}}}var V;if(typeof Q=="function")V=function(){Q(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,x=z.port2;z.port1.onmessage=N,V=function(){x.postMessage(null)}}else V=function(){U(N,0)};function ft(){ne||(ne=!0,V())}function nt(oe,_e){se=U(function(){oe(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(oe){oe.callback=null},r.unstable_continueExecution=function(){M||I||(M=!0,ft())},r.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<oe?Math.floor(1e3/oe):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(oe){switch(w){case 1:case 2:case 3:var _e=3;break;default:_e=w}var de=w;w=_e;try{return oe()}finally{w=de}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(oe,_e){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var de=w;w=oe;try{return _e()}finally{w=de}},r.unstable_scheduleCallback=function(oe,_e,de){var Fe=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Fe+de:Fe):de=Fe,oe){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=de+k,oe={id:E++,callback:_e,priorityLevel:oe,startTime:de,expirationTime:k,sortIndex:-1},de>Fe?(oe.sortIndex=de,e(g,oe),n(p)===null&&oe===n(g)&&(H?($(se),se=-1):H=!0,nt(W,de-Fe))):(oe.sortIndex=k,e(p,oe),M||I||(M=!0,ft())),oe},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(oe){var _e=w;return function(){var de=w;w=_e;try{return oe.apply(this,arguments)}finally{w=de}}}}(im)),im}var ov;function yS(){return ov||(ov=1,nm.exports=gS()),nm.exports}var rm={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function _S(){if(lv)return Kt;lv=1;var r=Qm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Kt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Kt.flushSync=function(p){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=E,a.d.f()}},Kt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Kt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Kt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:I}):E==="script"&&a.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Kt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Kt.requestFormReset=function(p){a.d.r(p)},Kt.unstable_batchedUpdates=function(p,g){return p(g)},Kt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.0.0",Kt}var uv;function vS(){if(uv)return rm.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=_S(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function ES(){if(cv)return Ml;cv=1;var r=yS(),e=Qm(),n=vS();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),I=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case H:return"Suspense";case U:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case I:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case M:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return i=t.displayName||null,i!==null?i:R(t.type)||"Memo";case Q:i=t._payload,t=t._init;try{return R(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,V,z;function x(t){if(V===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",z=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+z}var ft=!1;function nt(t,i){if(!t||ft)return"";ft=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var K=X}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(X){K=X}t.call(ie.prototype)}}else{try{throw Error()}catch(X){K=X}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var D=v.split(`
`),j=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===j.length)for(l=D.length-1,h=j.length-1;1<=l&&0<=h&&D[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==j[h]){var Z=`
`+D[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ft=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?x(s):""}function oe(t){switch(t.tag){case 26:case 27:case 5:return x(t.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return t=nt(t.type,!1),t;case 11:return t=nt(t.type.render,!1),t;case 1:return t=nt(t.type,!0),t;default:return""}}function _e(t){try{var i="";do i+=oe(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function de(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function Fe(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function k(t){if(de(t)!==t)throw Error(a(188))}function re(t){var i=t.alternate;if(!i){if(i=de(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return k(h),t;if(d===l)return k(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function pe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=pe(t),i!==null)return i;t=t.sibling}return null}var ue=Array.isArray,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},we=[],gt=-1;function ze(t){return{current:t}}function ot(t){0>gt||(t.current=we[gt],we[gt]=null,gt--)}function Ke(t,i){gt++,we[gt]=t.current,t.current=i}var Jt=ze(null),Ei=ze(null),En=ze(null),or=ze(null);function lr(t,i){switch(Ke(En,i),Ke(Ei,t),Ke(Jt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?x_(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=x_(t),i=O_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(Jt),Ke(Jt,i)}function Ti(){ot(Jt),ot(Ei),ot(En)}function Io(t){t.memoizedState!==null&&Ke(or,t);var i=Jt.current,s=O_(i,t.type);i!==s&&(Ke(Ei,t),Ke(Jt,s))}function ls(t){Ei.current===t&&(ot(Jt),ot(Ei)),or.current===t&&(ot(or),Il._currentValue=Ie)}var us=Object.prototype.hasOwnProperty,fa=r.unstable_scheduleCallback,cs=r.unstable_cancelCallback,ef=r.unstable_shouldYield,Co=r.unstable_requestPaint,on=r.unstable_now,bu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Nt=r.unstable_UserBlockingPriority,bi=r.unstable_NormalPriority,Au=r.unstable_LowPriority,Do=r.unstable_IdlePriority,tf=r.log,da=r.unstable_setDisableYieldValue,ur=null,Gt=null;function No(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ur,t,void 0,(t.current.flags&128)===128)}catch{}}function Wn(t){if(typeof tf=="function"&&da(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ur,t)}catch{}}var en=Math.clz32?Math.clz32:wu,xo=Math.log,Su=Math.LN2;function wu(t){return t>>>=0,t===0?32:31-(xo(t)/Su|0)|0}var Zn=128,cr=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tn(t,i){var s=t.pendingLanes;if(s===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?l=jn(s):(d&=T,d!==0?l=jn(d):t||(v=T&~v,v!==0&&(l=jn(v))))):(T=s&~h,T!==0?l=jn(T):d!==0?l=jn(d):t||(v=s&~v,v!==0&&(l=jn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function hr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function hs(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var t=Zn;return Zn<<=1,(Zn&4194176)===0&&(Zn=128),t}function fr(){var t=cr;return cr<<=1,(cr&62914560)===0&&(cr=4194304),t}function fs(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ru(t,i,s,l,h,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,j=t.hiddenUpdates;for(s=v&~s;0<s;){var Z=31-en(s),ie=1<<Z;T[Z]=0,D[Z]=-1;var K=j[Z];if(K!==null)for(j[Z]=null,Z=0;Z<K.length;Z++){var X=K[Z];X!==null&&(X.lane&=-536870913)}s&=~ie}l!==0&&dr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function dr(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-en(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function mr(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-en(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function Iu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:X_(t.type))}function pr(t,i){var s=ce.p;try{return ce.p=t,i()}finally{ce.p=s}}var Jn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Jn,At="__reactProps$"+Jn,Ai="__reactContainer$"+Jn,ma="__reactEvents$"+Jn,ds="__reactListeners$"+Jn,ei="__reactHandles$"+Jn,Mo="__reactResources$"+Jn,gr="__reactMarker$"+Jn;function pa(t){delete t[xt],delete t[At],delete t[ma],delete t[ds],delete t[ei]}function zn(t){var i=t[xt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Ai]||s[xt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=k_(t);t!==null;){if(s=t[xt])return s;t=k_(t)}return i}t=s,s=t.parentNode}return null}function Si(t){if(t=t[xt]||t[Ai]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function yr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function _r(t){var i=t[Mo];return i||(i=t[Mo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[gr]=!0}var Vo=new Set,ms={};function fn(t,i){ln(t,i),ln(t+"Capture",i)}function ln(t,i){for(ms[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Po={};function Du(t){return us.call(Po,t)?!0:us.call(ko,t)?!1:nf.test(t)?Po[t]=!0:(ko[t]=!0,!1)}function vr(t,i,s){if(Du(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Er(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function bn(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rf(t){var i=Nu(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ga(t){t._valueTracker||(t._valueTracker=rf(t))}function Lo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Nu(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wi=/[\n"\\]/g;function lt(t){return t.replace(wi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tr(t,i,s,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?gs(t,v,tn(i)):s!=null?gs(t,v,tn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function ya(t,i,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+tn(s):"",i=i!=null?""+tn(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function gs(t,i,s){i==="number"&&ps(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Be(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+tn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function _a(t,i,s){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+tn(s):""}function br(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ue(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=tn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function An(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var af=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||af.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function xu(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Uo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(t,d,i[d])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(t){return of.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Sn=null;function ys(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,Ii=null;function Ci(t){var i=Si(t);if(i&&(t=i.stateNode)){var s=t[At]||null;e:switch(t=i.stateNode,i.type){case"input":if(Tr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+lt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[At]||null;if(!h)throw Error(a(90));Tr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Lo(l)}break e;case"textarea":_a(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Be(t,!!s.multiple,i,!1)}}}var zo=!1;function Ou(t,i,s){if(zo)return t(i,s);zo=!0;try{var l=t(i);return l}finally{if(zo=!1,(Ri!==null||Ii!==null)&&(Ac(),Ri&&(i=Ri,t=Ii,Ii=Ri=null,Ci(i),t)))for(i=0;i<t.length;i++)Ci(t[i])}}function va(t,i){var s=t.stateNode;if(s===null)return null;var l=s[At]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var wn=!1;if(dn)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){wn=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{wn=!1}var ni=null,Ar=null,Di=null;function Bo(){if(Di)return Di;var t,i=Ar,s=i.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===h[d-l];l++);return Di=h.slice(t,1<l?1-l:void 0)}function ii(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function qo(){return!1}function Ot(t){function i(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:qo,this.isPropagationStopped=qo,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Ot(Ge),Ta=N({},Ge,{view:0,detail:0}),Mu=Ot(Ta),vs,Es,ai,ba=N({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(vs=t.screenX-ai.screenX,Es=t.screenY-ai.screenY):Es=vs=0,ai=t),vs)},movementY:function(t){return"movementY"in t?t.movementY:Es}}),Rn=Ot(ba),Vu=N({},ba,{dataTransfer:0}),lf=Ot(Vu),Aa=N({},Ta,{relatedTarget:0}),Ts=Ot(Aa),Ho=N({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),bs=Ot(Ho),ku=N({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),As=Ot(ku),uf=N({},Ge,{data:0}),Fo=Ot(uf),Sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Lu[t])?!!i[t]:!1}function wa(){return Go}var Uu=N({},Ta,{key:function(t){if(t.key){var i=Sa[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ss=Ot(Uu),ju=N({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=Ot(ju),Ni=N({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),zu=Ot(Ni),Bu=N({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),qu=Ot(Bu),Hu=N({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ws=Ot(Hu),nn=N({},Ge,{newState:0,oldState:0}),Fu=Ot(nn),Gu=[9,13,27,32],si=dn&&"CompositionEvent"in window,c=null;dn&&"documentMode"in document&&(c=document.documentMode);var y=dn&&"TextEvent"in window&&!c,_=dn&&(!si||c&&8<c&&11>=c),b=" ",F=!1;function Y(t,i){switch(t){case"keyup":return Gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function St(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(F=!0,b);case"textInput":return t=i.data,t===b&&F?null:t;default:return null}}function Le(t,i){if(Pe)return t==="compositionend"||!si&&Y(t,i)?(t=Bo(),Di=Ar=ni=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mt[t.type]:i==="textarea"}function xi(t,i,s,l){Ri?Ii?Ii.push(l):Ii=[l]:Ri=l,i=Cc(i,"onChange"),0<i.length&&(s=new _s("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Ut=null,oi=null;function Ko(t){R_(t,0)}function $u(t){var i=yr(t);if(Lo(i))return t}function tg(t,i){if(t==="change")return i}var ng=!1;if(dn){var cf;if(dn){var hf="oninput"in document;if(!hf){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),hf=typeof ig.oninput=="function"}cf=hf}else cf=!1;ng=cf&&(!document.documentMode||9<document.documentMode)}function rg(){Ut&&(Ut.detachEvent("onpropertychange",ag),oi=Ut=null)}function ag(t){if(t.propertyName==="value"&&$u(oi)){var i=[];xi(i,oi,t,ys(t)),Ou(Ko,i)}}function qb(t,i,s){t==="focusin"?(rg(),Ut=i,oi=s,Ut.attachEvent("onpropertychange",ag)):t==="focusout"&&rg()}function Hb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(oi)}function Fb(t,i){if(t==="click")return $u(i)}function Gb(t,i){if(t==="input"||t==="change")return $u(i)}function $b(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mn=typeof Object.is=="function"?Object.is:$b;function Qo(t,i){if(mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!us.call(i,h)||!mn(t[h],i[h]))return!1}return!0}function sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,i){var s=sg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=sg(s)}}function lg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?lg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ps(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ps(t.document)}return i}function ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Kb(t,i){var s=ug(i);i=t.focusedElem;var l=t.selectionRange;if(s!==i&&i&&i.ownerDocument&&lg(i.ownerDocument.documentElement,i)){if(l!==null&&ff(i)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(s,i.value.length);else if(s=(t=i.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=og(i,d);var v=og(i,l);h&&v&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==v.node||s.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(t),s.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),s.addRange(t)))}}for(t=[],s=i;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)s=t[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Qb=dn&&"documentMode"in document&&11>=document.documentMode,Rs=null,df=null,Yo=null,mf=!1;function cg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;mf||Rs==null||Rs!==ps(l)||(l=Rs,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=Cc(df,"onSelect"),0<l.length&&(i=new _s("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Rs)))}function Ra(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Is={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},pf={},hg={};dn&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Ia(t){if(pf[t])return pf[t];if(!Is[t])return t;var i=Is[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in hg)return pf[t]=i[s];return t}var fg=Ia("animationend"),dg=Ia("animationiteration"),mg=Ia("animationstart"),Yb=Ia("transitionrun"),Xb=Ia("transitionstart"),Wb=Ia("transitioncancel"),pg=Ia("transitionend"),gg=new Map,yg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bn(t,i){gg.set(t,i),fn(i,[t])}var In=[],Cs=0,gf=0;function Ku(){for(var t=Cs,i=gf=Cs=0;i<t;){var s=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&_g(s,h,d)}}function Qu(t,i,s,l){In[Cs++]=t,In[Cs++]=i,In[Cs++]=s,In[Cs++]=l,gf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yf(t,i,s,l){return Qu(t,i,s,l),Yu(t)}function Sr(t,i){return Qu(t,null,null,i),Yu(t)}function _g(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-en(s),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=s|536870912)}function Yu(t){if(50<El)throw El=0,Ad=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ds={},vg=new WeakMap;function Cn(t,i){if(typeof t=="object"&&t!==null){var s=vg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:_e(i)},vg.set(t,i),i)}return{value:t,source:i,stack:_e(i)}}var Ns=[],xs=0,Xu=null,Wu=0,Dn=[],Nn=0,Ca=null,Oi=1,Mi="";function Da(t,i){Ns[xs++]=Wu,Ns[xs++]=Xu,Xu=t,Wu=i}function Eg(t,i,s){Dn[Nn++]=Oi,Dn[Nn++]=Mi,Dn[Nn++]=Ca,Ca=t;var l=Oi;t=Mi;var h=32-en(l)-1;l&=~(1<<h),s+=1;var d=32-en(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-en(i)+h|s<<h|l,Mi=d+t}else Oi=1<<d|s<<h|l,Mi=t}function _f(t){t.return!==null&&(Da(t,1),Eg(t,1,0))}function vf(t){for(;t===Xu;)Xu=Ns[--xs],Ns[xs]=null,Wu=Ns[--xs],Ns[xs]=null;for(;t===Ca;)Ca=Dn[--Nn],Dn[Nn]=null,Mi=Dn[--Nn],Dn[Nn]=null,Oi=Dn[--Nn],Dn[Nn]=null}var rn=null,jt=null,qe=!1,qn=null,li=!1,Ef=Error(a(519));function Na(t){var i=Error(a(418,""));throw Zo(Cn(i,t)),Ef}function Tg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[xt]=t,i[At]=l,s){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(s=0;s<bl.length;s++)Ve(bl[s],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),ya(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ga(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),br(i,l.value,l.defaultValue,l.children),ga(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||N_(i.textContent,s)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Dc),i=!0):i=!1,i||Na(t)}function bg(t){for(rn=t.return;rn;)switch(rn.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:rn=rn.return}}function Xo(t){if(t!==rn)return!1;if(!qe)return bg(t),qe=!0,!1;var i=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||zd(t.type,t.memoizedProps)),s=!s),s&&(i=!0),i&&jt&&Na(t),bg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){jt=Fn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}jt=null}}else jt=rn?Fn(t.stateNode.nextSibling):null;return!0}function Wo(){jt=rn=null,qe=!1}function Zo(t){qn===null?qn=[t]:qn.push(t)}var Jo=Error(a(460)),Ag=Error(a(474)),Tf={then:function(){}};function Sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zu(){}function wg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Zu,Zu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Jo?Error(a(483)):t;default:if(typeof i.status=="string")i.then(Zu,Zu);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Jo?Error(a(483)):t}throw el=i,Jo}}var el=null;function Rg(){if(el===null)throw Error(a(459));var t=el;return el=null,t}var Os=null,tl=0;function Ju(t){var i=tl;return tl+=1,Os===null&&(Os=[]),wg(Os,t,i)}function nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ec(t,i){throw i.$$typeof===u?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ig(t){var i=t._init;return i(t._payload)}function Cg(t){function i(B,L){if(t){var G=B.deletions;G===null?(B.deletions=[L],B.flags|=16):G.push(L)}}function s(B,L){if(!t)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function h(B,L){return B=Pr(B,L),B.index=0,B.sibling=null,B}function d(B,L,G){return B.index=G,t?(G=B.alternate,G!==null?(G=G.index,G<L?(B.flags|=33554434,L):G):(B.flags|=33554434,L)):(B.flags|=1048576,L)}function v(B){return t&&B.alternate===null&&(B.flags|=33554434),B}function T(B,L,G,ee){return L===null||L.tag!==6?(L=pd(G,B.mode,ee),L.return=B,L):(L=h(L,G),L.return=B,L)}function D(B,L,G,ee){var fe=G.type;return fe===p?Z(B,L,G.props.children,ee,G.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Q&&Ig(fe)===L.type)?(L=h(L,G.props),nl(L,G),L.return=B,L):(L=_c(G.type,G.key,G.props,null,B.mode,ee),nl(L,G),L.return=B,L)}function j(B,L,G,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=gd(G,B.mode,ee),L.return=B,L):(L=h(L,G.children||[]),L.return=B,L)}function Z(B,L,G,ee,fe){return L===null||L.tag!==7?(L=za(G,B.mode,ee,fe),L.return=B,L):(L=h(L,G),L.return=B,L)}function ie(B,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=pd(""+L,B.mode,G),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case f:return G=_c(L.type,L.key,L.props,null,B.mode,G),nl(G,L),G.return=B,G;case m:return L=gd(L,B.mode,G),L.return=B,L;case Q:var ee=L._init;return L=ee(L._payload),ie(B,L,G)}if(ue(L)||se(L))return L=za(L,B.mode,G,null),L.return=B,L;if(typeof L.then=="function")return ie(B,Ju(L),G);if(L.$$typeof===I)return ie(B,pc(B,L),G);ec(B,L)}return null}function K(B,L,G,ee){var fe=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return fe!==null?null:T(B,L,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case f:return G.key===fe?D(B,L,G,ee):null;case m:return G.key===fe?j(B,L,G,ee):null;case Q:return fe=G._init,G=fe(G._payload),K(B,L,G,ee)}if(ue(G)||se(G))return fe!==null?null:Z(B,L,G,ee,null);if(typeof G.then=="function")return K(B,L,Ju(G),ee);if(G.$$typeof===I)return K(B,L,pc(B,G),ee);ec(B,G)}return null}function X(B,L,G,ee,fe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(G)||null,T(L,B,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case f:return B=B.get(ee.key===null?G:ee.key)||null,D(L,B,ee,fe);case m:return B=B.get(ee.key===null?G:ee.key)||null,j(L,B,ee,fe);case Q:var De=ee._init;return ee=De(ee._payload),X(B,L,G,ee,fe)}if(ue(ee)||se(ee))return B=B.get(G)||null,Z(L,B,ee,fe,null);if(typeof ee.then=="function")return X(B,L,G,Ju(ee),fe);if(ee.$$typeof===I)return X(B,L,G,pc(L,ee),fe);ec(L,ee)}return null}function me(B,L,G,ee){for(var fe=null,De=null,ge=L,ve=L=0,Pt=null;ge!==null&&ve<G.length;ve++){ge.index>ve?(Pt=ge,ge=null):Pt=ge.sibling;var He=K(B,ge,G[ve],ee);if(He===null){ge===null&&(ge=Pt);break}t&&ge&&He.alternate===null&&i(B,ge),L=d(He,L,ve),De===null?fe=He:De.sibling=He,De=He,ge=Pt}if(ve===G.length)return s(B,ge),qe&&Da(B,ve),fe;if(ge===null){for(;ve<G.length;ve++)ge=ie(B,G[ve],ee),ge!==null&&(L=d(ge,L,ve),De===null?fe=ge:De.sibling=ge,De=ge);return qe&&Da(B,ve),fe}for(ge=l(ge);ve<G.length;ve++)Pt=X(ge,B,ve,G[ve],ee),Pt!==null&&(t&&Pt.alternate!==null&&ge.delete(Pt.key===null?ve:Pt.key),L=d(Pt,L,ve),De===null?fe=Pt:De.sibling=Pt,De=Pt);return t&&ge.forEach(function(Hr){return i(B,Hr)}),qe&&Da(B,ve),fe}function Ae(B,L,G,ee){if(G==null)throw Error(a(151));for(var fe=null,De=null,ge=L,ve=L=0,Pt=null,He=G.next();ge!==null&&!He.done;ve++,He=G.next()){ge.index>ve?(Pt=ge,ge=null):Pt=ge.sibling;var Hr=K(B,ge,He.value,ee);if(Hr===null){ge===null&&(ge=Pt);break}t&&ge&&Hr.alternate===null&&i(B,ge),L=d(Hr,L,ve),De===null?fe=Hr:De.sibling=Hr,De=Hr,ge=Pt}if(He.done)return s(B,ge),qe&&Da(B,ve),fe;if(ge===null){for(;!He.done;ve++,He=G.next())He=ie(B,He.value,ee),He!==null&&(L=d(He,L,ve),De===null?fe=He:De.sibling=He,De=He);return qe&&Da(B,ve),fe}for(ge=l(ge);!He.done;ve++,He=G.next())He=X(ge,B,ve,He.value,ee),He!==null&&(t&&He.alternate!==null&&ge.delete(He.key===null?ve:He.key),L=d(He,L,ve),De===null?fe=He:De.sibling=He,De=He);return t&&ge.forEach(function(hS){return i(B,hS)}),qe&&Da(B,ve),fe}function ht(B,L,G,ee){if(typeof G=="object"&&G!==null&&G.type===p&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case f:e:{for(var fe=G.key;L!==null;){if(L.key===fe){if(fe=G.type,fe===p){if(L.tag===7){s(B,L.sibling),ee=h(L,G.props.children),ee.return=B,B=ee;break e}}else if(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Q&&Ig(fe)===L.type){s(B,L.sibling),ee=h(L,G.props),nl(ee,G),ee.return=B,B=ee;break e}s(B,L);break}else i(B,L);L=L.sibling}G.type===p?(ee=za(G.props.children,B.mode,ee,G.key),ee.return=B,B=ee):(ee=_c(G.type,G.key,G.props,null,B.mode,ee),nl(ee,G),ee.return=B,B=ee)}return v(B);case m:e:{for(fe=G.key;L!==null;){if(L.key===fe)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){s(B,L.sibling),ee=h(L,G.children||[]),ee.return=B,B=ee;break e}else{s(B,L);break}else i(B,L);L=L.sibling}ee=gd(G,B.mode,ee),ee.return=B,B=ee}return v(B);case Q:return fe=G._init,G=fe(G._payload),ht(B,L,G,ee)}if(ue(G))return me(B,L,G,ee);if(se(G)){if(fe=se(G),typeof fe!="function")throw Error(a(150));return G=fe.call(G),Ae(B,L,G,ee)}if(typeof G.then=="function")return ht(B,L,Ju(G),ee);if(G.$$typeof===I)return ht(B,L,pc(B,G),ee);ec(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(s(B,L.sibling),ee=h(L,G),ee.return=B,B=ee):(s(B,L),ee=pd(G,B.mode,ee),ee.return=B,B=ee),v(B)):s(B,L)}return function(B,L,G,ee){try{tl=0;var fe=ht(B,L,G,ee);return Os=null,fe}catch(ge){if(ge===Jo)throw ge;var De=Vn(29,ge,null,B.mode);return De.lanes=ee,De.return=B,De}finally{}}}var xa=Cg(!0),Dg=Cg(!1),Ms=ze(null),tc=ze(0);function Ng(t,i){t=Fi,Ke(tc,t),Ke(Ms,i),Fi=t|i.baseLanes}function bf(){Ke(tc,Fi),Ke(Ms,Ms.current)}function Af(){Fi=tc.current,ot(Ms),ot(tc)}var xn=ze(null),ui=null;function wr(t){var i=t.alternate;Ke(Rt,Rt.current&1),Ke(xn,t),ui===null&&(i===null||Ms.current!==null||i.memoizedState!==null)&&(ui=t)}function xg(t){if(t.tag===22){if(Ke(Rt,Rt.current),Ke(xn,t),ui===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ui=t)}}else Rr()}function Rr(){Ke(Rt,Rt.current),Ke(xn,xn.current)}function Vi(t){ot(xn),ui===t&&(ui=null),ot(Rt)}var Rt=ze(0);function nc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Jb=r.unstable_scheduleCallback,eA=r.unstable_NormalPriority,It={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new Zb,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&Jb(eA,function(){t.controller.abort()})}var rl=null,wf=0,Vs=0,ks=null;function tA(t,i){if(rl===null){var s=rl=[];wf=0,Vs=xd(),ks={status:"pending",value:void 0,then:function(l){s.push(l)}}}return wf++,i.then(Og,Og),i}function Og(){if(--wf===0&&rl!==null){ks!==null&&(ks.status="fulfilled");var t=rl;rl=null,Vs=0,ks=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Mg=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&tA(t,i),Mg!==null&&Mg(t,i)};var Oa=ze(null);function Rf(){var t=Oa.current;return t!==null?t:We.pooledCache}function ic(t,i){i===null?Ke(Oa,Oa.current):Ke(Oa,i.pool)}function Vg(){var t=Rf();return t===null?null:{parent:It._currentValue,pool:t}}var Ir=0,Ce=null,Qe=null,yt=null,rc=!1,Ps=!1,Ma=!1,ac=0,al=0,Ls=null,iA=0;function mt(){throw Error(a(321))}function If(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!mn(t[s],i[s]))return!1;return!0}function Cf(t,i,s,l,h,d){return Ir=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?Va:Cr,Ma=!1,d=s(l,h),Ma=!1,Ps&&(d=Pg(i,s,l,h)),kg(t),d}function kg(t){S.H=ci;var i=Qe!==null&&Qe.next!==null;if(Ir=0,yt=Qe=Ce=null,rc=!1,al=0,Ls=null,i)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&mc(t)&&(Vt=!0))}function Pg(t,i,s,l){Ce=t;var h=0;do{if(Ps&&(Ls=null),al=0,Ps=!1,25<=h)throw Error(a(301));if(h+=1,yt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=ka,d=i(s,l)}while(Ps);return d}function rA(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Df(){var t=ac!==0;return ac=0,t}function Nf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function xf(t){if(rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}rc=!1}Ir=0,yt=Qe=Ce=null,Ps=!1,al=ac=0,Ls=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ce.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Qe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=yt===null?Ce.memoizedState:yt.next;if(i!==null)yt=i,Qe=t;else{if(t===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},yt===null?Ce.memoizedState=yt=t:yt=yt.next=t}return yt}var sc;sc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sl(t){var i=al;return al+=1,Ls===null&&(Ls=[]),t=wg(Ls,t,i),i=Ce,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Va:Cr),t}function oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===I)return $t(t)}throw Error(a(438,String(t)))}function Of(t){var i=null,s=Ce.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=sc(),Ce.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=W;return i.index++,s}function ki(t,i){return typeof i=="function"?i(t):i}function lc(t){var i=_t();return Mf(i,Qe,t)}function Mf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,D=null,j=i,Z=!1;do{var ie=j.lane&-536870913;if(ie!==j.lane?(Ue&ie)===ie:(Ir&ie)===ie){var K=j.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ie===Vs&&(Z=!0);else if((Ir&K)===K){j=j.next,K===Vs&&(Z=!0);continue}else ie={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=ie,v=d):D=D.next=ie,Ce.lanes|=K,Lr|=K;ie=j.action,Ma&&s(d,ie),d=j.hasEagerState?j.eagerState:s(d,ie)}else K={lane:ie,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=K,v=d):D=D.next=K,Ce.lanes|=ie,Lr|=ie;j=j.next}while(j!==null&&j!==i);if(D===null?v=d:D.next=T,!mn(d,t.memoizedState)&&(Vt=!0,Z&&(s=ks,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Vf(t){var i=_t(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);mn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Lg(t,i,s){var l=Ce,h=_t(),d=qe;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!mn((Qe||h).memoizedState,s);if(v&&(h.memoizedState=s,Vt=!0),h=h.queue,Lf(zg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Us(9,jg.bind(null,l,h,s,i),{destroy:void 0},null),We===null)throw Error(a(349));d||(Ir&60)!==0||Ug(l,i,s)}return s}function Ug(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ce.updateQueue,i===null?(i=sc(),Ce.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function jg(t,i,s,l){i.value=s,i.getSnapshot=l,Bg(i)&&qg(t)}function zg(t,i,s){return s(function(){Bg(i)&&qg(t)})}function Bg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!mn(t,s)}catch{return!0}}function qg(t){var i=Sr(t,2);i!==null&&an(i,t,2)}function kf(t){var i=un();if(typeof t=="function"){var s=t;if(t=s(),Ma){Wn(!0);try{s()}finally{Wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},i}function Hg(t,i,s,l){return t.baseState=s,Mf(t,Qe,typeof l=="function"?l:ki)}function aA(t,i,s,l,h){if(hc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Fg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Fg(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var T=s(h,l),D=S.S;D!==null&&D(v,T),Gg(t,i,T)}catch(j){Pf(t,i,j)}finally{S.T=d}}else try{d=s(h,l),Gg(t,i,d)}catch(j){Pf(t,i,j)}}function Gg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){$g(t,i,l)},function(l){return Pf(t,i,l)}):$g(t,i,s)}function $g(t,i,s){i.status="fulfilled",i.value=s,Kg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Fg(t,s)))}function Pf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Kg(i),i=i.next;while(i!==l)}t.action=null}function Kg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Qg(t,i){return i}function Yg(t,i){if(qe){var s=We.formState;if(s!==null){e:{var l=Ce;if(qe){if(jt){t:{for(var h=jt,d=li;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){jt=Fn(h.nextSibling),l=h.data==="F!";break e}}Na(l)}l=!1}l&&(i=s[0])}}return s=un(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},s.queue=l,s=dy.bind(null,Ce,l),l.dispatch=s,l=kf(!1),d=qf.bind(null,Ce,!1,l.queue),l=un(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=aA.bind(null,Ce,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Xg(t){var i=_t();return Wg(i,Qe,t)}function Wg(t,i,s){i=Mf(t,i,Qg)[0],t=lc(ki)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?sl(i):i;var l=_t(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(Ce.flags|=2048,Us(9,sA.bind(null,h,s),{destroy:void 0},null)),[i,d,t]}function sA(t,i){t.action=i}function Zg(t){var i=_t(),s=Qe;if(s!==null)return Wg(i,s,t);_t(),i=i.memoizedState,s=_t();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Us(t,i,s,l){return t={tag:t,create:i,inst:s,deps:l,next:null},i=Ce.updateQueue,i===null&&(i=sc(),Ce.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Jg(){return _t().memoizedState}function uc(t,i,s,l){var h=un();Ce.flags|=t,h.memoizedState=Us(1|i,s,{destroy:void 0},l===void 0?null:l)}function cc(t,i,s,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&If(l,Qe.memoizedState.deps)?h.memoizedState=Us(i,s,d,l):(Ce.flags|=t,h.memoizedState=Us(1|i,s,d,l))}function ey(t,i){uc(8390656,8,t,i)}function Lf(t,i){cc(2048,8,t,i)}function ty(t,i){return cc(4,2,t,i)}function ny(t,i){return cc(4,4,t,i)}function iy(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ry(t,i,s){s=s!=null?s.concat([t]):null,cc(4,4,iy.bind(null,i,t),s)}function Uf(){}function ay(t,i){var s=_t();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&If(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function sy(t,i){var s=_t();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=t(),Ma){Wn(!0);try{t()}finally{Wn(!1)}}return s.memoizedState=[l,i],l}function jf(t,i,s){return s===void 0||(Ir&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=l_(),Ce.lanes|=t,Lr|=t,s)}function oy(t,i,s,l){return mn(s,i)?s:Ms.current!==null?(t=jf(t,s,l),mn(t,i)||(Vt=!0),t):(Ir&42)===0?(Vt=!0,t.memoizedState=s):(t=l_(),Ce.lanes|=t,Lr|=t,i)}function ly(t,i,s,l,h){var d=ce.p;ce.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,qf(t,!1,i,s);try{var D=h(),j=S.S;if(j!==null&&j(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=nA(D,l);ol(t,i,Z,_n(t))}else ol(t,i,l,_n(t))}catch(ie){ol(t,i,{then:function(){},status:"rejected",reason:ie},_n())}finally{ce.p=d,S.T=v}}function oA(){}function zf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=uy(t).queue;ly(t,h,i,Ie,s===null?oA:function(){return cy(t),s(l)})}function uy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:Ie},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function cy(t){var i=uy(t).next.queue;ol(t,i,{},_n())}function Bf(){return $t(Il)}function hy(){return _t().memoizedState}function fy(){return _t().memoizedState}function lA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=_n();t=xr(s);var l=Or(i,t,s);l!==null&&(an(l,i,s),cl(l,i,s)),i={cache:Sf()},t.payload=i;return}i=i.return}}function uA(t,i,s){var l=_n();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},hc(t)?my(i,s):(s=yf(t,i,s,l),s!==null&&(an(s,t,l),py(s,i,l)))}function dy(t,i,s){var l=_n();ol(t,i,s,l)}function ol(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(hc(t))my(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return Qu(t,i,h,0),We===null&&Ku(),!1}catch{}finally{}if(s=yf(t,i,h,l),s!==null)return an(s,t,l),py(s,i,l),!0}return!1}function qf(t,i,s,l){if(l={lane:2,revertLane:xd(),action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(i)throw Error(a(479))}else i=yf(t,s,l,2),i!==null&&an(i,t,2)}function hc(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function my(t,i){Ps=rc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function py(t,i,s){if((s&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,mr(t,s)}}var ci={readContext:$t,use:oc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};ci.useCacheRefresh=mt,ci.useMemoCache=mt,ci.useHostTransitionStatus=mt,ci.useFormState=mt,ci.useActionState=mt,ci.useOptimistic=mt;var Va={readContext:$t,use:oc,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:ey,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,uc(4194308,4,iy.bind(null,i,t),s)},useLayoutEffect:function(t,i){return uc(4194308,4,t,i)},useInsertionEffect:function(t,i){uc(4,2,t,i)},useMemo:function(t,i){var s=un();i=i===void 0?null:i;var l=t();if(Ma){Wn(!0);try{t()}finally{Wn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=un();if(s!==void 0){var h=s(i);if(Ma){Wn(!0);try{s(i)}finally{Wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=uA.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=kf(t);var i=t.queue,s=dy.bind(null,Ce,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Uf,useDeferredValue:function(t,i){var s=un();return jf(s,t,i)},useTransition:function(){var t=kf(!1);return t=ly.bind(null,Ce,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ce,h=un();if(qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),We===null)throw Error(a(349));(Ue&60)!==0||Ug(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,ey(zg.bind(null,l,d,t),[t]),l.flags|=2048,Us(9,jg.bind(null,l,d,s,i),{destroy:void 0},null),s},useId:function(){var t=un(),i=We.identifierPrefix;if(qe){var s=Mi,l=Oi;s=(l&~(1<<32-en(l)-1)).toString(32)+s,i=":"+i+"R"+s,s=ac++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=iA++,i=":"+i+"r"+s.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return un().memoizedState=lA.bind(null,Ce)}};Va.useMemoCache=Of,Va.useHostTransitionStatus=Bf,Va.useFormState=Yg,Va.useActionState=Yg,Va.useOptimistic=function(t){var i=un();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=qf.bind(null,Ce,!0,s),s.dispatch=i,[t,i]};var Cr={readContext:$t,use:oc,useCallback:ay,useContext:$t,useEffect:Lf,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:lc,useRef:Jg,useState:function(){return lc(ki)},useDebugValue:Uf,useDeferredValue:function(t,i){var s=_t();return oy(s,Qe.memoizedState,t,i)},useTransition:function(){var t=lc(ki)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Lg,useId:hy};Cr.useCacheRefresh=fy,Cr.useMemoCache=Of,Cr.useHostTransitionStatus=Bf,Cr.useFormState=Xg,Cr.useActionState=Xg,Cr.useOptimistic=function(t,i){var s=_t();return Hg(s,Qe,t,i)};var ka={readContext:$t,use:oc,useCallback:ay,useContext:$t,useEffect:Lf,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:Vf,useRef:Jg,useState:function(){return Vf(ki)},useDebugValue:Uf,useDeferredValue:function(t,i){var s=_t();return Qe===null?jf(s,t,i):oy(s,Qe.memoizedState,t,i)},useTransition:function(){var t=Vf(ki)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Lg,useId:hy};ka.useCacheRefresh=fy,ka.useMemoCache=Of,ka.useHostTransitionStatus=Bf,ka.useFormState=Zg,ka.useActionState=Zg,ka.useOptimistic=function(t,i){var s=_t();return Qe!==null?Hg(s,Qe,t,i):(s.baseState=t,[t,s.queue.dispatch])};function Hf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:N({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ff={isMounted:function(t){return(t=t._reactInternals)?de(t)===t:!1},enqueueSetState:function(t,i,s){t=t._reactInternals;var l=_n(),h=xr(l);h.payload=i,s!=null&&(h.callback=s),i=Or(t,h,l),i!==null&&(an(i,t,l),cl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=_n(),h=xr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Or(t,h,l),i!==null&&(an(i,t,l),cl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=_n(),l=xr(s);l.tag=2,i!=null&&(l.callback=i),i=Or(t,l,s),i!==null&&(an(i,t,s),cl(i,t,s))}};function gy(t,i,s,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Qo(s,l)||!Qo(h,d):!0}function yy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Ff.enqueueReplaceState(i,i.state,null)}function Pa(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=N({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _y(t){fc(t)}function vy(t){console.error(t)}function Ey(t){fc(t)}function dc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ty(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,i,s){return s=xr(s),s.tag=3,s.payload={element:null},s.callback=function(){dc(t,i)},s}function by(t){return t=xr(t),t.tag=3,t}function Ay(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ty(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ty(i,s,l),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function cA(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&ul(i,s,h,!0),s=xn.current,s!==null){switch(s.tag){case 13:return ui===null?Rd():s.alternate===null&&ct===0&&(ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Tf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Cd(t,l,h)),!1;case 22:return s.flags|=65536,l===Tf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Cd(t,l,h)),!1}throw Error(a(435,s.tag))}return Cd(t,l,h),Rd(),!1}if(qe)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ef&&(t=Error(a(422),{cause:l}),Zo(Cn(t,s)))):(l!==Ef&&(i=Error(a(423),{cause:l}),Zo(Cn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,s),h=Gf(t.stateNode,l,h),sd(t,h),ct!==4&&(ct=2)),!1;var d=Error(a(520),{cause:l});if(d=Cn(d,s),_l===null?_l=[d]:_l.push(d),ct!==4&&(ct=2),i===null)return!0;l=Cn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Gf(s.stateNode,l,t),sd(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=by(h),Ay(h,t,s,l),sd(s,h),!1}s=s.return}while(s!==null);return!1}var Sy=Error(a(461)),Vt=!1;function zt(t,i,s,l){i.child=t===null?Dg(i,null,s,l):xa(i,t.child,s,l)}function wy(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ua(i),l=Cf(t,i,s,v,d,h),T=Df(),t!==null&&!Vt?(Nf(t,i,h),Pi(t,i,h)):(qe&&T&&_f(i),i.flags|=1,zt(t,i,l,h),i.child)}function Ry(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!md(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Iy(t,i,d,l,h)):(t=_c(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ed(t,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Qo,s(v,l)&&t.ref===i.ref)return Pi(t,i,h)}return i.flags|=1,t=Pr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,ed(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,Pi(t,i,h)}return $f(t,i,s,l,h)}function Cy(t,i,s){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(ll(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Dy(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(i,v!==null?v.cachePool:null),v!==null?Ng(i,v):bf(),xg(i);else return i.lanes=i.childLanes=536870912,Dy(t,i,v!==null?v.baseLanes|s:s,s)}else v!==null?(ic(i,v.cachePool),Ng(i,v),Rr(),i.memoizedState=null):(t!==null&&ic(i,null),bf(),Rr());return zt(t,i,h,s),i.child}function Dy(t,i,s,l){var h=Rf();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&ic(i,null),bf(),xg(i),t!==null&&ul(t,i,l,!0),null}function ll(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=2097664)}}function $f(t,i,s,l,h){return Ua(i),s=Cf(t,i,s,l,void 0,h),l=Df(),t!==null&&!Vt?(Nf(t,i,h),Pi(t,i,h)):(qe&&l&&_f(i),i.flags|=1,zt(t,i,s,h),i.child)}function Ny(t,i,s,l,h,d){return Ua(i),i.updateQueue=null,s=Pg(i,l,s,h),kg(t),l=Df(),t!==null&&!Vt?(Nf(t,i,d),Pi(t,i,d)):(qe&&l&&_f(i),i.flags|=1,zt(t,i,s,d),i.child)}function xy(t,i,s,l,h){if(Ua(i),i.stateNode===null){var d=Ds,v=s.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ff,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},rd(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?$t(v):Ds,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Hf(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ff.enqueueReplaceState(d,d.state,null),fl(i,l,d,h),hl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Pa(s,T);d.props=D;var j=d.context,Z=s.contextType;v=Ds,typeof Z=="object"&&Z!==null&&(v=$t(Z));var ie=s.getDerivedStateFromProps;Z=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&yy(i,d,l,v),Nr=!1;var K=i.memoizedState;d.state=K,fl(i,l,d,h),hl(),j=i.memoizedState,T||K!==j||Nr?(typeof ie=="function"&&(Hf(i,s,ie,l),j=i.memoizedState),(D=Nr||gy(i,s,D,l,K,j,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ad(t,i),v=i.memoizedProps,Z=Pa(s,v),d.props=Z,ie=i.pendingProps,K=d.context,j=s.contextType,D=Ds,typeof j=="object"&&j!==null&&(D=$t(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ie||K!==D)&&yy(i,d,l,D),Nr=!1,K=i.memoizedState,d.state=K,fl(i,l,d,h),hl();var X=i.memoizedState;v!==ie||K!==X||Nr||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof T=="function"&&(Hf(i,s,T,l),X=i.memoizedState),(Z=Nr||gy(i,s,Z,l,K,X,D)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=D,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ll(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=xa(i,t.child,null,h),i.child=xa(i,null,s,h)):zt(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Pi(t,i,h),t}function Oy(t,i,s,l){return Wo(),i.flags|=256,zt(t,i,s,l),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Qf(t){return{baseLanes:t,cachePool:Vg()}}function Yf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=kn),t}function My(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?wr(i):Rr(),qe){var T=jt,D;if(D=T){e:{for(D=T,T=li;D.nodeType!==8;){if(!T){T=null;break e}if(D=Fn(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ca!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912},D=Vn(18,null,null,0),D.stateNode=T,D.return=i,i.child=D,rn=i,jt=null,D=!0):D=!1}D||Na(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Vi(i)}return T=l.children,l=l.fallback,h?(Rr(),h=i.mode,T=Wf({mode:"hidden",children:T},h),l=za(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Qf(s),h.childLanes=Yf(t,v,s),i.memoizedState=Kf,l):(wr(i),Xf(i,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(wr(i),i.flags&=-257,i=Zf(t,i,s)):i.memoizedState!==null?(Rr(),i.child=t.child,i.flags|=128,i=null):(Rr(),h=l.fallback,T=i.mode,l=Wf({mode:"visible",children:l.children},T),h=za(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,xa(i,t.child,null,s),l=i.child,l.memoizedState=Qf(s),l.childLanes=Yf(t,v,s),i.memoizedState=Kf,i=h);else if(wr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(a(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),i=Zf(t,i,s)}else if(Vt||ul(t,i,s,!1),v=(s&t.childLanes)!==0,Vt||v){if(v=We,v!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Sr(t,l),an(v,t,l),Sy}T.data==="$?"||Rd(),i=Zf(t,i,s)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=wA.bind(null,t),T._reactRetry=i,i=null):(t=D.treeContext,jt=Fn(T.nextSibling),rn=i,qe=!0,qn=null,li=!1,t!==null&&(Dn[Nn++]=Oi,Dn[Nn++]=Mi,Dn[Nn++]=Ca,Oi=t.id,Mi=t.overflow,Ca=i),i=Xf(i,l.children),i.flags|=4096);return i}return h?(Rr(),h=l.fallback,T=i.mode,D=t.child,j=D.sibling,l=Pr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,j!==null?h=Pr(j,h):(h=za(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Qf(s):(D=T.cachePool,D!==null?(j=It._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=Vg(),T={baseLanes:T.baseLanes|s,cachePool:D}),h.memoizedState=T,h.childLanes=Yf(t,v,s),i.memoizedState=Kf,l):(wr(i),s=t.child,t=s.sibling,s=Pr(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function Xf(t,i){return i=Wf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Wf(t,i){return a_(t,i,0,null)}function Zf(t,i,s){return xa(i,t.child,null,s),t=Xf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Vy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),nd(t.return,i,s)}function Jf(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function ky(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(zt(t,i,l.children,s),l=Rt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,s,i);else if(t.tag===19)Vy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ke(Rt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&nc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Jf(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&nc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Jf(i,!0,s,null,d);break;case"together":Jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Lr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(ul(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Pr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Pr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function ed(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function hA(t,i,s){switch(i.tag){case 3:lr(i,i.stateNode.containerInfo),Dr(i,It,t.memoizedState.cache),Wo();break;case 27:case 5:Io(i);break;case 4:lr(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(wr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?My(t,i,s):(wr(i),t=Pi(t,i,s),t!==null?t.sibling:null);wr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(ul(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return ky(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ke(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,Cy(t,i,s);case 24:Dr(i,It,t.memoizedState.cache)}return Pi(t,i,s)}function Py(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!ed(t,s)&&(i.flags&128)===0)return Vt=!1,hA(t,i,s);Vt=(t.flags&131072)!==0}else Vt=!1,qe&&(i.flags&1048576)!==0&&Eg(i,Wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")md(l)?(t=Pa(l,t),i.tag=1,i=xy(null,i,l,t,s)):(i.tag=0,i=$f(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===M){i.tag=11,i=wy(null,i,l,t,s);break e}else if(h===$){i.tag=14,i=Ry(null,i,l,t,s);break e}}throw i=R(l)||l,Error(a(306,i,""))}}return i;case 0:return $f(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Pa(l,i.pendingProps),xy(t,i,l,h,s);case 3:e:{if(lr(i,i.stateNode.containerInfo),t===null)throw Error(a(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,ad(t,i),fl(i,d,null,s);var v=i.memoizedState;if(d=v.cache,Dr(i,It,d),d!==h.cache&&id(i,[It],s,!0),hl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Oy(t,i,d,s);break e}else if(d!==l){l=Cn(Error(a(424)),i),Zo(l),i=Oy(t,i,d,s);break e}else for(jt=Fn(i.stateNode.containerInfo.firstChild),rn=i,qe=!0,qn=null,li=!0,s=Dg(i,null,d,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Wo(),d===l){i=Pi(t,i,s);break e}zt(t,i,d,s)}i=i.child}return i;case 26:return ll(t,i),t===null?(s=j_(i.type,null,i.pendingProps,null))?i.memoizedState=s:qe||(s=i.type,t=i.pendingProps,l=Nc(En.current).createElement(s),l[xt]=i,l[At]=t,Bt(l,s,t),it(l),i.stateNode=l):i.memoizedState=j_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Io(i),t===null&&qe&&(l=i.stateNode=P_(i.type,i.pendingProps,En.current),rn=i,li=!0,jt=Fn(l.firstChild)),l=i.pendingProps.children,t!==null||qe?zt(t,i,l,s):i.child=xa(i,null,l,s),ll(t,i),i.child;case 5:return t===null&&qe&&((h=l=jt)&&(l=BA(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,rn=i,jt=Fn(l.firstChild),li=!1,h=!0):h=!1),h||Na(i)),Io(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,zd(h,d)?l=null:v!==null&&zd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Cf(t,i,rA,null,null,s),Il._currentValue=h),ll(t,i),zt(t,i,l,s),i.child;case 6:return t===null&&qe&&((t=s=jt)&&(s=qA(s,i.pendingProps,li),s!==null?(i.stateNode=s,rn=i,jt=null,t=!0):t=!1),t||Na(i)),null;case 13:return My(t,i,s);case 4:return lr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=xa(i,null,l,s):zt(t,i,l,s),i.child;case 11:return wy(t,i,i.type,i.pendingProps,s);case 7:return zt(t,i,i.pendingProps,s),i.child;case 8:return zt(t,i,i.pendingProps.children,s),i.child;case 12:return zt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),zt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ua(i),h=$t(h),l=l(h),i.flags|=1,zt(t,i,l,s),i.child;case 14:return Ry(t,i,i.type,i.pendingProps,s);case 15:return Iy(t,i,i.type,i.pendingProps,s);case 19:return ky(t,i,s);case 22:return Cy(t,i,s);case 24:return Ua(i),l=$t(It),t===null?(h=Rf(),h===null&&(h=We,d=Sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},rd(i),Dr(i,It,h)):((t.lanes&s)!==0&&(ad(t,i),fl(i,null,null,s),hl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,It,l)):(l=d.cache,Dr(i,It,l),l!==h.cache&&id(i,[It],s,!0))),zt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var td=ze(null),La=null,Li=null;function Dr(t,i,s){Ke(td,i._currentValue),i._currentValue=s}function Ui(t){t._currentValue=td.current,ot(td)}function nd(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function id(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),nd(d.return,s,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),nd(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ul(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===or.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&id(i,t,s,l),i.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ua(t){La=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Ly(La,t)}function pc(t,i){return La===null&&Ua(t),Ly(t,i)}function Ly(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Li===null){if(t===null)throw Error(a(308));Li=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Li=Li.next=i;return s}var Nr=!1;function rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Or(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(at&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),_g(t,null,s),i}return Qu(t,l,i,s),Yu(t)}function cl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,mr(t,s)}}function sd(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var od=!1;function hl(){if(od){var t=ks;if(t!==null)throw t}}function fl(t,i,s,l){od=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,j=D.next;D.next=null,v===null?d=j:v.next=j,v=D;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=j:T.next=j,Z.lastBaseUpdate=D))}if(d!==null){var ie=h.baseState;v=0,Z=j=D=null,T=d;do{var K=T.lane&-536870913,X=K!==T.lane;if(X?(Ue&K)===K:(l&K)===K){K!==0&&K===Vs&&(od=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,Ae=T;K=i;var ht=s;switch(Ae.tag){case 1:if(me=Ae.payload,typeof me=="function"){ie=me.call(ht,ie,K);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ae.payload,K=typeof me=="function"?me.call(ht,ie,K):me,K==null)break e;ie=N({},ie,K);break e;case 2:Nr=!0}}K=T.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[K]:X.push(K))}else X={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(j=Z=X,D=ie):Z=Z.next=X,v|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);Z===null&&(D=ie),h.baseState=D,h.firstBaseUpdate=j,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Lr|=v,t.lanes=v,t.memoizedState=ie}}function Uy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function jy(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Uy(s[t],i)}function dl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){Xe(i,i.return,T)}}function Mr(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var D=s;try{T()}catch(j){Xe(h,D,j)}}}l=l.next}while(l!==d)}}catch(j){Xe(i,i.return,j)}}function zy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{jy(i,s)}catch(l){Xe(t,t.return,l)}}}function By(t,i,s){s.props=Pa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xe(t,i,l)}}function ja(t,i){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?t.refCleanup=s(h):s.current=h}}catch(d){Xe(t,i,d)}}function pn(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xe(t,i,h)}else s.current=null}function qy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Xe(t,t.return,h)}}function Hy(t,i,s){try{var l=t.stateNode;PA(l,t.type,s,i),l[At]=i}catch(h){Xe(t,t.return,h)}}function Fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(t,i):s.insertBefore(t,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(t,s)):(i=s,i.appendChild(t)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Dc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(ud(t,i,s),t=t.sibling;t!==null;)ud(t,i,s),t=t.sibling}function gc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(gc(t,i,s),t=t.sibling;t!==null;)gc(t,i,s),t=t.sibling}var ji=!1,ut=!1,cd=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,kt=null,$y=!1;function fA(t,i){if(t=t.containerInfo,Ud=Pc,t=ug(t),ff(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,T=-1,D=-1,j=0,Z=0,ie=t,K=null;t:for(;;){for(var X;ie!==s||h!==0&&ie.nodeType!==3||(T=v+h),ie!==d||l!==0&&ie.nodeType!==3||(D=v+l),ie.nodeType===3&&(v+=ie.nodeValue.length),(X=ie.firstChild)!==null;)K=ie,ie=X;for(;;){if(ie===t)break t;if(K===s&&++j===h&&(T=v),K===d&&++Z===l&&(D=v),(X=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=X}s=T===-1||D===-1?null:{start:T,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(jd={focusedElem:t,selectionRange:s},Pc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var me=Pa(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){Xe(s,s.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Hd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}return me=$y,$y=!1,me}function Ky(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(t,s),l&4&&dl(5,s);break;case 1:if(Bi(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(T){Xe(s,s.return,T)}else{var h=Pa(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Xe(s,s.return,T)}}l&64&&zy(s),l&512&&ja(s,s.return);break;case 3:if(Bi(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{jy(l,t)}catch(T){Xe(s,s.return,T)}}break;case 26:Bi(t,s),l&512&&ja(s,s.return);break;case 27:case 5:Bi(t,s),i===null&&l&4&&qy(s),l&512&&ja(s,s.return);break;case 12:Bi(t,s);break;case 13:Bi(t,s),l&4&&Xy(t,s);break;case 22:if(h=s.memoizedState!==null||ji,!h){i=i!==null&&i.memoizedState!==null||ut;var d=ji,v=ut;ji=h,(ut=i)&&!v?Vr(t,s,(s.subtreeFlags&8772)!==0):Bi(t,s),ji=d,ut=v}l&512&&(s.memoizedProps.mode==="manual"?ja(s,s.return):pn(s,s.return));break;default:Bi(t,s)}}function Qy(t){var i=t.alternate;i!==null&&(t.alternate=null,Qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,gn=!1;function zi(t,i,s){for(s=s.child;s!==null;)Yy(t,i,s),s=s.sibling}function Yy(t,i,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ur,s)}catch{}switch(s.tag){case 26:ut||pn(s,i),zi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ut||pn(s,i);var l=vt,h=gn;for(vt=s.stateNode,zi(t,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);pa(s),vt=l,gn=h;break;case 5:ut||pn(s,i);case 6:h=vt;var d=gn;if(vt=null,zi(t,i,s),vt=h,gn=d,vt!==null)if(gn)try{t=vt,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Xe(s,i,v)}else try{vt.removeChild(s.stateNode)}catch(v){Xe(s,i,v)}break;case 18:vt!==null&&(gn?(i=vt,s=s.stateNode,i.nodeType===8?qd(i.parentNode,s):i.nodeType===1&&qd(i,s),xl(i)):qd(vt,s.stateNode));break;case 4:l=vt,h=gn,vt=s.stateNode.containerInfo,gn=!0,zi(t,i,s),vt=l,gn=h;break;case 0:case 11:case 14:case 15:ut||Mr(2,s,i),ut||Mr(4,s,i),zi(t,i,s);break;case 1:ut||(pn(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&By(s,i,l)),zi(t,i,s);break;case 21:zi(t,i,s);break;case 22:ut||pn(s,i),ut=(l=ut)||s.memoizedState!==null,zi(t,i,s),ut=l;break;default:zi(t,i,s)}}function Xy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(s){Xe(i,i.return,s)}}function dA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Gy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Gy),i;default:throw Error(a(435,t.tag))}}function hd(t,i){var s=dA(t);i.forEach(function(l){var h=RA.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function On(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:vt=T.stateNode,gn=!1;break e;case 3:vt=T.stateNode.containerInfo,gn=!0;break e;case 4:vt=T.stateNode.containerInfo,gn=!0;break e}T=T.return}if(vt===null)throw Error(a(160));Yy(d,v,h),vt=null,gn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Wy(i,t),i=i.sibling}var Hn=null;function Wy(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(i,t),Mn(t),l&4&&(Mr(3,t,t.return),dl(3,t),Mr(5,t,t.return));break;case 1:On(i,t),Mn(t),l&512&&(ut||s===null||pn(s,s.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Hn;if(On(i,t),Mn(t),l&512&&(ut||s===null||pn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gr]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,s),d[xt]=t,it(d),l=d;break e;case"link":var v=q_("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,s),h.head.appendChild(d);break;case"meta":if(v=q_("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[xt]=t,it(d),l=d}t.stateNode=l}else H_(h,t.type,t.stateNode);else t.stateNode=B_(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?H_(h,t.type,t.stateNode):B_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hy(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var D=h.firstChild;D;){var j=D.nextSibling,Z=D.nodeName;D[gr]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&D.rel.toLowerCase()==="stylesheet"||h.removeChild(D),D=j}for(var ie=t.type,K=h.attributes;K.length;)h.removeAttributeNode(K[0]);Bt(h,ie,d),h[xt]=t,h[At]=d}catch(me){Xe(t,t.return,me)}}case 5:if(On(i,t),Mn(t),l&512&&(ut||s===null||pn(s,s.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(me){Xe(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Hy(t,h,s!==null?s.memoizedProps:h)),l&1024&&(cd=!0);break;case 6:if(On(i,t),Mn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(me){Xe(t,t.return,me)}}break;case 3:if(Mc=null,h=Hn,Hn=xc(i.containerInfo),On(i,t),Hn=h,Mn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{xl(i.containerInfo)}catch(me){Xe(t,t.return,me)}cd&&(cd=!1,Zy(t));break;case 4:l=Hn,Hn=xc(t.stateNode.containerInfo),On(i,t),Mn(t),Hn=l;break;case 12:On(i,t),Mn(t);break;case 13:On(i,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ed=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hd(t,l)));break;case 22:if(l&512&&(ut||s===null||pn(s,s.return)),D=t.memoizedState!==null,j=s!==null&&s.memoizedState!==null,Z=ji,ie=ut,ji=Z||D,ut=ie||j,On(i,t),ut=ie,ji=Z,Mn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=ji||ut,s===null||j||i||js(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){j=s=i;try{if(h=j.stateNode,D)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=j.stateNode,T=j.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(me){Xe(j,j.return,me)}}}else if(i.tag===6){if(s===null){j=i;try{j.stateNode.nodeValue=D?"":j.memoizedProps}catch(me){Xe(j,j.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,hd(t,s))));break;case 19:On(i,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hd(t,l)));break;case 21:break;default:On(i,t),Mn(t)}}function Mn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(Fy(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=ld(t);gc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(An(v,""),l.flags&=-33);var T=ld(t);gc(t,T,v);break;case 3:case 4:var D=l.stateNode.containerInfo,j=ld(t);ud(t,j,D);break;default:throw Error(a(161))}}}catch(Z){Xe(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Bi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ky(t,i.alternate,i),i=i.sibling}function js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),js(i);break;case 1:pn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&By(i,i.return,s),js(i);break;case 26:case 27:case 5:pn(i,i.return),js(i);break;case 22:pn(i,i.return),i.memoizedState===null&&js(i);break;default:js(i)}t=t.sibling}}function Vr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(h,d,s),dl(4,d);break;case 1:if(Vr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Xe(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Uy(D[h],T)}catch(j){Xe(l,l.return,j)}}s&&v&64&&zy(d),ja(d,d.return);break;case 26:case 27:case 5:Vr(h,d,s),s&&l===null&&v&4&&qy(d),ja(d,d.return);break;case 12:Vr(h,d,s);break;case 13:Vr(h,d,s),s&&v&4&&Xy(h,d);break;case 22:d.memoizedState===null&&Vr(h,d,s),ja(d,d.return);break;default:Vr(h,d,s)}i=i.sibling}}function fd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&il(s))}function dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t))}function kr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jy(t,i,s,l),i=i.sibling}function Jy(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:kr(t,i,s,l),h&2048&&dl(9,i);break;case 3:kr(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t)));break;case 12:if(h&2048){kr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(i,i.return,D)}}else kr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?kr(t,i,s,l):ml(t,i):d._visibility&4?kr(t,i,s,l):(d._visibility|=4,zs(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&fd(i.alternate,i);break;case 24:kr(t,i,s,l),h&2048&&dd(i.alternate,i);break;default:kr(t,i,s,l)}}function zs(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=s,D=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:zs(d,v,T,D,h),dl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&4?zs(d,v,T,D,h):ml(d,v):(Z._visibility|=4,zs(d,v,T,D,h)),h&&j&2048&&fd(v.alternate,v);break;case 24:zs(d,v,T,D,h),h&&j&2048&&dd(v.alternate,v);break;default:zs(d,v,T,D,h)}i=i.sibling}}function ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:ml(s,l),h&2048&&fd(l.alternate,l);break;case 24:ml(s,l),h&2048&&dd(l.alternate,l);break;default:ml(s,l)}i=i.sibling}}var pl=8192;function Bs(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)e_(t),t=t.sibling}function e_(t){switch(t.tag){case 26:Bs(t),t.flags&pl&&t.memoizedState!==null&&tS(Hn,t.memoizedState,t.memoizedProps);break;case 5:Bs(t);break;case 3:case 4:var i=Hn;Hn=xc(t.stateNode.containerInfo),Bs(t),Hn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=pl,pl=16777216,Bs(t),pl=i):Bs(t));break;default:Bs(t)}}function t_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function gl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];kt=l,i_(l,t)}t_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)n_(t),t=t.sibling}function n_(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,yc(t)):gl(t);break;default:gl(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];kt=l,i_(l,t)}t_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),yc(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,yc(i));break;default:yc(i)}t=t.sibling}}function i_(t,i){for(;kt!==null;){var s=kt;switch(s.tag){case 0:case 11:case 15:Mr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,kt=l;else e:for(s=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(Qy(l),l===s){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}function mA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,i,s,l){return new mA(t,i,s,l)}function md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pr(t,i){var s=t.alternate;return s===null?(s=Vn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function r_(t,i){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function _c(t,i,s,l,h,d){var v=0;if(l=t,typeof t=="function")md(t)&&(v=1);else if(typeof t=="string")v=JA(t,s,Jt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return za(s.children,h,d,i);case g:v=8,h|=24;break;case E:return t=Vn(12,s,i,h|2),t.elementType=E,t.lanes=d,t;case H:return t=Vn(13,s,i,h),t.elementType=H,t.lanes=d,t;case U:return t=Vn(19,s,i,h),t.elementType=U,t.lanes=d,t;case P:return a_(s,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case I:v=10;break e;case w:v=9;break e;case M:v=11;break e;case $:v=14;break e;case Q:v=16,l=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Vn(v,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function za(t,i,s,l){return t=Vn(7,t,l,i),t.lanes=s,t}function a_(t,i,s,l){t=Vn(22,t,l,i),t.elementType=P,t.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var v=Sr(d,2);v!==null&&(h._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var v=Sr(d,2);v!==null&&(h._pendingVisibility&=-3,an(v,d,2))}}};return t.stateNode=h,t}function pd(t,i,s){return t=Vn(6,t,null,i),t.lanes=s,t}function gd(t,i,s){return i=Vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function qi(t){t.flags|=4}function s_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!F_(i)){if(i=xn.current,i!==null&&((Ue&4194176)===Ue?ui!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==ui))throw el=Tf,Ag;t.flags|=8192}}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?fr():536870912,t.lanes|=i,Hs|=i)}function yl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function pA(t,i,s){var l=i.pendingProps;switch(vf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ui(It),Ti(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qn!==null&&(Sd(qn),qn=null))),rt(i),null;case 26:return s=i.memoizedState,t===null?(qi(i),s!==null?(rt(i),s_(i,s)):(rt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(qi(i),rt(i),s_(i,s)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&qi(i),rt(i),i.flags&=-16777217),null;case 27:ls(i),s=En.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=Jt.current,Xo(i)?Tg(i):(t=P_(h,l,s),i.stateNode=t,qi(i))}return rt(i),null;case 5:if(ls(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(t=Jt.current,Xo(i))Tg(i);else{switch(h=Nc(En.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[xt]=i,t[At]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qi(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=En.current,Xo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||N_(t.nodeValue,s)),t||Na(i)}else t=Nc(t).createTextNode(l),t[xt]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xt]=i}else Wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else qn!==null&&(Sd(qn),qn=null),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),vc(i,i.updateQueue),rt(i),null;case 4:return Ti(),t===null&&kd(i.stateNode.containerInfo),rt(i),null;case 10:return Ui(i.type),rt(i),null;case 19:if(ot(Rt),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)yl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=nc(t),d!==null){for(i.flags|=128,yl(h,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)r_(s,t),s=s.sibling;return Ke(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&on()>Ec&&(i.flags|=128,l=!0,yl(h,!1),i.lanes=4194304)}else{if(!l)if(t=nc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),yl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return rt(i),null}else 2*on()-h.renderingStartTime>Ec&&s!==536870912&&(i.flags|=128,l=!0,yl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=on(),i.sibling=null,t=Rt.current,Ke(Rt,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Vi(i),Af(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),s=i.updateQueue,s!==null&&vc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&ot(Oa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ui(It),rt(i),null;case 25:return null}throw Error(a(156,i.tag))}function gA(t,i){switch(vf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ui(It),Ti(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ls(i),null;case 13:if(Vi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Wo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ot(Rt),null;case 4:return Ti(),null;case 10:return Ui(i.type),null;case 22:case 23:return Vi(i),Af(),t!==null&&ot(Oa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ui(It),null;case 25:return null;default:return null}}function o_(t,i){switch(vf(i),i.tag){case 3:Ui(It),Ti();break;case 26:case 27:case 5:ls(i);break;case 4:Ti();break;case 13:Vi(i);break;case 19:ot(Rt);break;case 10:Ui(i.type);break;case 22:case 23:Vi(i),Af(),t!==null&&ot(Oa);break;case 24:Ui(It)}}var yA={getCacheForType:function(t){var i=$t(It),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},_A=typeof WeakMap=="function"?WeakMap:Map,at=0,We=null,Ne=null,Ue=0,Ze=0,yn=null,Hi=!1,qs=!1,yd=!1,Fi=0,ct=0,Lr=0,Ba=0,_d=0,kn=0,Hs=0,_l=null,hi=null,vd=!1,Ed=0,Ec=1/0,Tc=null,Ur=null,bc=!1,qa=null,vl=0,Td=0,bd=null,El=0,Ad=null;function _n(){if((at&2)!==0&&Ue!==0)return Ue&-Ue;if(S.T!==null){var t=Vs;return t!==0?t:xd()}return Cu()}function l_(){kn===0&&(kn=(Ue&536870912)===0||qe?Oo():536870912);var t=xn.current;return t!==null&&(t.flags|=32),kn}function an(t,i,s){(t===We&&Ze===2||t.cancelPendingCommit!==null)&&(Fs(t,0),Gi(t,Ue,kn,!1)),dt(t,s),((at&2)===0||t!==We)&&(t===We&&((at&2)===0&&(Ba|=s),ct===4&&Gi(t,Ue,kn,!1)),fi(t))}function u_(t,i,s){if((at&6)!==0)throw Error(a(327));var l=!s&&(i&60)===0&&(i&t.expiredLanes)===0||hr(t,i),h=l?TA(t,i):Id(t,i,!0),d=l;do{if(h===0){qs&&!l&&Gi(t,i,0,!1);break}else if(h===6)Gi(t,i,0,!Hi);else{if(s=t.current.alternate,d&&!vA(s)){h=Id(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=_l;var D=T.current.memoizedState.isDehydrated;if(D&&(Fs(T,v).flags|=256),v=Id(T,v,!1),v!==2){if(yd&&!D){T.errorRecoveryDisabledLanes|=d,Ba|=d,h=4;break e}d=hi,hi=h,d!==null&&Sd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Fs(t,0),Gi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){Gi(l,i,kn,!Hi);break e}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=i,(i&62914560)===i&&(d=Ed+300-on(),10<d)){if(Gi(l,i,kn,!Hi),Tn(l,0)!==0)break e;l.timeoutHandle=M_(c_.bind(null,l,s,hi,Tc,vd,i,kn,Ba,Hs,Hi,2,-0,0),d);break e}c_(l,s,hi,Tc,vd,i,kn,Ba,Hs,Hi,0,-0,0)}}break}while(!0);fi(t)}function Sd(t){hi===null?hi=t:hi.push.apply(hi,t)}function c_(t,i,s,l,h,d,v,T,D,j,Z,ie,K){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:eS},e_(i),i=nS(),i!==null)){t.cancelPendingCommit=i(y_.bind(null,t,s,l,h,v,T,D,1,ie,K)),Gi(t,d,v,!j);return}y_(t,s,l,h,v,T,D,Z,ie,K)}function vA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gi(t,i,s,l){i&=~_d,i&=~Ba,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&dr(t,s,i)}function Ac(){return(at&6)===0?(Tl(0),!1):!0}function wd(){if(Ne!==null){if(Ze===0)var t=Ne.return;else t=Ne,Li=La=null,xf(t),Os=null,tl=0,t=Ne;for(;t!==null;)o_(t.alternate,t),t=t.return;Ne=null}}function Fs(t,i){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,UA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),wd(),We=t,Ne=s=Pr(t.current,null),Ue=i,Ze=0,yn=null,Hi=!1,qs=hr(t,i),yd=!1,Hs=kn=_d=Ba=Lr=ct=0,hi=_l=null,vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-en(l),d=1<<h;i|=t[h],l&=~d}return Fi=i,Ku(),s}function h_(t,i){Ce=null,S.H=ci,i===Jo?(i=Rg(),Ze=3):i===Ag?(i=Rg(),Ze=4):Ze=i===Sy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Ne===null&&(ct=1,dc(t,Cn(i,t.current)))}function f_(){var t=S.H;return S.H=ci,t===null?ci:t}function d_(){var t=S.A;return S.A=yA,t}function Rd(){ct=4,Hi||(Ue&4194176)!==Ue&&xn.current!==null||(qs=!0),(Lr&134217727)===0&&(Ba&134217727)===0||We===null||Gi(We,Ue,kn,!1)}function Id(t,i,s){var l=at;at|=2;var h=f_(),d=d_();(We!==t||Ue!==i)&&(Tc=null,Fs(t,i)),i=!1;var v=ct;e:do try{if(Ze!==0&&Ne!==null){var T=Ne,D=yn;switch(Ze){case 8:wd(),v=6;break e;case 3:case 2:case 6:xn.current===null&&(i=!0);var j=Ze;if(Ze=0,yn=null,Gs(t,T,D,j),s&&qs){v=0;break e}break;default:j=Ze,Ze=0,yn=null,Gs(t,T,D,j)}}EA(),v=ct;break}catch(Z){h_(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Li=La=null,at=l,S.H=h,S.A=d,Ne===null&&(We=null,Ue=0,Ku()),v}function EA(){for(;Ne!==null;)m_(Ne)}function TA(t,i){var s=at;at|=2;var l=f_(),h=d_();We!==t||Ue!==i?(Tc=null,Ec=on()+500,Fs(t,i)):qs=hr(t,i);e:do try{if(Ze!==0&&Ne!==null){i=Ne;var d=yn;t:switch(Ze){case 1:Ze=0,yn=null,Gs(t,i,d,1);break;case 2:if(Sg(d)){Ze=0,yn=null,p_(i);break}i=function(){Ze===2&&We===t&&(Ze=7),fi(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Sg(d)?(Ze=0,yn=null,p_(i)):(Ze=0,yn=null,Gs(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||F_(v)){Ze=0,yn=null;var D=T.sibling;if(D!==null)Ne=D;else{var j=T.return;j!==null?(Ne=j,Sc(j)):Ne=null}break t}}Ze=0,yn=null,Gs(t,i,d,5);break;case 6:Ze=0,yn=null,Gs(t,i,d,6);break;case 8:wd(),ct=6;break e;default:throw Error(a(462))}}bA();break}catch(Z){h_(t,Z)}while(!0);return Li=La=null,S.H=l,S.A=h,at=s,Ne!==null?0:(We=null,Ue=0,Ku(),ct)}function bA(){for(;Ne!==null&&!ef();)m_(Ne)}function m_(t){var i=Py(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,i===null?Sc(t):Ne=i}function p_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Ny(s,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Ny(s,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:xf(i);default:o_(s,i),i=Ne=r_(i,Fi),i=Py(s,i,Fi)}t.memoizedProps=t.pendingProps,i===null?Sc(t):Ne=i}function Gs(t,i,s,l){Li=La=null,xf(i),Os=null,tl=0;var h=i.return;try{if(cA(t,h,i,s,Ue)){ct=1,dc(t,Cn(s,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ct=1,dc(t,Cn(s,t.current)),Ne=null;return}i.flags&32768?(qe||l===1?t=!0:qs||(Ue&536870912)!==0?t=!1:(Hi=t=!0,(l===2||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),g_(i,t)):Sc(i)}function Sc(t){var i=t;do{if((i.flags&32768)!==0){g_(i,Hi);return}t=i.return;var s=pA(i.alternate,i,Fi);if(s!==null){Ne=s;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ct===0&&(ct=5)}function g_(t,i){do{var s=gA(t.alternate,t);if(s!==null){s.flags&=32767,Ne=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=s}while(t!==null);ct=6,Ne=null}function y_(t,i,s,l,h,d,v,T,D,j){var Z=S.T,ie=ce.p;try{ce.p=2,S.T=null,AA(t,i,s,l,ie,h,d,v,T,D,j)}finally{S.T=Z,ce.p=ie}}function AA(t,i,s,l,h,d,v,T){do $s();while(qa!==null);if((at&6)!==0)throw Error(a(327));var D=t.finishedWork;if(l=t.finishedLanes,D===null)return null;if(t.finishedWork=null,t.finishedLanes=0,D===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var j=D.lanes|D.childLanes;if(j|=gf,Ru(t,l,j,d,v,T),t===We&&(Ne=We=null,Ue=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||bc||(bc=!0,Td=j,bd=s,IA(bi,function(){return $s(),null})),s=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||s?(s=S.T,S.T=null,d=ce.p,ce.p=2,v=at,at|=4,fA(t,D),Wy(D,t),Kb(jd,t.containerInfo),Pc=!!Ud,jd=Ud=null,t.current=D,Ky(t,D.alternate,D),Co(),at=v,ce.p=d,S.T=s):t.current=D,bc?(bc=!1,qa=t,vl=l):__(t,j),j=t.pendingLanes,j===0&&(Ur=null),No(D.stateNode),fi(t),i!==null)for(h=t.onRecoverableError,D=0;D<i.length;D++)j=i[D],h(j.value,{componentStack:j.stack});return(vl&3)!==0&&$s(),j=t.pendingLanes,(l&4194218)!==0&&(j&42)!==0?t===Ad?El++:(El=0,Ad=t):El=0,Tl(0),null}function __(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,il(i)))}function $s(){if(qa!==null){var t=qa,i=Td;Td=0;var s=Iu(vl),l=S.T,h=ce.p;try{if(ce.p=32>s?32:s,S.T=null,qa===null)var d=!1;else{s=bd,bd=null;var v=qa,T=vl;if(qa=null,vl=0,(at&6)!==0)throw Error(a(331));var D=at;if(at|=4,n_(v.current),Jy(v,v.current,T,s),at=D,Tl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ur,v)}catch{}d=!0}return d}finally{ce.p=h,S.T=l,__(t,i)}}return!1}function v_(t,i,s){i=Cn(s,i),i=Gf(t.stateNode,i,2),t=Or(t,i,2),t!==null&&(dt(t,2),fi(t))}function Xe(t,i,s){if(t.tag===3)v_(t,t,s);else for(;i!==null;){if(i.tag===3){v_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){t=Cn(s,t),s=by(2),l=Or(i,s,2),l!==null&&(Ay(s,l,i,t),dt(l,2),fi(l));break}}i=i.return}}function Cd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new _A;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(yd=!0,h.add(s),t=SA.bind(null,t,i,s),i.then(t,t))}function SA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,We===t&&(Ue&s)===s&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>on()-Ed?(at&2)===0&&Fs(t,0):_d|=s,Hs===Ue&&(Hs=0)),fi(t)}function E_(t,i){i===0&&(i=fr()),t=Sr(t,i),t!==null&&(dt(t,i),fi(t))}function wA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),E_(t,s)}function RA(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),E_(t,s)}function IA(t,i){return fa(t,i)}var wc=null,Ks=null,Dd=!1,Rc=!1,Nd=!1,Ha=0;function fi(t){t!==Ks&&t.next===null&&(Ks===null?wc=Ks=t:Ks=Ks.next=t),Rc=!0,Dd||(Dd=!0,DA(CA))}function Tl(t,i){if(!Nd&&Rc){Nd=!0;do for(var s=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,A_(l,d))}else d=Ue,d=Tn(l,l===We?d:0),(d&3)===0||hr(l,d)||(s=!0,A_(l,d));l=l.next}while(s);Nd=!1}}function CA(){Rc=Dd=!1;var t=0;Ha!==0&&(LA()&&(t=Ha),Ha=0);for(var i=on(),s=null,l=wc;l!==null;){var h=l.next,d=T_(l,i);d===0?(l.next=null,s===null?wc=h:s.next=h,h===null&&(Ks=s)):(s=l,(t!==0||(d&3)!==0)&&(Rc=!0)),l=h}Tl(t)}function T_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-en(d),T=1<<v,D=h[v];D===-1?((T&s)===0||(T&l)!==0)&&(h[v]=hs(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=We,s=Ue,s=Tn(t,t===i?s:0),l=t.callbackNode,s===0||t===i&&Ze===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&cs(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||hr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&cs(l),Iu(s)){case 2:case 8:s=Nt;break;case 32:s=bi;break;case 268435456:s=Do;break;default:s=bi}return l=b_.bind(null,t),s=fa(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&cs(l),t.callbackPriority=2,t.callbackNode=null,2}function b_(t,i){var s=t.callbackNode;if($s()&&t.callbackNode!==s)return null;var l=Ue;return l=Tn(t,t===We?l:0),l===0?null:(u_(t,l,i),T_(t,on()),t.callbackNode!=null&&t.callbackNode===s?b_.bind(null,t):null)}function A_(t,i){if($s())return null;u_(t,i,!0)}function DA(t){jA(function(){(at&6)!==0?fa(bt,t):t()})}function xd(){return Ha===0&&(Ha=Oo()),Ha}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ti(""+t)}function w_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function NA(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=S_((h[At]||null).action),v=l.submitter;v&&(i=(i=v[At]||null)?S_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new _s("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ha!==0){var D=v?w_(h,v):new FormData(h);zf(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=v?w_(h,v):new FormData(h),zf(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Od=0;Od<yg.length;Od++){var Md=yg[Od],xA=Md.toLowerCase(),OA=Md[0].toUpperCase()+Md.slice(1);Bn(xA,"on"+OA)}Bn(fg,"onAnimationEnd"),Bn(dg,"onAnimationIteration"),Bn(mg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Yb,"onTransitionRun"),Bn(Xb,"onTransitionStart"),Bn(Wb,"onTransitionCancel"),Bn(pg,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function R_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,j=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(Z){fc(Z)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,j=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(Z){fc(Z)}h.currentTarget=null,d=D}}}}function Ve(t,i){var s=i[ma];s===void 0&&(s=i[ma]=new Set);var l=t+"__bubble";s.has(l)||(I_(i,t,2,!1),s.add(l))}function Vd(t,i,s){var l=0;i&&(l|=4),I_(s,t,l,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Ic]){t[Ic]=!0,Vo.forEach(function(s){s!=="selectionchange"&&(MA.has(s)||Vd(s,!1,t),Vd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,Vd("selectionchange",!1,i))}}function I_(t,i,s,l){switch(X_(i)){case 2:var h=aS;break;case 8:h=sS;break;default:h=Qd}s=h.bind(null,i,s,t),h=void 0,!wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Pd(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;v=v.return}for(;T!==null;){if(v=zn(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Ou(function(){var j=d,Z=ys(s),ie=[];e:{var K=gg.get(t);if(K!==void 0){var X=_s,me=t;switch(t){case"keypress":if(ii(s)===0)break e;case"keydown":case"keyup":X=Ss;break;case"focusin":me="focus",X=Ts;break;case"focusout":me="blur",X=Ts;break;case"beforeblur":case"afterblur":X=Ts;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=zu;break;case fg:case dg:case mg:X=bs;break;case pg:X=qu;break;case"scroll":case"scrollend":X=Mu;break;case"wheel":X=ws;break;case"copy":case"cut":case"paste":X=As;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=$o;break;case"toggle":case"beforetoggle":X=Fu}var Ae=(i&4)!==0,ht=!Ae&&(t==="scroll"||t==="scrollend"),B=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var L=j,G;L!==null;){var ee=L;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||B===null||(ee=va(L,B),ee!=null&&Ae.push(Al(L,ee,G))),ht)break;L=L.return}0<Ae.length&&(K=new X(K,me,null,s,Z),ie.push({event:K,listeners:Ae}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&s!==Sn&&(me=s.relatedTarget||s.fromElement)&&(zn(me)||me[Ai]))break e;if((X||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,X?(me=s.relatedTarget||s.toElement,X=j,me=me?zn(me):null,me!==null&&(ht=de(me),Ae=me.tag,me!==ht||Ae!==5&&Ae!==27&&Ae!==6)&&(me=null)):(X=null,me=j),X!==me)){if(Ae=Rn,ee="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=$o,ee="onPointerLeave",B="onPointerEnter",L="pointer"),ht=X==null?K:yr(X),G=me==null?K:yr(me),K=new Ae(ee,L+"leave",X,s,Z),K.target=ht,K.relatedTarget=G,ee=null,zn(Z)===j&&(Ae=new Ae(B,L+"enter",me,s,Z),Ae.target=G,Ae.relatedTarget=ht,ee=Ae),ht=ee,X&&me)t:{for(Ae=X,B=me,L=0,G=Ae;G;G=Qs(G))L++;for(G=0,ee=B;ee;ee=Qs(ee))G++;for(;0<L-G;)Ae=Qs(Ae),L--;for(;0<G-L;)B=Qs(B),G--;for(;L--;){if(Ae===B||B!==null&&Ae===B.alternate)break t;Ae=Qs(Ae),B=Qs(B)}Ae=null}else Ae=null;X!==null&&C_(ie,K,X,Ae,!1),me!==null&&ht!==null&&C_(ie,ht,me,Ae,!0)}}e:{if(K=j?yr(j):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var fe=tg;else if(wt(K))if(ng)fe=Gb;else{fe=Hb;var De=qb}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?j&&jo(j.elementType)&&(fe=tg):fe=Fb;if(fe&&(fe=fe(t,j))){xi(ie,fe,s,Z);break e}De&&De(t,K,j),t==="focusout"&&j&&K.type==="number"&&j.memoizedProps.value!=null&&gs(K,"number",K.value)}switch(De=j?yr(j):window,t){case"focusin":(wt(De)||De.contentEditable==="true")&&(Rs=De,df=j,Yo=null);break;case"focusout":Yo=df=Rs=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,cg(ie,s,Z);break;case"selectionchange":if(Qb)break;case"keydown":case"keyup":cg(ie,s,Z)}var ge;if(si)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?Y(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(_&&s.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(ge=Bo()):(ni=Z,Ar="value"in ni?ni.value:ni.textContent,Pe=!0)),De=Cc(j,ve),0<De.length&&(ve=new Fo(ve,t,null,s,Z),ie.push({event:ve,listeners:De}),ge?ve.data=ge:(ge=ae(s),ge!==null&&(ve.data=ge)))),(ge=y?St(t,s):Le(t,s))&&(ve=Cc(j,"onBeforeInput"),0<ve.length&&(De=new Fo("onBeforeInput","beforeinput",null,s,Z),ie.push({event:De,listeners:ve}),De.data=ge)),NA(ie,t,j,s,Z)}R_(ie,i)})}function Al(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Cc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=va(t,s),h!=null&&l.unshift(Al(t,h,d)),h=va(t,i),h!=null&&l.push(Al(t,h,d))),t=t.return}return l}function Qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function C_(t,i,s,l,h){for(var d=i._reactName,v=[];s!==null&&s!==l;){var T=s,D=T.alternate,j=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||j===null||(D=j,h?(j=va(s,d),j!=null&&v.unshift(Al(s,j,D))):h||(j=va(s,d),j!=null&&v.push(Al(s,j,D)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var VA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function D_(t){return(typeof t=="string"?t:""+t).replace(VA,`
`).replace(kA,"")}function N_(t,i){return i=D_(i),D_(t)===i}function Dc(){}function Ye(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":Er(t,"class",l);break;case"tabIndex":Er(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(t,s,l);break;case"style":xu(t,l,d);break;case"data":if(i!=="object"){Er(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ti(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ti(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ti(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),vr(t,"popover",l);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=sf.get(s)||s,vr(t,s,l))}}function Ld(t,i,s,l,h,d){switch(s){case"style":xu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ms.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[At]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):vr(t,s,l)}}}function Bt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ye(t,i,d,v,s,null)}}h&&Ye(t,i,"srcSet",s.srcSet,s,null),l&&Ye(t,i,"src",s.src,s,null);return;case"input":Ve("invalid",t);var T=d=v=h=null,D=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":D=Z;break;case"defaultChecked":j=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Ye(t,i,l,Z,s,null)}}ya(t,d,T,D,j,v,h,!1),ga(t);return;case"select":Ve("invalid",t),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ye(t,i,h,T,s,null)}i=d,s=v,t.multiple=!!l,i!=null?Be(t,!!l,i,!1):s!=null&&Be(t,!!l,s,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ye(t,i,v,T,s,null)}br(t,l,h,d),ga(t);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,i,D,l,s,null)}return;case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Ve(bl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ye(t,i,j,l,s,null)}return;default:if(jo(i)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&Ld(t,i,Z,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Ye(t,i,T,l,s,null))}function PA(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,D=null,j=null,Z=null;for(X in s){var ie=s[X];if(s.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ie;default:l.hasOwnProperty(X)||Ye(t,i,X,null,l,ie)}}for(var K in l){var X=l[K];if(ie=s[K],l.hasOwnProperty(K)&&(X!=null||ie!=null))switch(K){case"type":d=X;break;case"name":h=X;break;case"checked":j=X;break;case"defaultChecked":Z=X;break;case"value":v=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==ie&&Ye(t,i,K,X,l,ie)}}Tr(t,v,T,D,j,Z,d,h);return;case"select":X=v=T=K=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(d)||Ye(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==D&&Ye(t,i,h,d,l,D)}i=T,s=v,l=X,K!=null?Be(t,!!s,K,!1):!!l!=!!s&&(i!=null?Be(t,!!s,i,!0):Be(t,!!s,s?[]:"",!1));return;case"textarea":X=K=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Ye(t,i,v,h,l,d)}_a(t,K,X);return;case"option":for(var me in s)if(K=s[me],s.hasOwnProperty(me)&&K!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:Ye(t,i,me,null,l,K)}for(D in l)if(K=l[D],X=s[D],l.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null))switch(D){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ye(t,i,D,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)K=s[Ae],s.hasOwnProperty(Ae)&&K!=null&&!l.hasOwnProperty(Ae)&&Ye(t,i,Ae,null,l,K);for(j in l)if(K=l[j],X=s[j],l.hasOwnProperty(j)&&K!==X&&(K!=null||X!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:Ye(t,i,j,K,l,X)}return;default:if(jo(i)){for(var ht in s)K=s[ht],s.hasOwnProperty(ht)&&K!==void 0&&!l.hasOwnProperty(ht)&&Ld(t,i,ht,void 0,l,K);for(Z in l)K=l[Z],X=s[Z],!l.hasOwnProperty(Z)||K===X||K===void 0&&X===void 0||Ld(t,i,Z,K,l,X);return}}for(var B in s)K=s[B],s.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&Ye(t,i,B,null,l,K);for(ie in l)K=l[ie],X=s[ie],!l.hasOwnProperty(ie)||K===X||K==null&&X==null||Ye(t,i,ie,K,l,X)}var Ud=null,jd=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function x_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function zd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bd=null;function LA(){var t=window.event;return t&&t.type==="popstate"?t===Bd?!1:(Bd=t,!0):(Bd=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(zA)}:M_;function zA(t){setTimeout(function(){throw t})}function qd(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){t.removeChild(h),xl(i);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);xl(i)}function Hd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Hd(s),pa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function BA(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function qA(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Fn(t.nextSibling),t===null))return null;return t}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function k_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function P_(t,i,s){switch(i=Nc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Pn=new Map,L_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var $i=ce.d;ce.d={f:HA,r:FA,D:GA,C:$A,L:KA,m:QA,X:XA,S:YA,M:WA};function HA(){var t=$i.f(),i=Ac();return t||i}function FA(t){var i=Si(t);i!==null&&i.tag===5&&i.type==="form"?cy(i):$i.r(t)}var Ys=typeof document>"u"?null:document;function U_(t,i,s){var l=Ys;if(l&&typeof i=="string"&&i){var h=lt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),L_.has(h)||(L_.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bt(i,"link",t),it(i),l.head.appendChild(i)))}}function GA(t){$i.D(t),U_("dns-prefetch",t,null)}function $A(t,i){$i.C(t,i),U_("preconnect",t,i)}function KA(t,i,s){$i.L(t,i,s);var l=Ys;if(l&&t&&i){var h='link[rel="preload"][as="'+lt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+lt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+lt(s.imageSizes)+'"]')):h+='[href="'+lt(t)+'"]';var d=h;switch(i){case"style":d=Xs(t);break;case"script":d=Ws(t)}Pn.has(d)||(t=N({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Pn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),Bt(i,"link",t),it(i),l.head.appendChild(i)))}}function QA(t,i){$i.m(t,i);var s=Ys;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ws(t)}if(!Pn.has(d)&&(t=N({rel:"modulepreload",href:t},i),Pn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(wl(d)))return}l=s.createElement("link"),Bt(l,"link",t),it(l),s.head.appendChild(l)}}}function YA(t,i,s){$i.S(t,i,s);var l=Ys;if(l&&t){var h=_r(l).hoistableStyles,d=Xs(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Sl(d)))T.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Pn.get(d))&&Fd(t,s);var D=v=l.createElement("link");it(D),Bt(D,"link",t),D._p=new Promise(function(j,Z){D.onload=j,D.onerror=Z}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Oc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function XA(t,i){$i.X(t,i);var s=Ys;if(s&&t){var l=_r(s).hoistableScripts,h=Ws(t),d=l.get(h);d||(d=s.querySelector(wl(h)),d||(t=N({src:t,async:!0},i),(i=Pn.get(h))&&Gd(t,i),d=s.createElement("script"),it(d),Bt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function WA(t,i){$i.M(t,i);var s=Ys;if(s&&t){var l=_r(s).hoistableScripts,h=Ws(t),d=l.get(h);d||(d=s.querySelector(wl(h)),d||(t=N({src:t,async:!0,type:"module"},i),(i=Pn.get(h))&&Gd(t,i),d=s.createElement("script"),it(d),Bt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function j_(t,i,s,l){var h=(h=En.current)?xc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Xs(s.href),s=_r(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Xs(s.href);var d=_r(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Sl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(t,s),d||ZA(h,t,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ws(s),s=_r(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Xs(t){return'href="'+lt(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function z_(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function ZA(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",s),it(i),t.head.appendChild(i))}function Ws(t){return'[src="'+lt(t)+'"]'}function wl(t){return"script[async]"+t}function B_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+lt(s.href)+'"]');if(l)return i.instance=l,it(l),l;var h=N({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),it(l),Bt(l,"style",h),Oc(l,s.precedence,t),i.instance=l;case"stylesheet":h=Xs(s.href);var d=t.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,it(d),d;l=z_(s),(h=Pn.get(h))&&Fd(l,h),d=(t.ownerDocument||t).createElement("link"),it(d);var v=d;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Bt(d,"link",l),i.state.loading|=4,Oc(d,s.precedence,t),i.instance=d;case"script":return d=Ws(s.src),(h=t.querySelector(wl(d)))?(i.instance=h,it(h),h):(l=s,(h=Pn.get(d))&&(l=N({},s),Gd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),it(h),Bt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Oc(l,s.precedence,t));return i.instance}function Oc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Fd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Mc=null;function q_(t,i,s){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(s,l)}else h=Mc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[gr]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function H_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function JA(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function eS(){}function tS(t,i,s){if(Rl===null)throw Error(a(475));var l=Rl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Xs(s.href),d=t.querySelector(Sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,it(d);return}d=t.ownerDocument||t,s=z_(s),(h=Pn.get(h))&&Fd(s,h),d=d.createElement("link"),it(d);var v=d;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Bt(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function nS(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&$d(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&$d(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function $d(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,i.forEach(iS,t),kc=null,Vc.call(t))}function iS(t,i){if(!(i.state.loading&4)){var s=kc.get(t);if(s)var l=s.get(null);else{s=new Map,kc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Il={$$typeof:I,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function rS(t,i,s,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function G_(t,i,s,l,h,d,v,T,D,j,Z,ie){return t=new rS(t,i,s,v,T,D,j,ie),i=1,d===!0&&(i|=24),d=Vn(3,null,null,i),t.current=d,d.stateNode=t,i=Sf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},rd(d),t}function $_(t){return t?(t=Ds,t):Ds}function K_(t,i,s,l,h,d){h=$_(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Or(t,l,i),s!==null&&(an(s,t,i),cl(s,t,i))}function Q_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Kd(t,i){Q_(t,i),(t=t.alternate)&&Q_(t,i)}function Y_(t){if(t.tag===13){var i=Sr(t,67108864);i!==null&&an(i,t,67108864),Kd(t,67108864)}}var Pc=!0;function aS(t,i,s,l){var h=S.T;S.T=null;var d=ce.p;try{ce.p=2,Qd(t,i,s,l)}finally{ce.p=d,S.T=h}}function sS(t,i,s,l){var h=S.T;S.T=null;var d=ce.p;try{ce.p=8,Qd(t,i,s,l)}finally{ce.p=d,S.T=h}}function Qd(t,i,s,l){if(Pc){var h=Yd(l);if(h===null)Pd(t,i,l,Lc,s),W_(t,l);else if(lS(h,t,i,s,l))l.stopPropagation();else if(W_(t,l),i&4&&-1<oS.indexOf(t)){for(;h!==null;){var d=Si(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=jn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-en(v);T.entanglements[1]|=D,v&=~D}fi(d),(at&6)===0&&(Ec=on()+500,Tl(0))}}break;case 13:T=Sr(d,2),T!==null&&an(T,d,2),Ac(),Kd(d,2)}if(d=Yd(l),d===null&&Pd(t,i,l,Lc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(t,i,l,null,s)}}function Yd(t){return t=ys(t),Xd(t)}var Lc=null;function Xd(t){if(Lc=null,t=zn(t),t!==null){var i=de(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=Fe(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Lc=t,null}function X_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bu()){case bt:return 2;case Nt:return 8;case bi:case Au:return 32;case Do:return 268435456;default:return 32}default:return 32}}var Wd=!1,jr=null,zr=null,Br=null,Cl=new Map,Dl=new Map,qr=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(t,i){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Nl(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Si(i),i!==null&&Y_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function lS(t,i,s,l,h){switch(i){case"focusin":return jr=Nl(jr,t,i,s,l,h),!0;case"dragenter":return zr=Nl(zr,t,i,s,l,h),!0;case"mouseover":return Br=Nl(Br,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Nl(Cl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Nl(Dl.get(d)||null,t,i,s,l,h)),!0}return!1}function Z_(t){var i=zn(t.target);if(i!==null){var s=de(i);if(s!==null){if(i=s.tag,i===13){if(i=Fe(s),i!==null){t.blockedOn=i,pr(t.priority,function(){if(s.tag===13){var l=_n(),h=Sr(s,l);h!==null&&an(h,s,l),Kd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Yd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Sn=l,s.target.dispatchEvent(l),Sn=null}else return i=Si(s),i!==null&&Y_(i),t.blockedOn=s,!1;i.shift()}return!0}function J_(t,i,s){Uc(t)&&s.delete(i)}function uS(){Wd=!1,jr!==null&&Uc(jr)&&(jr=null),zr!==null&&Uc(zr)&&(zr=null),Br!==null&&Uc(Br)&&(Br=null),Cl.forEach(J_),Dl.forEach(J_)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,Wd||(Wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uS)))}var zc=null;function ev(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Xd(l||s)===null)continue;break}var d=Si(s);d!==null&&(t.splice(i,3),i-=3,zf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function xl(t){function i(D){return jc(D,t)}jr!==null&&jc(jr,t),zr!==null&&jc(zr,t),Br!==null&&jc(Br,t),Cl.forEach(i),Dl.forEach(i);for(var s=0;s<qr.length;s++){var l=qr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(s=qr[0],s.blockedOn===null);)Z_(s),s.blockedOn===null&&qr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[At]||null;if(typeof d=="function")v||ev(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[At]||null)T=v.formAction;else if(Xd(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),ev(s)}}}function Zd(t){this._internalRoot=t}Bc.prototype.render=Zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=_n();K_(s,l,t,i,null,null)},Bc.prototype.unmount=Zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&$s(),K_(t.current,2,null,t,null,null),Ac(),i[Ai]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cu();t={blockedOn:null,target:t,priority:i};for(var s=0;s<qr.length&&i!==0&&i<qr[s].priority;s++);qr.splice(s,0,t),s===0&&Z_(t)}};var tv=e.version;if(tv!=="19.0.0")throw Error(a(527,tv,"19.0.0"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=re(i),t=t!==null?pe(t):null,t=t===null?null:t.stateNode,t};var cS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{ur=qc.inject(cS),Gt=qc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=_y,d=vy,v=Ey,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=G_(t,1,!1,null,null,s,l,h,d,v,T,null),t[Ai]=i.current,kd(t.nodeType===8?t.parentNode:t),new Zd(i)},Ml.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=_y,v=vy,T=Ey,D=null,j=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(j=s.formState)),i=G_(t,1,!0,i,s??null,l,h,d,v,T,D,j),i.context=$_(null),s=i.current,l=_n(),h=xr(l),h.callback=null,Or(s,h,l),i.current.lanes=l,dt(i,l),fi(i),t[Ai]=i.current,kd(t),new Bc(i)},Ml.version="19.0.0",Ml}var hv;function TS(){if(hv)return tm.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=ES(),tm.exports}var bS=TS(),Vl={},fv;function AS(){if(fv)return Vl;fv=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.parse=f,Vl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,I){const M=new u,H=w.length;if(H<2)return M;const U=(I==null?void 0:I.decode)||E;let $=0;do{const Q=w.indexOf("=",$);if(Q===-1)break;const P=w.indexOf(";",$),W=P===-1?H:P;if(Q>W){$=w.lastIndexOf(";",Q-1)+1;continue}const ne=m(w,$,Q),se=p(w,Q,ne),O=w.slice(ne,se);if(M[O]===void 0){let R=m(w,Q+1,W),S=p(w,W,R);const N=U(w.slice(R,S));M[O]=N}$=W+1}while($<H);return M}function m(w,I,M){do{const H=w.charCodeAt(I);if(H!==32&&H!==9)return I}while(++I<M);return M}function p(w,I,M){for(;I>M;){const H=w.charCodeAt(--I);if(H!==32&&H!==9)return I+1}return M}function g(w,I,M){const H=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const U=H(I);if(!e.test(U))throw new TypeError(`argument val is invalid: ${I}`);let $=w+"="+U;if(!M)return $;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);$+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);$+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);$+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);$+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&($+="; HttpOnly"),M.secure&&($+="; Secure"),M.partitioned&&($+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return $}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return Vl}AS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dv="popstate";function SS(r={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return _m("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Ql(o)}return RS(e,n,null,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $n(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wS(){return Math.random().toString(36).substring(2,10)}function mv(r,e){return{usr:r.state,key:r.key,idx:e}}function _m(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||a||wS()}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _o(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function RS(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let U=E(),$=U==null?null:U-g;g=U,p&&p({action:m,location:H.location,delta:$})}function w(U,$){m="PUSH";let Q=_m(H.location,U,$);g=E()+1;let P=mv(Q,g),W=H.createHref(Q);try{f.pushState(P,"",W)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(W)}u&&p&&p({action:m,location:H.location,delta:1})}function I(U,$){m="REPLACE";let Q=_m(H.location,U,$);g=E();let P=mv(Q,g),W=H.createHref(Q);f.replaceState(P,"",W),u&&p&&p({action:m,location:H.location,delta:0})}function M(U){let $=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof U=="string"?U:Ql(U);return Q=Q.replace(/ $/,"%20"),tt($,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,$)}let H={get action(){return m},get location(){return r(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,A),p=U,()=>{o.removeEventListener(dv,A),p=null}},createHref(U){return e(o,U)},createURL:M,encodeLocation(U){let $=M(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:I,go(U){return f.go(U)}};return H}function Q0(r,e,n="/"){return IS(r,e,n,!1)}function IS(r,e,n,a){let o=typeof e=="string"?_o(e):e,u=na(o.pathname||"/",n);if(u==null)return null;let f=Y0(r);CS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=jS(u);m=LS(f[p],g,a)}return m}function Y0(r,e=[],n=[],a=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Wi([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(tt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Y0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:kS(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of X0(u.path))o(u,f,p)}),e}function X0(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=X0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function CS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:PS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var DS=/^:[\w-]+$/,NS=3,xS=2,OS=1,MS=10,VS=-2,pv=r=>r==="*";function kS(r,e){let n=r.split("/"),a=n.length;return n.some(pv)&&(a+=VS),e&&(a+=xS),n.filter(o=>!pv(o)).reduce((o,u)=>o+(DS.test(u)?NS:u===""?OS:MS),a)}function PS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function LS(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!A&&g&&n&&!a[a.length-1].route.index&&(A=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Wi([u,A.pathname]),pathnameBase:HS(Wi([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=Wi([u,A.pathnameBase]))}return f}function lh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=US(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:A},w)=>{if(E==="*"){let M=m[w]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const I=m[w];return A&&!I?g[E]=void 0:g[E]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function US(r,e=!1,n=!0){$n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function jS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function na(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function zS(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?_o(r):r;return{pathname:n?n.startsWith("/")?n:BS(n,e):e,search:FS(a),hash:GS(o)}}function BS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ym(r){let e=qS(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Xm(r,e,n,a=!1){let o;typeof r=="string"?o=_o(r):(o={...r},tt(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!a&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?e[A]:"/"}let p=zS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Wi=r=>r.join("/").replace(/\/\/+/g,"/"),HS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),FS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,GS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function $S(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var W0=["POST","PUT","PATCH","DELETE"];new Set(W0);var KS=["GET",...W0];new Set(KS);var vo=q.createContext(null);vo.displayName="DataRouter";var Ch=q.createContext(null);Ch.displayName="DataRouterState";var Z0=q.createContext({isTransitioning:!1});Z0.displayName="ViewTransition";var QS=q.createContext(new Map);QS.displayName="Fetchers";var YS=q.createContext(null);YS.displayName="Await";var Yn=q.createContext(null);Yn.displayName="Navigation";var su=q.createContext(null);su.displayName="Location";var Xn=q.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Wm=q.createContext(null);Wm.displayName="RouteError";function XS(r,{relative:e}={}){tt(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=q.useContext(Yn),{hash:o,pathname:u,search:f}=ou(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Wi([n,u])),a.createHref({pathname:m,search:f,hash:o})}function Eo(){return q.useContext(su)!=null}function ua(){return tt(Eo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(su).location}var J0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eE(r){q.useContext(Yn).static||q.useLayoutEffect(r)}function Dh(){let{isDataRoute:r}=q.useContext(Xn);return r?uw():WS()}function WS(){tt(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(vo),{basename:e,navigator:n}=q.useContext(Yn),{matches:a}=q.useContext(Xn),{pathname:o}=ua(),u=JSON.stringify(Ym(a)),f=q.useRef(!1);return eE(()=>{f.current=!0}),q.useCallback((p,g={})=>{if($n(f.current,J0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Xm(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Wi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}q.createContext(null);function tE(){let{matches:r}=q.useContext(Xn),e=r[r.length-1];return e?e.params:{}}function ou(r,{relative:e}={}){let{matches:n}=q.useContext(Xn),{pathname:a}=ua(),o=JSON.stringify(Ym(n));return q.useMemo(()=>Xm(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function ZS(r,e){return nE(r,e)}function nE(r,e,n,a){var Q;tt(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(Yn),{matches:f}=q.useContext(Xn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let P=A&&A.path||"";iE(g,!A||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=ua(),I;if(e){let P=typeof e=="string"?_o(e):e;tt(E==="/"||((Q=P.pathname)==null?void 0:Q.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${P.pathname}" was given in the \`location\` prop.`),I=P}else I=w;let M=I.pathname||"/",H=M;if(E!=="/"){let P=E.replace(/^\//,"").split("/");H="/"+M.replace(/^\//,"").split("/").slice(P.length).join("/")}let U=!u&&n&&n.matches&&n.matches.length>0?n.matches:Q0(r,{pathname:H});$n(A||U!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),$n(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=iw(U&&U.map(P=>Object.assign({},P,{params:Object.assign({},p,P.params),pathname:Wi([E,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?E:Wi([E,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),f,n,a);return e&&$?q.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},$):$}function JS(){let r=lw(),e=$S(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var ew=q.createElement(JS,null),tw=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?q.createElement(Xn.Provider,{value:this.props.routeContext},q.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nw({routeContext:r,match:e,children:n}){let a=q.useContext(vo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Xn.Provider,{value:r},n)}function iw(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,w=!1,I=null,M=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||ew,f&&(m<0&&E===0?(iE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):m===E&&(w=!0,M=g.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,E+1)),U=()=>{let $;return A?$=I:w?$=M:g.route.Component?$=q.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,q.createElement(nw,{match:g,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?q.createElement(tw,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:U(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):U()},null)}function Zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rw(r){let e=q.useContext(vo);return tt(e,Zm(r)),e}function aw(r){let e=q.useContext(Ch);return tt(e,Zm(r)),e}function sw(r){let e=q.useContext(Xn);return tt(e,Zm(r)),e}function Jm(r){let e=sw(r),n=e.matches[e.matches.length-1];return tt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ow(){return Jm("useRouteId")}function lw(){var a;let r=q.useContext(Wm),e=aw("useRouteError"),n=Jm("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function uw(){let{router:r}=rw("useNavigate"),e=Jm("useNavigate"),n=q.useRef(!1);return eE(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{$n(n.current,J0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var gv={};function iE(r,e,n){!e&&!gv[r]&&(gv[r]=!0,$n(!1,n))}q.memo(cw);function cw({routes:r,future:e,state:n}){return nE(r,void 0,n,e)}function hw({to:r,replace:e,state:n,relative:a}){tt(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Yn);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Xn),{pathname:f}=ua(),m=Dh(),p=Xm(r,Ym(u),f,a==="path"),g=JSON.stringify(p);return q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function Gr(r){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fw({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){tt(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=_o(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:w="default"}=n,I=q.useMemo(()=>{let M=na(p,f);return M==null?null:{location:{pathname:M,search:g,hash:E,state:A,key:w},navigationType:a}},[f,p,g,E,A,w,a]);return $n(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:q.createElement(Yn.Provider,{value:m},q.createElement(su.Provider,{children:e,value:I}))}function dw({children:r,location:e}){return ZS(vm(r),e)}function vm(r,e=[]){let n=[];return q.Children.forEach(r,(a,o)=>{if(!q.isValidElement(a))return;let u=[...e,o];if(a.type===q.Fragment){n.push.apply(n,vm(a.props.children,u));return}tt(a.type===Gr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=vm(a.props.children,u)),n.push(f)}),n}var Xc="get",Wc="application/x-www-form-urlencoded";function Nh(r){return r!=null&&typeof r.tagName=="string"}function mw(r){return Nh(r)&&r.tagName.toLowerCase()==="button"}function pw(r){return Nh(r)&&r.tagName.toLowerCase()==="form"}function gw(r){return Nh(r)&&r.tagName.toLowerCase()==="input"}function yw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _w(r,e){return r.button===0&&(!e||e==="_self")&&!yw(r)}var Hc=null;function vw(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var Ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(r){return r!=null&&!Ew.has(r)?($n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):r}function Tw(r,e){let n,a,o,u,f;if(pw(r)){let m=r.getAttribute("action");a=m?na(m,e):null,n=r.getAttribute("method")||Xc,o=sm(r.getAttribute("enctype"))||Wc,u=new FormData(r)}else if(mw(r)||gw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?na(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=sm(r.getAttribute("formenctype"))||sm(m.getAttribute("enctype"))||Wc,u=new FormData(m,r),!vw()){let{name:g,type:E,value:A}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(Nh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,a=null,o=Wc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ep(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function bw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Sw(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await bw(u,n);return f.links?f.links():[]}return[]}));return Cw(a.flat(1).filter(Aw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yv(r,e,n,a,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function ww(r,e,{includeHydrateFallback:n}={}){return Rw(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Rw(r){return[...new Set(r)]}function Iw(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function Cw(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(Iw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function Dw(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Nw(){let r=q.useContext(vo);return ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xw(){let r=q.useContext(Ch);return ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tp=q.createContext(void 0);tp.displayName="FrameworkContext";function rE(){let r=q.useContext(tp);return ep(r,"You must render this element inside a <HydratedRouter> element"),r}function Ow(r,e){let n=q.useContext(tp),[a,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let H=$=>{$.forEach(Q=>{f(Q.isIntersecting)})},U=new IntersectionObserver(H,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[r]),q.useEffect(()=>{if(a){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[a]);let I=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:kl(m,I),onBlur:kl(p,M),onMouseEnter:kl(g,I),onMouseLeave:kl(E,M),onTouchStart:kl(A,I)}]:[!1,w,{}]}function kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Mw({page:r,...e}){let{router:n}=Nw(),a=q.useMemo(()=>Q0(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?q.createElement(kw,{page:r,matches:a,...e}):null}function Vw(r){let{manifest:e,routeModules:n}=rE(),[a,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Sw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function kw({page:r,matches:e,...n}){let a=ua(),{manifest:o,routeModules:u}=rE(),{loaderData:f,matches:m}=xw(),p=q.useMemo(()=>yv(r,e,m,o,a,"data"),[r,e,m,o,a]),g=q.useMemo(()=>yv(r,e,m,o,a,"assets"),[r,e,m,o,a]),E=q.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let I=new Set,M=!1;if(e.forEach(U=>{var Q;let $=o.routes[U.route.id];!$||!$.hasLoader||(!p.some(P=>P.route.id===U.route.id)&&U.route.id in f&&((Q=u[U.route.id])!=null&&Q.shouldRevalidate)||$.hasClientLoader?M=!0:I.add(U.route.id))}),I.size===0)return[];let H=Dw(r);return M&&I.size>0&&H.searchParams.set("_routes",e.filter(U=>I.has(U.route.id)).map(U=>U.route.id).join(",")),[H.pathname+H.search]},[f,a,o,p,e,r,u]),A=q.useMemo(()=>ww(g,o),[g,o]),w=Vw(g);return q.createElement(q.Fragment,null,E.map(I=>q.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>q.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),w.map(({key:I,link:M})=>q.createElement("link",{key:I,...M})))}function Pw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aE&&(window.__reactRouterVersion="7.2.0")}catch{}function Lw({basename:r,children:e,window:n}){let a=q.useRef();a.current==null&&(a.current=SS({window:n,v5Compat:!0}));let o=a.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>f(p))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(fw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var sE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=q.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...w},I){let{basename:M}=q.useContext(Yn),H=typeof g=="string"&&sE.test(g),U,$=!1;if(typeof g=="string"&&H&&(U=g,aE))try{let S=new URL(window.location.href),N=g.startsWith("//")?new URL(S.protocol+g):new URL(g),V=na(N.pathname,M);N.origin===S.origin&&V!=null?g=V+N.search+N.hash:$=!0}catch{$n(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=XS(g,{relative:o}),[P,W,ne]=Ow(a,w),se=Bw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function O(S){e&&e(S),S.defaultPrevented||se(S)}let R=q.createElement("a",{...w,...ne,href:U||Q,onClick:$||u?e:O,ref:Pw(I,W),target:p,"data-discover":!H&&n==="render"?"true":void 0});return P&&!H?q.createElement(q.Fragment,null,R,q.createElement(Mw,{page:Q})):R});hn.displayName="Link";var Uw=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=ou(f,{relative:g.relative}),w=ua(),I=q.useContext(Ch),{navigator:M,basename:H}=q.useContext(Yn),U=I!=null&&$w(A)&&m===!0,$=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,Q=w.pathname,P=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),P=P?P.toLowerCase():null,$=$.toLowerCase()),P&&H&&(P=na(P,H)||P);const W=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ne=Q===$||!o&&Q.startsWith($)&&Q.charAt(W)==="/",se=P!=null&&(P===$||!o&&P.startsWith($)&&P.charAt($.length)==="/"),O={isActive:ne,isPending:se,isTransitioning:U},R=ne?e:void 0,S;typeof a=="function"?S=a(O):S=[a,ne?"active":null,se?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(O):u;return q.createElement(hn,{...g,"aria-current":R,className:S,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(O):p)});Uw.displayName="NavLink";var jw=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Xc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...w},I)=>{let M=Fw(),H=Gw(m,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&sE.test(m),Q=P=>{if(p&&p(P),P.defaultPrevented)return;P.preventDefault();let W=P.nativeEvent.submitter,ne=(W==null?void 0:W.getAttribute("formmethod"))||f;M(W||P.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return q.createElement("form",{ref:I,method:U,action:H,onSubmit:a?p:Q,...w,"data-discover":!$&&r==="render"?"true":void 0})});jw.displayName="Form";function zw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(r){let e=q.useContext(vo);return tt(e,zw(r)),e}function Bw(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Dh(),p=ua(),g=ou(r,{relative:u});return q.useCallback(E=>{if(_w(E,e)){E.preventDefault();let A=n!==void 0?n:Ql(p)===Ql(g);m(r,{replace:A,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,a,e,r,o,u,f])}var qw=0,Hw=()=>`__${String(++qw)}__`;function Fw(){let{router:r}=oE("useSubmit"),{basename:e}=q.useContext(Yn),n=ow();return q.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Tw(a,e);if(o.navigate===!1){let E=o.fetcherKey||Hw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Gw(r,{relative:e}={}){let{basename:n}=q.useContext(Yn),a=q.useContext(Xn);tt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...ou(r||".",{relative:e})},f=ua();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wi([n,u.pathname])),Ql(u)}function $w(r,e={}){let n=q.useContext(Z0);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=oE("useViewTransitionState"),o=ou(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=na(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=na(n.nextLocation.pathname,a)||n.nextLocation.pathname;return lh(o.pathname,f)!=null||lh(o.pathname,u)!=null}new TextEncoder;function lE(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=lE(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function Ka(){for(var r,e,n=0,a="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=lE(r))&&(a&&(a+=" "),a+=e);return a}function Kw(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}Kw(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var lu=r=>typeof r=="number"&&!isNaN(r),Qa=r=>typeof r=="string",er=r=>typeof r=="function",Qw=r=>Qa(r)||lu(r),Em=r=>Qa(r)||er(r)?r:null,Yw=(r,e)=>r===!1||lu(r)&&r>0?r:e,Tm=r=>q.isValidElement(r)||Qa(r)||er(r)||lu(r);function Xw(r,e,n=300){let{scrollHeight:a,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=a+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function Ww({enter:r,exit:e,appendPosition:n=!1,collapse:a=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:A}){let w=n?`${r}--${f}`:r,I=n?`${e}--${f}`:e,M=q.useRef(0);return q.useLayoutEffect(()=>{let H=g.current,U=w.split(" "),$=Q=>{Q.target===g.current&&(A(),H.removeEventListener("animationend",$),H.removeEventListener("animationcancel",$),M.current===0&&Q.type!=="animationcancel"&&H.classList.remove(...U))};H.classList.add(...U),H.addEventListener("animationend",$),H.addEventListener("animationcancel",$)},[]),q.useEffect(()=>{let H=g.current,U=()=>{H.removeEventListener("animationend",U),a?Xw(H,p,o):p()};E||(m?U():(M.current=1,H.className+=` ${I}`,H.addEventListener("animationend",U)))},[E]),et.createElement(et.Fragment,null,u)}}function _v(r,e){return{content:uE(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function uE(r,e,n=!1){return q.isValidElement(r)&&!Qa(r.type)?q.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):er(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):r}function Zw({closeToast:r,theme:e,ariaLabel:n="close"}){return et.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:a=>{a.stopPropagation(),r(!0)},"aria-label":n},et.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},et.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Jw({delay:r,isRunning:e,closeToast:n,type:a="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:E}){let A=o||f&&m===0,w={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};f&&(w.transform=`scaleX(${m})`);let I=Ka("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":p}),M=er(u)?u({rtl:p,type:a,defaultClassName:I}):Ka(I,u),H={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return et.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},et.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${a}`}),et.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:M,style:w,...H}))}var eR=1,cE=()=>`${eR++}`;function tR(r,e,n){let a=1,o=0,u=[],f=[],m=e,p=new Map,g=new Set,E=Q=>(g.add(Q),()=>g.delete(Q)),A=()=>{f=Array.from(p.values()),g.forEach(Q=>Q())},w=({containerId:Q,toastId:P,updateId:W})=>{let ne=Q?Q!==r:r!==1,se=p.has(P)&&W==null;return ne||se},I=(Q,P)=>{p.forEach(W=>{var ne;(P==null||P===W.props.toastId)&&((ne=W.toggle)==null||ne.call(W,Q))})},M=Q=>{var P,W;(W=(P=Q.props)==null?void 0:P.onClose)==null||W.call(P,Q.removalReason),Q.isActive=!1},H=Q=>{if(Q==null)p.forEach(M);else{let P=p.get(Q);P&&M(P)}A()},U=()=>{o-=u.length,u=[]},$=Q=>{var P,W;let{toastId:ne,updateId:se}=Q.props,O=se==null;Q.staleId&&p.delete(Q.staleId),Q.isActive=!0,p.set(ne,Q),A(),n(_v(Q,O?"added":"updated")),O&&((W=(P=Q.props).onOpen)==null||W.call(P))};return{id:r,props:m,observe:E,toggle:I,removeToast:H,toasts:p,clearQueue:U,buildToast:(Q,P)=>{if(w(P))return;let{toastId:W,updateId:ne,data:se,staleId:O,delay:R}=P,S=ne==null;S&&o++;let N={...m,style:m.toastStyle,key:a++,...Object.fromEntries(Object.entries(P).filter(([z,x])=>x!=null)),toastId:W,updateId:ne,data:se,isIn:!1,className:Em(P.className||m.toastClassName),progressClassName:Em(P.progressClassName||m.progressClassName),autoClose:P.isLoading?!1:Yw(P.autoClose,m.autoClose),closeToast(z){p.get(W).removalReason=z,H(W)},deleteToast(){let z=p.get(W);if(z!=null){if(n(_v(z,"removed")),p.delete(W),o--,o<0&&(o=0),u.length>0){$(u.shift());return}A()}}};N.closeButton=m.closeButton,P.closeButton===!1||Tm(P.closeButton)?N.closeButton=P.closeButton:P.closeButton===!0&&(N.closeButton=Tm(m.closeButton)?m.closeButton:!0);let V={content:Q,props:N,staleId:O};m.limit&&m.limit>0&&o>m.limit&&S?u.push(V):lu(R)?setTimeout(()=>{$(V)},R):$(V)},setProps(Q){m=Q},setToggle:(Q,P)=>{let W=p.get(Q);W&&(W.toggle=P)},isToastActive:Q=>{var P;return(P=p.get(Q))==null?void 0:P.isActive},getSnapshot:()=>f}}var sn=new Map,Yl=[],bm=new Set,nR=r=>bm.forEach(e=>e(r)),hE=()=>sn.size>0;function iR(){Yl.forEach(r=>dE(r.content,r.options)),Yl=[]}var rR=(r,{containerId:e})=>{var n;return(n=sn.get(e||1))==null?void 0:n.toasts.get(r)};function fE(r,e){var n;if(e)return!!((n=sn.get(e))!=null&&n.isToastActive(r));let a=!1;return sn.forEach(o=>{o.isToastActive(r)&&(a=!0)}),a}function aR(r){if(!hE()){Yl=Yl.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||Qw(r))sn.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=sn.get(r.containerId);e?e.removeToast(r.id):sn.forEach(n=>{n.removeToast(r.id)})}}var sR=(r={})=>{sn.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function dE(r,e){Tm(r)&&(hE()||Yl.push({content:r,options:e}),sn.forEach(n=>{n.buildToast(r,e)}))}function oR(r){var e;(e=sn.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function mE(r,e){sn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(r,e==null?void 0:e.id)})}function lR(r){let e=r.containerId||1;return{subscribe(n){let a=tR(e,r,nR);sn.set(e,a);let o=a.observe(n);return iR(),()=>{o(),sn.delete(e)}},setProps(n){var a;(a=sn.get(e))==null||a.setProps(n)},getSnapshot(){var n;return(n=sn.get(e))==null?void 0:n.getSnapshot()}}}function uR(r){return bm.add(r),()=>{bm.delete(r)}}function cR(r){return r&&(Qa(r.toastId)||lu(r.toastId))?r.toastId:cE()}function uu(r,e){return dE(r,e),e.toastId}function xh(r,e){return{...e,type:e&&e.type||r,toastId:cR(e)}}function Oh(r){return(e,n)=>uu(e,xh(r,n))}function xe(r,e){return uu(r,xh("default",e))}xe.loading=(r,e)=>uu(r,xh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function hR(r,{pending:e,error:n,success:a},o){let u;e&&(u=Qa(e)?xe.loading(e,o):xe.loading(e.render,{...o,...e}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,A)=>{if(E==null){xe.dismiss(u);return}let w={type:g,...f,...o,data:A},I=Qa(E)?{render:E}:E;return u?xe.update(u,{...w,...I}):xe(I.render,{...w,...I}),A},p=er(r)?r():r;return p.then(g=>m("success",a,g)).catch(g=>m("error",n,g)),p}xe.promise=hR;xe.success=Oh("success");xe.info=Oh("info");xe.error=Oh("error");xe.warning=Oh("warning");xe.warn=xe.warning;xe.dark=(r,e)=>uu(r,xh("default",{theme:"dark",...e}));function fR(r){aR(r)}xe.dismiss=fR;xe.clearWaitingQueue=sR;xe.isActive=fE;xe.update=(r,e={})=>{let n=rR(r,e);if(n){let{props:a,content:o}=n,u={delay:100,...a,...e,toastId:e.toastId||r,updateId:cE()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,uu(f,u)}};xe.done=r=>{xe.update(r,{progress:1})};xe.onChange=uR;xe.play=r=>mE(!0,r);xe.pause=r=>mE(!1,r);function dR(r){var e;let{subscribe:n,getSnapshot:a,setProps:o}=q.useRef(lR(r)).current;o(r);let u=(e=q.useSyncExternalStore(n,a,a))==null?void 0:e.slice();function f(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:fE,count:u==null?void 0:u.length}}function mR(r){let[e,n]=q.useState(!1),[a,o]=q.useState(!1),u=q.useRef(null),f=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:A}=r;oR({id:r.toastId,containerId:r.containerId,fn:n}),q.useEffect(()=>{if(r.pauseOnFocusLoss)return w(),()=>{I()}},[r.pauseOnFocusLoss]);function w(){document.hasFocus()||$(),window.addEventListener("focus",U),window.addEventListener("blur",$)}function I(){window.removeEventListener("focus",U),window.removeEventListener("blur",$)}function M(O){if(r.draggable===!0||r.draggable===O.pointerType){Q();let R=u.current;f.canCloseOnClick=!0,f.canDrag=!0,R.style.transition="none",r.draggableDirection==="x"?(f.start=O.clientX,f.removalDistance=R.offsetWidth*(r.draggablePercent/100)):(f.start=O.clientY,f.removalDistance=R.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function H(O){let{top:R,bottom:S,left:N,right:V}=u.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&r.pauseOnHover&&O.clientX>=N&&O.clientX<=V&&O.clientY>=R&&O.clientY<=S?$():U()}function U(){n(!0)}function $(){n(!1)}function Q(){f.didMove=!1,document.addEventListener("pointermove",W),document.addEventListener("pointerup",ne)}function P(){document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",ne)}function W(O){let R=u.current;if(f.canDrag&&R){f.didMove=!0,e&&$(),r.draggableDirection==="x"?f.delta=O.clientX-f.start:f.delta=O.clientY-f.start,f.start!==O.clientX&&(f.canCloseOnClick=!1);let S=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;R.style.transform=`translate3d(${S},0)`,R.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function ne(){P();let O=u.current;if(f.canDrag&&f.didMove&&O){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let se={onPointerDown:M,onPointerUp:H};return m&&p&&(se.onMouseEnter=$,r.stacked||(se.onMouseLeave=U)),A&&(se.onClick=O=>{E&&E(O),f.canCloseOnClick&&g(!0)}),{playToast:U,pauseToast:$,isRunning:e,preventExitTransition:a,toastRef:u,eventHandlers:se}}var pR=typeof window<"u"?q.useLayoutEffect:q.useEffect,Mh=({theme:r,type:e,isLoading:n,...a})=>et.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...a});function gR(r){return et.createElement(Mh,{...r},et.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function yR(r){return et.createElement(Mh,{...r},et.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function _R(r){return et.createElement(Mh,{...r},et.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function vR(r){return et.createElement(Mh,{...r},et.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function ER(){return et.createElement("div",{className:"Toastify__spinner"})}var Am={info:yR,warning:gR,success:_R,error:vR,spinner:ER},TR=r=>r in Am;function bR({theme:r,type:e,isLoading:n,icon:a}){let o=null,u={theme:r,type:e};return a===!1||(er(a)?o=a({...u,isLoading:n}):q.isValidElement(a)?o=q.cloneElement(a,u):n?o=Am.spinner():TR(e)&&(o=Am[e](u))),o}var AR=r=>{let{isRunning:e,preventExitTransition:n,toastRef:a,eventHandlers:o,playToast:u}=mR(r),{closeButton:f,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:A,closeToast:w,transition:I,position:M,className:H,style:U,progressClassName:$,updateId:Q,role:P,progress:W,rtl:ne,toastId:se,deleteToast:O,isIn:R,isLoading:S,closeOnClick:N,theme:V,ariaLabel:z}=r,x=Ka("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":ne},{"Toastify__toast--close-on-click":N}),ft=er(H)?H({rtl:ne,position:M,type:E,defaultClassName:x}):Ka(x,H),nt=bR(r),oe=!!W||!p,_e={closeToast:w,type:E,theme:V},de=null;return f===!1||(er(f)?de=f(_e):q.isValidElement(f)?de=q.cloneElement(f,_e):de=Zw(_e)),et.createElement(I,{isIn:R,done:O,position:M,preventExitTransition:n,nodeRef:a,playToast:u},et.createElement("div",{id:se,tabIndex:0,onClick:g,"data-in":R,className:ft,...o,style:U,ref:a,...R&&{role:P,"aria-label":z}},nt!=null&&et.createElement("div",{className:Ka("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},nt),uE(m,r,!e),de,!r.customProgressBar&&et.createElement(Jw,{...Q&&!oe?{key:`p-${Q}`}:{},rtl:ne,theme:V,delay:p,isRunning:e,isIn:R,closeToast:w,hide:A,type:E,className:$,controlledProgress:oe,progress:W||0})))},SR=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),wR=Ww(SR("bounce",!0)),RR={position:"top-right",transition:wR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function IR(r){let e={...RR,...r},n=r.stacked,[a,o]=q.useState(!0),u=q.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=dR(e),{className:g,style:E,rtl:A,containerId:w,hotKeys:I}=e;function M(U){let $=Ka("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":A});return er(g)?g({position:U,rtl:A,defaultClassName:$}):Ka($,Em(g))}function H(){n&&(o(!0),xe.play())}return pR(()=>{var U;if(n){let $=u.current.querySelectorAll('[data-in="true"]'),Q=12,P=(U=e.position)==null?void 0:U.includes("top"),W=0,ne=0;Array.from($).reverse().forEach((se,O)=>{let R=se;R.classList.add("Toastify__toast--stacked"),O>0&&(R.dataset.collapsed=`${a}`),R.dataset.pos||(R.dataset.pos=P?"top":"bot");let S=W*(a?.2:1)+(a?0:Q*O);R.style.setProperty("--y",`${P?S:S*-1}px`),R.style.setProperty("--g",`${Q}`),R.style.setProperty("--s",`${1-(a?ne:0)}`),W+=R.offsetHeight,ne+=.025})}},[a,p,n]),q.useEffect(()=>{function U($){var Q;let P=u.current;I($)&&((Q=P.querySelector('[tabIndex="0"]'))==null||Q.focus(),o(!1),xe.pause()),$.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(o(!0),xe.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[I]),et.createElement("section",{ref:u,className:"Toastify",id:w,onMouseEnter:()=>{n&&(o(!1),xe.pause())},onMouseLeave:H,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},f((U,$)=>{let Q=$.length?{...E}:{...E,pointerEvents:"none"};return et.createElement("div",{tabIndex:-1,className:M(U),"data-stacked":n,style:Q,key:`c-${U}`},$.map(({content:P,props:W})=>et.createElement(AR,{...W,stacked:n,collapseAll:H,isIn:m(W.toastId,W.containerId),key:`t-${W.key}`},P)))}))}const cu=q.createContext();function CR({children:r}){const[e,n]=q.useState(()=>{const m=localStorage.getItem("carrito");return m?JSON.parse(m):[]});q.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]);const a=m=>{n(p=>p.find(E=>E.id===m.id&&E.colorSeleccionado===m.colorSeleccionado&&E.tallaSeleccionada===m.tallaSeleccionada)?(xe.success("Se actualizó la cantidad del producto"),p.map(E=>E.id===m.id&&E.colorSeleccionado===m.colorSeleccionado&&E.tallaSeleccionada===m.tallaSeleccionada?{...E,cantidad:E.cantidad+1}:E)):(xe.success("Producto agregado al carrito"),[...p,m]))},o=(m,p,g)=>{n(E=>{const A=E.filter(w=>!(w.id===m&&w.colorSeleccionado===p&&w.tallaSeleccionada===g));return xe.info("Producto eliminado del carrito"),A})},u=(m,p,g,E)=>{E<1||(n(A=>A.map(w=>w.id===m&&w.colorSeleccionado===p&&w.tallaSeleccionada===g?{...w,cantidad:E}:w)),xe.success("Cantidad actualizada"))},f=()=>e.reduce((m,p)=>m+p.cantidad,0);return C.jsx(cu.Provider,{value:{carrito:e,agregarAlCarrito:a,eliminarDelCarrito:o,actualizarCantidad:u,getTotalItems:f},children:r})}function DR(){const{getTotalItems:r}=q.useContext(cu),e=r();return C.jsxs("nav",{className:"navbar",children:[C.jsx("div",{className:"navbar-logo",children:C.jsx("h1",{children:C.jsx(hn,{to:"/",children:"Urban Style"})})}),C.jsx("div",{className:"navbar-categories",children:C.jsxs("ul",{children:[C.jsx("li",{children:C.jsx(hn,{to:"/categoria/gorras",children:"Gorras"})}),C.jsx("li",{children:C.jsx(hn,{to:"/categoria/ropa-mujer",children:"Ropa mujer"})}),C.jsx("li",{children:C.jsx(hn,{to:"/categoria/ropa-hombre",children:"Ropa Hombre"})}),C.jsx("li",{children:C.jsx(hn,{to:"/sobre-nosotros",children:"Sobre Nosotros"})})]})}),C.jsx("div",{className:"navbar-cart",children:C.jsxs(hn,{to:"/carrito",children:["🛒",e>0&&C.jsx("span",{className:"cart-count",children:e})]})})]})}function NR(){return C.jsx("div",{className:"top-banner",children:C.jsx("p",{children:"🛍️ Pague solo al recibirlo - Envíos Gratis a todo puerto la cruz"})})}function xR(){return C.jsx("section",{className:"hero",children:C.jsx("div",{className:"hero-image",children:C.jsxs("div",{className:"hero-content",children:[C.jsx("h2",{children:"Estilo Urbano"}),C.jsx("h3",{children:"Todo lo que amas en un lugar"}),C.jsx("p",{children:"la mejor forma de comprar sin colas,sin espera."})]})})})}function OR(){return C.jsxs("section",{className:"categories",id:"categories",children:[C.jsx("h2",{className:"categories-title",children:"Nuestras Categorías"}),C.jsx("div",{className:"categories-container",children:C.jsxs("div",{className:"categories-grid",children:[C.jsx("div",{className:"category-card",children:C.jsx(hn,{to:"/categoria/gorras",children:C.jsx("img",{src:"/img/categories/img1.svg",alt:"Gorras"})})}),C.jsx("div",{className:"category-card",children:C.jsx(hn,{to:"/categoria/ropa-mujer",children:C.jsx("img",{src:"/img/categories/img1.svg",alt:"Ropa Mujer"})})}),C.jsx("div",{className:"category-card",children:C.jsx(hn,{to:"/categoria/ropa-hombre",children:C.jsx("img",{src:"/img/categories/img1.svg",alt:"Ropa Hombre"})})})]})})]})}const MR=()=>{};var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},VR=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,I=g&63;p||(I=64,f||(w=64)),a.push(n[E],n[A],n[w],n[I])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(pE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):VR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new kR;const w=u<<2|m>>4;if(a.push(w),g!==64){const I=m<<4&240|g>>2;if(a.push(I),A!==64){const M=g<<6&192|A;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PR=function(r){const e=pE(r);return gE.encodeByteArray(e,!0)},uh=function(r){return PR(r).replace(/\./g,"")},yE=function(r){try{return gE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=()=>LR().__FIREBASE_DEFAULTS__,jR=()=>{if(typeof process>"u"||typeof vv>"u")return;const r=vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&yE(r[1]);return e&&JSON.parse(e)},Vh=()=>{try{return MR()||UR()||jR()||zR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_E=r=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},BR=r=>{const e=_E(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},vE=()=>{var r;return(r=Vh())===null||r===void 0?void 0:r.config},EE=r=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function GR(){var r;const e=(r=Vh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function XR(){return!GR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WR(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="FirebaseError";class ar extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=JR,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?e1(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ar(o,m,a)}}function e1(r,e){return r.replace(t1,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const t1=/\{\$([^}]+)}/g;function n1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ya(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(Ev(u)&&Ev(f)){if(!Ya(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Ev(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ll(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function i1(r,e){const n=new r1(r,e);return n.subscribe.bind(n)}class r1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");a1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=om),o.error===void 0&&(o.error=om),o.complete===void 0&&(o.complete=om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r){return r&&r._delegate?r._delegate:r}class Xa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new qR;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l1(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:o1(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(r){return r===Fa?void 0:r}function l1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const c1={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},h1=Oe.INFO,f1={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},d1=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=f1[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=h1,this._logHandler=d1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const m1=(r,e)=>e.some(n=>r instanceof n);let Tv,bv;function p1(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g1(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,Sm=new WeakMap,bE=new WeakMap,lm=new WeakMap,ip=new WeakMap;function y1(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Wr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&TE.set(n,r)}).catch(()=>{}),ip.set(e,r),e}function _1(r){if(Sm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Sm.set(r,e)}let wm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Sm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function v1(r){wm=r(wm)}function E1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(um(this),e,...n);return bE.set(a,e.sort?e.sort():[e]),Wr(a)}:g1().includes(r)?function(...e){return r.apply(um(this),e),Wr(TE.get(this))}:function(...e){return Wr(r.apply(um(this),e))}}function T1(r){return typeof r=="function"?E1(r):(r instanceof IDBTransaction&&_1(r),m1(r,p1())?new Proxy(r,wm):r)}function Wr(r){if(r instanceof IDBRequest)return y1(r);if(lm.has(r))return lm.get(r);const e=T1(r);return e!==r&&(lm.set(r,e),ip.set(e,r)),e}const um=r=>ip.get(r);function b1(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Wr(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Wr(f.result),p.oldVersion,p.newVersion,Wr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const A1=["get","getKey","getAll","getAllKeys","count"],S1=["put","add","delete","clear"],cm=new Map;function Av(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=S1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||A1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return cm.set(e,u),u}v1(r=>({...r,get:(e,n,a)=>Av(e,n)||r.get(e,n,a),has:(e,n)=>!!Av(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function R1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rm="@firebase/app",Sv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new np("@firebase/app"),I1="@firebase/app-compat",C1="@firebase/analytics-compat",D1="@firebase/analytics",N1="@firebase/app-check-compat",x1="@firebase/app-check",O1="@firebase/auth",M1="@firebase/auth-compat",V1="@firebase/database",k1="@firebase/data-connect",P1="@firebase/database-compat",L1="@firebase/functions",U1="@firebase/functions-compat",j1="@firebase/installations",z1="@firebase/installations-compat",B1="@firebase/messaging",q1="@firebase/messaging-compat",H1="@firebase/performance",F1="@firebase/performance-compat",G1="@firebase/remote-config",$1="@firebase/remote-config-compat",K1="@firebase/storage",Q1="@firebase/storage-compat",Y1="@firebase/firestore",X1="@firebase/vertexai",W1="@firebase/firestore-compat",Z1="firebase",J1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",eI={[Rm]:"fire-core",[I1]:"fire-core-compat",[D1]:"fire-analytics",[C1]:"fire-analytics-compat",[x1]:"fire-app-check",[N1]:"fire-app-check-compat",[O1]:"fire-auth",[M1]:"fire-auth-compat",[V1]:"fire-rtdb",[k1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[L1]:"fire-fn",[U1]:"fire-fn-compat",[j1]:"fire-iid",[z1]:"fire-iid-compat",[B1]:"fire-fcm",[q1]:"fire-fcm-compat",[H1]:"fire-perf",[F1]:"fire-perf-compat",[G1]:"fire-rc",[$1]:"fire-rc-compat",[K1]:"fire-gcs",[Q1]:"fire-gcs-compat",[Y1]:"fire-fst",[W1]:"fire-fst-compat",[X1]:"fire-vertex","fire-js":"fire-js",[Z1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,tI=new Map,Cm=new Map;function wv(r,e){try{r.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function lo(r){const e=r.name;if(Cm.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,r);for(const n of ch.values())wv(n,r);for(const n of tI.values())wv(n,r);return!0}function rp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ln(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new hu("app","Firebase",nI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=J1;function AE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Im,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=vE()),!n)throw Zr.create("no-options");const u=ch.get(o);if(u){if(Ya(n,u.options)&&Ya(a,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new u1(o);for(const p of Cm.values())f.addComponent(p);const m=new iI(n,a,f);return ch.set(o,m),m}function SE(r=Im){const e=ch.get(r);if(!e&&r===Im&&vE())return AE();if(!e)throw Zr.create("no-app",{appName:r});return e}function Jr(r,e,n){var a;let o=(a=eI[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(m.join(" "));return}lo(new Xa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebase-heartbeat-database",aI=1,Xl="firebase-heartbeat-store";let hm=null;function wE(){return hm||(hm=b1(rI,aI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),hm}async function sI(r){try{const n=(await wE()).transaction(Xl),a=await n.objectStore(Xl).get(RE(r));return await n.done,a}catch(e){if(e instanceof ar)tr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tr.warn(n.message)}}}async function Rv(r,e){try{const a=(await wE()).transaction(Xl,"readwrite");await a.objectStore(Xl).put(e,RE(r)),await a.done}catch(n){if(n instanceof ar)tr.warn(n.message);else{const a=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(a.message)}}}function RE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=1024,lI=30;class uI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Iv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>lI){const f=fI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){tr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iv(),{heartbeatsToSend:a,unsentEntries:o}=cI(this._heartbeatsCache.heartbeats),u=uh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return tr.warn(n),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function cI(r,e=oI){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Cv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Cv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class hI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Cv(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function fI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r){lo(new Xa("platform-logger",e=>new w1(e),"PRIVATE")),lo(new Xa("heartbeat",e=>new uI(e),"PRIVATE")),Jr(Rm,Sv,r),Jr(Rm,Sv,"esm2017"),Jr("fire-js","")}dI("");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,IE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function S(){}S.prototype=R.prototype,O.D=R.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(N,V,z){for(var x=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)x[ft-2]=arguments[ft];return R.prototype[V].apply(N,x)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,S){S||(S=0);var N=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)N[V]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(V=0;16>V;++V)N[V]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=O.g[0],S=O.g[1],V=O.g[2];var z=O.g[3],x=R+(z^S&(V^z))+N[0]+3614090360&4294967295;R=S+(x<<7&4294967295|x>>>25),x=z+(V^R&(S^V))+N[1]+3905402710&4294967295,z=R+(x<<12&4294967295|x>>>20),x=V+(S^z&(R^S))+N[2]+606105819&4294967295,V=z+(x<<17&4294967295|x>>>15),x=S+(R^V&(z^R))+N[3]+3250441966&4294967295,S=V+(x<<22&4294967295|x>>>10),x=R+(z^S&(V^z))+N[4]+4118548399&4294967295,R=S+(x<<7&4294967295|x>>>25),x=z+(V^R&(S^V))+N[5]+1200080426&4294967295,z=R+(x<<12&4294967295|x>>>20),x=V+(S^z&(R^S))+N[6]+2821735955&4294967295,V=z+(x<<17&4294967295|x>>>15),x=S+(R^V&(z^R))+N[7]+4249261313&4294967295,S=V+(x<<22&4294967295|x>>>10),x=R+(z^S&(V^z))+N[8]+1770035416&4294967295,R=S+(x<<7&4294967295|x>>>25),x=z+(V^R&(S^V))+N[9]+2336552879&4294967295,z=R+(x<<12&4294967295|x>>>20),x=V+(S^z&(R^S))+N[10]+4294925233&4294967295,V=z+(x<<17&4294967295|x>>>15),x=S+(R^V&(z^R))+N[11]+2304563134&4294967295,S=V+(x<<22&4294967295|x>>>10),x=R+(z^S&(V^z))+N[12]+1804603682&4294967295,R=S+(x<<7&4294967295|x>>>25),x=z+(V^R&(S^V))+N[13]+4254626195&4294967295,z=R+(x<<12&4294967295|x>>>20),x=V+(S^z&(R^S))+N[14]+2792965006&4294967295,V=z+(x<<17&4294967295|x>>>15),x=S+(R^V&(z^R))+N[15]+1236535329&4294967295,S=V+(x<<22&4294967295|x>>>10),x=R+(V^z&(S^V))+N[1]+4129170786&4294967295,R=S+(x<<5&4294967295|x>>>27),x=z+(S^V&(R^S))+N[6]+3225465664&4294967295,z=R+(x<<9&4294967295|x>>>23),x=V+(R^S&(z^R))+N[11]+643717713&4294967295,V=z+(x<<14&4294967295|x>>>18),x=S+(z^R&(V^z))+N[0]+3921069994&4294967295,S=V+(x<<20&4294967295|x>>>12),x=R+(V^z&(S^V))+N[5]+3593408605&4294967295,R=S+(x<<5&4294967295|x>>>27),x=z+(S^V&(R^S))+N[10]+38016083&4294967295,z=R+(x<<9&4294967295|x>>>23),x=V+(R^S&(z^R))+N[15]+3634488961&4294967295,V=z+(x<<14&4294967295|x>>>18),x=S+(z^R&(V^z))+N[4]+3889429448&4294967295,S=V+(x<<20&4294967295|x>>>12),x=R+(V^z&(S^V))+N[9]+568446438&4294967295,R=S+(x<<5&4294967295|x>>>27),x=z+(S^V&(R^S))+N[14]+3275163606&4294967295,z=R+(x<<9&4294967295|x>>>23),x=V+(R^S&(z^R))+N[3]+4107603335&4294967295,V=z+(x<<14&4294967295|x>>>18),x=S+(z^R&(V^z))+N[8]+1163531501&4294967295,S=V+(x<<20&4294967295|x>>>12),x=R+(V^z&(S^V))+N[13]+2850285829&4294967295,R=S+(x<<5&4294967295|x>>>27),x=z+(S^V&(R^S))+N[2]+4243563512&4294967295,z=R+(x<<9&4294967295|x>>>23),x=V+(R^S&(z^R))+N[7]+1735328473&4294967295,V=z+(x<<14&4294967295|x>>>18),x=S+(z^R&(V^z))+N[12]+2368359562&4294967295,S=V+(x<<20&4294967295|x>>>12),x=R+(S^V^z)+N[5]+4294588738&4294967295,R=S+(x<<4&4294967295|x>>>28),x=z+(R^S^V)+N[8]+2272392833&4294967295,z=R+(x<<11&4294967295|x>>>21),x=V+(z^R^S)+N[11]+1839030562&4294967295,V=z+(x<<16&4294967295|x>>>16),x=S+(V^z^R)+N[14]+4259657740&4294967295,S=V+(x<<23&4294967295|x>>>9),x=R+(S^V^z)+N[1]+2763975236&4294967295,R=S+(x<<4&4294967295|x>>>28),x=z+(R^S^V)+N[4]+1272893353&4294967295,z=R+(x<<11&4294967295|x>>>21),x=V+(z^R^S)+N[7]+4139469664&4294967295,V=z+(x<<16&4294967295|x>>>16),x=S+(V^z^R)+N[10]+3200236656&4294967295,S=V+(x<<23&4294967295|x>>>9),x=R+(S^V^z)+N[13]+681279174&4294967295,R=S+(x<<4&4294967295|x>>>28),x=z+(R^S^V)+N[0]+3936430074&4294967295,z=R+(x<<11&4294967295|x>>>21),x=V+(z^R^S)+N[3]+3572445317&4294967295,V=z+(x<<16&4294967295|x>>>16),x=S+(V^z^R)+N[6]+76029189&4294967295,S=V+(x<<23&4294967295|x>>>9),x=R+(S^V^z)+N[9]+3654602809&4294967295,R=S+(x<<4&4294967295|x>>>28),x=z+(R^S^V)+N[12]+3873151461&4294967295,z=R+(x<<11&4294967295|x>>>21),x=V+(z^R^S)+N[15]+530742520&4294967295,V=z+(x<<16&4294967295|x>>>16),x=S+(V^z^R)+N[2]+3299628645&4294967295,S=V+(x<<23&4294967295|x>>>9),x=R+(V^(S|~z))+N[0]+4096336452&4294967295,R=S+(x<<6&4294967295|x>>>26),x=z+(S^(R|~V))+N[7]+1126891415&4294967295,z=R+(x<<10&4294967295|x>>>22),x=V+(R^(z|~S))+N[14]+2878612391&4294967295,V=z+(x<<15&4294967295|x>>>17),x=S+(z^(V|~R))+N[5]+4237533241&4294967295,S=V+(x<<21&4294967295|x>>>11),x=R+(V^(S|~z))+N[12]+1700485571&4294967295,R=S+(x<<6&4294967295|x>>>26),x=z+(S^(R|~V))+N[3]+2399980690&4294967295,z=R+(x<<10&4294967295|x>>>22),x=V+(R^(z|~S))+N[10]+4293915773&4294967295,V=z+(x<<15&4294967295|x>>>17),x=S+(z^(V|~R))+N[1]+2240044497&4294967295,S=V+(x<<21&4294967295|x>>>11),x=R+(V^(S|~z))+N[8]+1873313359&4294967295,R=S+(x<<6&4294967295|x>>>26),x=z+(S^(R|~V))+N[15]+4264355552&4294967295,z=R+(x<<10&4294967295|x>>>22),x=V+(R^(z|~S))+N[6]+2734768916&4294967295,V=z+(x<<15&4294967295|x>>>17),x=S+(z^(V|~R))+N[13]+1309151649&4294967295,S=V+(x<<21&4294967295|x>>>11),x=R+(V^(S|~z))+N[4]+4149444226&4294967295,R=S+(x<<6&4294967295|x>>>26),x=z+(S^(R|~V))+N[11]+3174756917&4294967295,z=R+(x<<10&4294967295|x>>>22),x=V+(R^(z|~S))+N[2]+718787259&4294967295,V=z+(x<<15&4294967295|x>>>17),x=S+(z^(V|~R))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+z&4294967295}a.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var S=R-this.blockSize,N=this.B,V=this.h,z=0;z<R;){if(V==0)for(;z<=S;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(N[V++]=O.charCodeAt(z++),V==this.blockSize){o(this,N),V=0;break}}else for(;z<R;)if(N[V++]=O[z++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=R},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var S=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=S&255,S/=256;for(this.u(O),O=Array(16),R=S=0;4>R;++R)for(var N=0;32>N;N+=8)O[S++]=this.g[R]>>>N&255;return O};function u(O,R){var S=m;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=R(O)}function f(O,R){this.h=R;for(var S=[],N=!0,V=O.length-1;0<=V;V--){var z=O[V]|0;N&&z==R||(S[V]=z,N=!1)}this.g=S}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return U(g(-O));for(var R=[],S=1,N=0;O>=S;N++)R[N]=O/S|0,S*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return U(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(R,8)),N=A,V=0;V<O.length;V+=8){var z=Math.min(8,O.length-V),x=parseInt(O.substring(V,V+z),R);8>z?(z=g(Math.pow(R,z)),N=N.j(z).add(g(x))):(N=N.j(S),N=N.add(g(x)))}return N}var A=p(0),w=p(1),I=p(16777216);r=f.prototype,r.m=function(){if(H(this))return-U(this).m();for(var O=0,R=1,S=0;S<this.g.length;S++){var N=this.i(S);O+=(0<=N?N:4294967296+N)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if(H(this))return"-"+U(this).toString(O);for(var R=g(Math.pow(O,6)),S=this,N="";;){var V=W(S,R).g;S=$(S,V.j(R));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=V,M(S))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function H(O){return O.h==-1}r.l=function(O){return O=$(this,O),H(O)?-1:M(O)?0:1};function U(O){for(var R=O.g.length,S=[],N=0;N<R;N++)S[N]=~O.g[N];return new f(S,~O.h).add(w)}r.abs=function(){return H(this)?U(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],N=0,V=0;V<=R;V++){var z=N+(this.i(V)&65535)+(O.i(V)&65535),x=(z>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);N=x>>>16,z&=65535,x&=65535,S[V]=x<<16|z}return new f(S,S[S.length-1]&-2147483648?-1:0)};function $(O,R){return O.add(U(R))}r.j=function(O){if(M(this)||M(O))return A;if(H(this))return H(O)?U(this).j(U(O)):U(U(this).j(O));if(H(O))return U(this.j(U(O)));if(0>this.l(I)&&0>O.l(I))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,S=[],N=0;N<2*R;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<O.g.length;V++){var z=this.i(N)>>>16,x=this.i(N)&65535,ft=O.i(V)>>>16,nt=O.i(V)&65535;S[2*N+2*V]+=x*nt,Q(S,2*N+2*V),S[2*N+2*V+1]+=z*nt,Q(S,2*N+2*V+1),S[2*N+2*V+1]+=x*ft,Q(S,2*N+2*V+1),S[2*N+2*V+2]+=z*ft,Q(S,2*N+2*V+2)}for(N=0;N<R;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=R;N<2*R;N++)S[N]=0;return new f(S,0)};function Q(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function P(O,R){this.g=O,this.h=R}function W(O,R){if(M(R))throw Error("division by zero");if(M(O))return new P(A,A);if(H(O))return R=W(U(O),R),new P(U(R.g),U(R.h));if(H(R))return R=W(O,U(R)),new P(U(R.g),R.h);if(30<O.g.length){if(H(O)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var S=w,N=R;0>=N.l(O);)S=ne(S),N=ne(N);var V=se(S,1),z=se(N,1);for(N=se(N,2),S=se(S,2);!M(N);){var x=z.add(N);0>=x.l(O)&&(V=V.add(S),z=x),N=se(N,1),S=se(S,1)}return R=$(O,V.j(R)),new P(V,R)}for(V=A;0<=O.l(R);){for(S=Math.max(1,Math.floor(O.m()/R.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=g(S),x=z.j(R);H(x)||0<x.l(O);)S-=N,z=g(S),x=z.j(R);M(z)&&(z=w),V=V.add(z),O=$(O,x)}return new P(V,O)}r.A=function(O){return W(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],N=0;N<R;N++)S[N]=this.i(N)&O.i(N);return new f(S,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],N=0;N<R;N++)S[N]=this.i(N)|O.i(N);return new f(S,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],N=0;N<R;N++)S[N]=this.i(N)^O.i(N);return new f(S,this.h^O.h)};function ne(O){for(var R=O.g.length+1,S=[],N=0;N<R;N++)S[N]=O.i(N)<<1|O.i(N-1)>>>31;return new f(S,O.h)}function se(O,R){var S=R>>5;R%=32;for(var N=O.g.length-S,V=[],z=0;z<N;z++)V[z]=0<R?O.i(z+S)>>>R|O.i(z+S+1)<<32-R:O.i(z+S);return new f(V,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,IE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ea=f}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CE,Ul,DE,Zc,Dm,NE,xE,OE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var F=c[b];if(!(F in _))break e;_=_[F]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,F={next:function(){if(!b&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,b),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function I(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,F,Y){for(var ae=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ae[Pe-2]=arguments[Pe];return y.prototype[F].apply(b,ae)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const F=c.length||0,Y=b.length||0;c.length=F+Y;for(let ae=0;ae<Y;ae++)c[F+ae]=b[ae]}else c.push(b)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function P(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var ne=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function se(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(_ in b)c[_]=b[_];for(let Y=0;Y<S.length;Y++)_=S[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Fe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ft{constructor(){this.h=this.g=null}add(y,_){const b=nt.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var nt=new $(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,de=!1,Fe=new ft,k=()=>{const c=m.Promise.resolve(void 0);_e=()=>{c.then(re)}};var re=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){z(_)}var y=nt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ne){e:{try{W(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}M(Ie,ue);var we={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function ot(c,y,_,b,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=F,this.key=++ze,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Jt(c){this.src=c,this.g={},this.h=0}Jt.prototype.add=function(c,y,_,b,F){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ae=En(c,y,b,F);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new ot(y,this.src,Y,!!b,F),y.fa=_,c.push(y)),y};function Ei(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],F=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(b,F,1),Y&&(Ke(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function En(c,y,_,b){for(var F=0;F<c.length;++F){var Y=c[F];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==b)return F}return-1}var or="closure_lm_"+(1e6*Math.random()|0),lr={};function Ti(c,y,_,b,F){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ti(c,y[Y],_,b,F);return null}return _=bu(_),c&&c[gt]?c.K(y,_,g(b)?!!b.capture:!1,F):Io(c,y,_,!1,b,F)}function Io(c,y,_,b,F,Y){if(!y)throw Error("Invalid event type");var ae=g(F)?!!F.capture:!!F,Pe=Co(c);if(Pe||(c[or]=Pe=new Jt(c)),_=Pe.add(y,_,b,ae,Y),_.proxy)return _;if(b=ls(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ce||(F=ae),F===void 0&&(F=!1),c.addEventListener(y.toString(),b,F);else if(c.attachEvent)c.attachEvent(cs(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ls(){function c(_){return y.call(c.src,c.listener,_)}const y=ef;return c}function us(c,y,_,b,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)us(c,y[Y],_,b,F);else b=g(b)?!!b.capture:!!b,_=bu(_),c&&c[gt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=En(Y,_,b,F),-1<_&&(Ke(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Co(c))&&(y=c.g[y.toString()],c=-1,y&&(c=En(y,_,b,F)),(_=-1<c?y[c]:null)&&fa(_))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])Ei(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(cs(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Co(y))?(Ei(_,c),_.h==0&&(_.src=null,y[or]=null)):Ke(c)}}}function cs(c){return c in lr?lr[c]:lr[c]="on"+c}function ef(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&fa(c),c=_.call(b,y)}return c}function Co(c){return c=c[or],c instanceof Jt?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function bu(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function bt(){pe.call(this),this.i=new Jt(this),this.M=this,this.F=null}M(bt,pe),bt.prototype[gt]=!0,bt.prototype.removeEventListener=function(c,y,_,b){us(this,c,y,_,b)};function Nt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var F=y;y=new ue(b,c),N(y,F)}if(F=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ae=y.g=_[Y];F=bi(ae,b,!0,y)&&F}if(ae=y.g=c,F=bi(ae,b,!0,y)&&F,F=bi(ae,b,!1,y)&&F,_)for(Y=0;Y<_.length;Y++)ae=y.g=_[Y],F=bi(ae,b,!1,y)&&F}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Ke(_[b]);delete c.g[y],c.h--}}this.F=null},bt.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},bt.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function bi(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Y=0;Y<y.length;++Y){var ae=y[Y];if(ae&&!ae.da&&ae.capture==_){var Pe=ae.listener,St=ae.ha||ae.src;ae.fa&&Ei(c.i,ae),F=Pe.call(St,b)!==!1&&F}}return F&&!b.defaultPrevented}function Au(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Do(c){c.g=Au(()=>{c.g=null,c.i&&(c.i=!1,Do(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tf extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(c){pe.call(this),this.h=c,this.g={}}M(da,pe);var ur=[];function Gt(c){se(c.g,function(y,_){this.g.hasOwnProperty(_)&&fa(y)},c),c.g={}}da.prototype.N=function(){da.aa.N.call(this),Gt(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var No=m.JSON.stringify,Wn=m.JSON.parse,en=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function Su(c){return c.h||(c.h=c.i())}function wu(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){ue.call(this,"d")}M(cr,ue);function jn(){ue.call(this,"c")}M(jn,ue);var Tn={},hr=null;function hs(){return hr=hr||new bt}Tn.La="serverreachability";function Oo(c){ue.call(this,Tn.La,c)}M(Oo,ue);function fr(c){const y=hs();Nt(y,new Oo(y))}Tn.STAT_EVENT="statevent";function fs(c,y){ue.call(this,Tn.STAT_EVENT,c),this.stat=y}M(fs,ue);function dt(c){const y=hs();Nt(y,new fs(y,c))}Tn.Ma="timingevent";function Ru(c,y){ue.call(this,Tn.Ma,c),this.size=y}M(Ru,ue);function dr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function mr(){this.g=!0}mr.prototype.xa=function(){this.g=!1};function Iu(c,y,_,b,F,Y){c.info(function(){if(c.g)if(Y)for(var ae="",Pe=Y.split("&"),St=0;St<Pe.length;St++){var Le=Pe[St].split("=");if(1<Le.length){var Mt=Le[0];Le=Le[1];var wt=Mt.split("_");ae=2<=wt.length&&wt[1]=="type"?ae+(Mt+"="+Le+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+y+`
`+_+`
`+ae})}function Cu(c,y,_,b,F,Y,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+y+`
`+_+`
`+Y+" "+ae})}function pr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xt(c,_)+(b?" "+b:"")})}function Jn(c,y){c.info(function(){return"TIMEOUT: "+y})}mr.prototype.info=function(){};function xt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var F=b[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<F.length;ae++)F[ae]=""}}}}return No(_)}catch{return y}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ma;function ds(){}M(ds,xo),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},ma=new ds;function ei(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mo}function Mo(){this.i=null,this.g="",this.h=!1}var gr={},pa={};function zn(c,y,_){c.L=1,c.v=_a(lt(y)),c.m=_,c.P=!0,Si(c,null)}function Si(c,y){c.F=Date.now(),it(c),c.A=lt(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Ii(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Mo,c.g=qu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new tf(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(ur[0]=F.toString()),F=ur);for(var Y=0;Y<F.length;Y++){var ae=Ti(_,F[Y],b||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),fr(),Iu(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Rn(this.g);var y=this.g.Ba();const xi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||wt!=4||y==7||(y==8||0>=xi?fr(3):fr(2)),ms(this);var _=this.g.Z();this.X=_;t:if(yr(this)){var b=Vu(this.g);c="";var F=b.length,Y=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),fn(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Y&&y==F-1)});b.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,Cu(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,St=this.g;if((Pe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Pe)){var Le=Pe;break t}}Le=null}if(_=Le)pr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dn(this,_);else{this.o=!1,this.s=3,dt(12),ln(this),fn(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<ae.length;)if(Ut=_r(this,ae),Ut==pa){wt==4&&(this.s=4,dt(14),_=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==gr){this.s=4,dt(15),pr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else pr(this.i,this.l,Ut,null),dn(this,Ut);if(yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)pr(this.i,this.l,ae,"[Invalid Chunked Response]"),ln(this),fn(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),wa(Mt),Mt.M=!0,dt(11))}}else pr(this.i,this.l,ae,null),dn(this,ae);wt==4&&ln(this),this.o&&!this.J&&(wt==4?ju(this.j,this):(this.o=!1,it(this)))}else lf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),ln(this),fn(this)}}}catch{}finally{}};function yr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _r(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?pa:(_=Number(y.substring(_,b)),isNaN(_)?gr:(b+=1,b+_>y.length?pa:(y=y.slice(b,b+_),c.C=b+_,y)))}ei.prototype.cancel=function(){this.J=!0,ln(this)};function it(c){c.S=Date.now()+c.I,Vo(c,c.I)}function Vo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=dr(w(c.ba,c),y)}function ms(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jn(this.i,this.A),this.L!=2&&(fr(),dt(17)),ln(this),this.s=2,fn(this)):Vo(this,this.S-c)};function fn(c){c.j.G==0||c.J||ju(c.j,c)}function ln(c){ms(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Gt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function dn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||vr(_.h,c))){if(!c.K&&vr(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ss(_),bs(_);else break e;Go(_),dt(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=dr(w(_.Za,_),6e3));if(1>=Du(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ni(_,11)}else if((c.K||_.g==c)&&Ss(_),!Q(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Le=F[y];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Mt=Le[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const wt=Le[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const xi=Le[5];xi!=null&&typeof xi=="number"&&0<xi&&(b=1.5*xi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ut=c.g;if(Ut){const oi=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var Y=b.h;Y.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Er(Y,Y.h),Y.h=null))}if(b.D){const Ko=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(b.ya=Ko,Be(b.I,b.D,Ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ae=c;if(b.qa=Bu(b,b.J?b.ia:null,b.W),ae.K){bn(b.h,ae);var Pe=ae,St=b.L;St&&(Pe.I=St),Pe.B&&(ms(Pe),it(Pe)),b.g=ae}else Lu(b);0<_.i.length&&As(_)}else Le[0]!="stop"&&Le[0]!="close"||Ni(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Ni(_,7):Ho(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}fr(4)}catch{}}var nf=class{constructor(c,y){this.g=c,this.map=y}};function ko(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Du(c){return c.h?1:c.g?c.g.size:0}function vr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Er(c,y){c.g?c.g.add(y):c.h=y}function bn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ko.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function Nu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function rf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function ga(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=rf(c),b=Nu(c),F=b.length,Y=0;Y<F;Y++)y.call(void 0,b[Y],_&&_[Y],c)}var Lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ps(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),F=null;if(0<=b){var Y=c[_].substring(0,b);F=c[_].substring(b+1)}else Y=c[_];y(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wi){this.h=c.h,Tr(this,c.j),this.o=c.o,this.g=c.g,ya(this,c.s),this.l=c.l;var y=c.i,_=new ti;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),gs(this,_),this.m=c.m}else c&&(y=String(c).match(Lo))?(this.h=!1,Tr(this,y[1]||"",!0),this.o=br(y[2]||""),this.g=br(y[3]||"",!0),ya(this,y[4]),this.l=br(y[5]||"",!0),gs(this,y[6]||"",!0),this.m=br(y[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}wi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(An(y,Uo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(An(y,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(An(_,_.charAt(0)=="/"?jo:xu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",An(_,of)),c.join("")};function lt(c){return new wi(c)}function Tr(c,y,_){c.j=_?br(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ya(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function gs(c,y,_){y instanceof ti?(c.i=y,zo(c.i,c.h)):(_||(y=An(y,sf)),c.i=new ti(y,c.h))}function Be(c,y,_){c.i.set(y,_)}function _a(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function br(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function An(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,af),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function af(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,xu=/[#\?:]/g,jo=/[#\?]/g,sf=/[#\?@]/g,of=/#/g;function ti(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ps(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ti.prototype,r.add=function(c,y){Sn(this),this.i=null,c=Ci(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ys(c,y){Sn(c),y=Ci(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ri(c,y){return Sn(c),y=Ci(c,y),c.g.has(y)}r.forEach=function(c,y){Sn(this),this.g.forEach(function(_,b){_.forEach(function(F){c.call(y,F,b,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const F=c[b];for(let Y=0;Y<F.length;Y++)_.push(y[b])}return _},r.V=function(c){Sn(this);let y=[];if(typeof c=="string")Ri(this,c)&&(y=y.concat(this.g.get(Ci(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Sn(this),this.i=null,c=Ci(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ii(c,y,_){ys(c,y),0<_.length&&(c.i=null,c.g.set(Ci(c,y),H(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Y=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var F=Y;ae[b]!==""&&(F+="="+encodeURIComponent(String(ae[b]))),c.push(F)}}return this.i=c.join("&")};function Ci(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zo(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,b){var F=b.toLowerCase();b!=F&&(ys(this,b),Ii(this,F,_))},c)),c.j=y}function Ou(c,y){const _=new mr;if(m.Image){const b=new Image;b.onload=I(wn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=I(wn,_,"TestLoadImage: error",!1,y,b),b.onabort=I(wn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=I(wn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function va(c,y){const _=new mr,b=new AbortController,F=setTimeout(()=>{b.abort(),wn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(F),Y.ok?wn(_,"TestPingServer: ok",!0,y):wn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),wn(_,"TestPingServer: error",!1,y)})}function wn(c,y,_,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(_)}catch{}}function Ea(){this.g=new en}function ni(c,y,_){const b=_||"";try{ga(c,function(F,Y){let ae=F;g(F)&&(ae=No(F)),y.push(b+Y+"="+encodeURIComponent(ae))})}catch(F){throw y.push(b+"type="+encodeURIComponent("_badmap")),F}}function Ar(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Ar,xo),Ar.prototype.g=function(){return new Di(this.l,this.j)},Ar.prototype.i=function(c){return function(){return c}}({});function Di(c,y){bt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Di,bt),r=Di.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Bo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},r.Qa=function(c){this.g&&(this.response=c,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let y="";return se(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ot(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,y,_))}function Ge(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ge,bt);var _s=/^https?$/i,Ta=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ma.g(),this.v=this.o?Su(this.o):Su(ma),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Mu(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)_.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ta,y,void 0))||b||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of _)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Mu(this,Y)}};function Mu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,vs(c),ai(c)}function vs(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Es(this):this.bb())},r.bb=function(){Es(this)};function Es(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Au(c.Ea,0,c);else if(Nt(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=ae===0){var F=String(c.D).match(Lo)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),b=!_s.test(F?F.toLowerCase():"")}_=b}if(_)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var Y=2<Rn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",vs(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){ba(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Nt(c,"ready");try{_.onreadystatechange=b}catch{}}}function ba(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wn(y)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lf(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Q(c[b]))continue;var _=V(c[b]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[F]||[];y[F]=Y,Y.push(_)}O(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ts(c){this.Aa=0,this.i=[],this.j=new mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,c),this.cb=Aa("retryDelaySeedMs",1e4,c),this.Wa=Aa("forwardChannelMaxRetries",2,c),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ko(c&&c.concurrentRequestLimit),this.Da=new Ea,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ts.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){dt(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Bu(this,null,this.W),As(this)};function Ho(c){if(ku(c),c.G==3){var y=c.U++,_=lt(c.I);if(Be(_,"SID",c.K),Be(_,"RID",y),Be(_,"TYPE","terminate"),Sa(c,_),y=new ei(c,c.j,y),y.L=2,y.v=_a(lt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),it(y)}zu(c)}function bs(c){c.g&&(wa(c),c.g.cancel(),c.g=null)}function ku(c){bs(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ss(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function As(c){if(!Po(c.h)&&!c.s){c.s=!0;var y=c.Ga;_e||k(),de||(_e(),de=!0),Fe.add(y,c),c.B=0}}function uf(c,y){return Du(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=dr(w(c.Ga,c,y),$o(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new ei(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),N(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Pu(this,F,y),_=lt(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),Sa(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(qo(Y)))+"&"+y:this.m&&Ot(_,this.m,Y)),Er(this.h,F),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",y),Be(_,"SID","null"),F.T=!0,zn(F,_,null)):zn(F,_,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||Po(this.h)||Fo(this))};function Fo(c,y){var _;y?_=y.l:_=c.U++;const b=lt(c.I);Be(b,"SID",c.K),Be(b,"RID",_),Be(b,"AID",c.T),Sa(c,b),c.m&&c.o&&Ot(b,c.m,c.o),_=new ei(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Er(c.h,_),zn(_,b,y)}function Sa(c,y){c.H&&se(c.H,function(_,b){Be(y,b,_)}),c.l&&ga({},function(_,b){Be(y,b,_)})}function Pu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?w(c.l.Na,c.l,c):null;e:{var F=c.i;let Y=-1;for(;;){const ae=["count="+_];Y==-1?0<_?(Y=F[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Pe=!0;for(let St=0;St<_;St++){let Le=F[St].g;const Mt=F[St].map;if(Le-=Y,0>Le)Y=Math.max(0,F[St].g-100),Pe=!1;else try{ni(Mt,ae,"req"+Le+"_")}catch{b&&b(Mt)}}if(Pe){b=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function Lu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_e||k(),de||(_e(),de=!0),Fe.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=dr(w(c.Fa,c),$o(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=dr(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),bs(this),Uu(this))};function wa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Uu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=lt(c.qa);Be(y,"RID","rpc"),Be(y,"SID",c.K),Be(y,"AID",c.T),Be(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(y,"TO",c.ja),Be(y,"TYPE","xmlhttp"),Sa(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_a(lt(y)),_.m=null,_.P=!0,Si(_,c)}r.Za=function(){this.C!=null&&(this.C=null,bs(this),Go(this),dt(19))};function Ss(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ju(c,y){var _=null;if(c.g==y){Ss(c),wa(c),c.g=null;var b=2}else if(vr(c.h,y))_=y.D,bn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;b=hs(),Nt(b,new Ru(b,_)),As(c)}else Lu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(b==1&&uf(c,y)||b==2&&Go(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function $o(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ni(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),b=c.Xa;const F=!b;b=new wi(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Tr(b,"https"),_a(b),F?Ou(b.toString(),_):va(b.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(y),zu(c),ku(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function zu(c){if(c.G=0,c.ka=[],c.l){const y=tn(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function Bu(c,y,_){var b=_ instanceof wi?lt(_):new wi(_);if(b.g!="")y&&(b.g=y+"."+b.g),ya(b,b.s);else{var F=m.location;b=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Y=new wi(null);b&&Tr(Y,b),y&&(Y.g=y),F&&ya(Y,F),_&&(Y.l=_),b=Y}return _=c.D,y=c.ya,_&&y&&Be(b,_,y),Be(b,"VER",c.la),Sa(c,b),b}function qu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new Ar({eb:_})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}r=Hu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ws(){}ws.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){bt.call(this),this.g=new Ts(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}M(nn,bt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ho(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=No(c),c=_);y.i.push(new nf(y.Ya++,c)),y.G==3&&As(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,nn.aa.N.call(this)};function Fu(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Fu,cr);function Gu(){jn.call(this),this.status=1}M(Gu,jn);function si(c){this.g=c}M(si,Hu),si.prototype.ua=function(){Nt(this.g,"a")},si.prototype.ta=function(c){Nt(this.g,new Fu(c))},si.prototype.sa=function(c){Nt(this.g,new Gu)},si.prototype.ra=function(){Nt(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,OE=function(){return new ws},xE=function(){return hs()},NE=Tn,Dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,Zc=At,Ai.COMPLETE="complete",DE=Ai,wu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Ul=wu,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,CE=Ge}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore",xv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new np("@firebase/firestore");function Zs(){return Wa.logLevel}function he(r,...e){if(Wa.logLevel<=Oe.DEBUG){const n=e.map(ap);Wa.debug(`Firestore (${bo}): ${r}`,...n)}}function nr(r,...e){if(Wa.logLevel<=Oe.ERROR){const n=e.map(ap);Wa.error(`Firestore (${bo}): ${r}`,...n)}}function uo(r,...e){if(Wa.logLevel<=Oe.WARN){const n=e.map(ap);Wa.warn(`Firestore (${bo}): ${r}`,...n)}}function ap(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+r;throw nr(e),new Error(e)}function $e(r,e){r||Te()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class pI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gI{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string"),new ME(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Yt(e)}}class yI{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _I{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new yI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ln(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const a=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ov(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new Ov(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=EI(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function ke(r,e){return r<e?-1:r>e?1:0}function co(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=-62135596800,Vv=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Vv);return new Ct(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mv)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Ct(0,0))}static max(){return new be(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="__name__";class di{constructor(e,n,a){n===void 0?n=0:n>e.length&&Te(),a===void 0?a=e.length-n:a>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=di.isNumericId(e),o=di.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?di.extractNumericId(e).compare(di.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class Je extends di{construct(e,n,a){return new Je(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const TI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends di{construct(e,n,a){return new Ht(e,n,a)}static isValidIdentifier(e){return TI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kv}static keyField(){return new Ht([kv])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function bI(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new Ct(n+1,0):new Ct(n,a));return new ia(o,ye.empty(),e)}function AI(r){return new ia(r.readTime,r.key,Wl)}class ia{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ia(be.min(),ye.empty(),Wl)}static max(){return new ia(be.max(),ye.empty(),Wl)}}function SI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==wI)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,a)=>{n(e)})}static reject(e){return new te((n,a)=>{a(e)})}static waitFor(e){return new te((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const a of e)n=n.next(o=>o?te.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new te((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new te((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function II(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=-1;function Ph(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function CI(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="";function DI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Pv(e)),e=NI(r.get(n),e);return Pv(e)}function NI(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case kE:n+="";break;default:n+=u}}return n}function Pv(r){return r+kE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ns(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function PE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new qt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,a,o,u){return this}insert(e,n,a){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(e){return new Uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Dt(Ht.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new LE("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const xI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(r){if($e(!!r),typeof r=="string"){let e=0;const n=xI.exec(r);if($e(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function aa(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="server_timestamp",jE="__type__",zE="__previous_value__",BE="__local_write_time__";function Lh(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[jE])===null||n===void 0?void 0:n.stringValue)===UE}function Uh(r){const e=r.mapValue.fields[zE];return Lh(e)?Uh(e):e}function Zl(r){const e=ra(r.mapValue.fields[BE].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,a,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const fh="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__type__",MI="__max__",$c={mapValue:{}},HE="__vector__",dh="value";function sa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lh(r)?4:kI(r)?9007199254740991:VI(r)?10:11:Te()}function vi(r,e){if(r===e)return!0;const n=sa(r);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ra(o.timestampValue),m=ra(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return aa(o.bytesValue).isEqual(aa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?hh(f)===hh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return co(r.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Lv(f)!==Lv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!vi(f[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function eu(r,e){return(r.values||[]).find(n=>vi(n,e))!==void 0}function ho(r,e){if(r===e)return 0;const n=sa(r),a=sa(e);if(n!==a)return ke(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return jv(r.timestampValue,e.timestampValue);case 4:return jv(Zl(r),Zl(e));case 5:return ke(r.stringValue,e.stringValue);case 6:return function(u,f){const m=aa(u),p=aa(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=ke(pt(u.latitude),pt(f.latitude));return m!==0?m:ke(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return zv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},w=f.fields||{},I=(m=A[dh])===null||m===void 0?void 0:m.arrayValue,M=(p=w[dh])===null||p===void 0?void 0:p.arrayValue,H=ke(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:zv(I,M)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const w=ke(p[A],E[A]);if(w!==0)return w;const I=ho(m[p[A]],g[E[A]]);if(I!==0)return I}return ke(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function jv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=ra(r),a=ra(e),o=ke(n.seconds,a.seconds);return o!==0?o:ke(n.nanos,a.nanos)}function zv(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=ho(n[o],a[o]);if(u)return u}return ke(n.length,a.length)}function fo(r){return Nm(r)}function Nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=ra(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return aa(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Nm(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function Jc(r){switch(sa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(r);return e?16+Jc(e):16;case 5:return 2*r.stringValue.length;case 6:return aa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Jc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return ns(a.fields,(u,f)=>{o+=u.length+Jc(f)}),o}(r.mapValue);default:throw Te()}}function mh(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xm(r){return!!r&&"integerValue"in r}function op(r){return!!r&&"arrayValue"in r}function Bv(r){return!!r&&"nullValue"in r}function qv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function eh(r){return!!r&&"mapValue"in r}function VI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[qE])===null||n===void 0?void 0:n.stringValue)===HE}function Hl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ns(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Hl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function kI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Ht.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Hl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ns(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new Un(Hl(this.value))}}function FE(r){const e=[];return ns(r.fields,(n,a)=>{const o=new Ht([n]);if(eh(a)){const u=FE(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,be.min(),be.min(),be.min(),Un.empty(),0)}static newFoundDocument(e,n,a,o){return new Xt(e,1,n,be.min(),a,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,be.min(),be.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,be.min(),be.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.position=e,this.inclusive=n}}function Hv(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(f.referenceValue),n.key):a=ho(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Fv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!vi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function PI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{}class Tt extends GE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new UI(e,n,a):n==="array-contains"?new BI(e,a):n==="in"?new qI(e,a):n==="not-in"?new HI(e,a):n==="array-contains-any"?new FI(e,a):new Tt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new jI(e,a):new zI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends GE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Kn(e,n)}matches(e){return $E(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $E(r){return r.op==="and"}function KE(r){return LI(r)&&$E(r)}function LI(r){for(const e of r.filters)if(e instanceof Kn)return!1;return!0}function Om(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(KE(r))return r.filters.map(e=>Om(e)).join(",");{const e=r.filters.map(n=>Om(n)).join(",");return`${r.op}(${e})`}}function QE(r,e){return r instanceof Tt?function(a,o){return o instanceof Tt&&a.op===o.op&&a.field.isEqual(o.field)&&vi(a.value,o.value)}(r,e):r instanceof Kn?function(a,o){return o instanceof Kn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&QE(f,o.filters[m]),!0):!1}(r,e):void Te()}function YE(r){return r instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(r):r instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(YE).join(" ,")+"}"}(r):"Filter"}class UI extends Tt{constructor(e,n,a){super(e,n,a),this.key=ye.fromName(a.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class jI extends Tt{constructor(e,n){super(e,"in",n),this.keys=XE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zI extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=XE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>ye.fromName(a.referenceValue))}class BI extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return op(n)&&eu(n.arrayValue,this.value)}}class qI extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class HI extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eu(this.value.arrayValue,n)}}class FI extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>eu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Gv(r,e=null,n=[],a=[],o=null,u=null,f=null){return new GI(r,e,n,a,o,u,f)}function lp(r){const e=Se(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Om(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>fo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>fo(a)).join(",")),e.le=n}return e.le}function up(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!PI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!QE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Fv(r.startAt,e.startAt)&&Fv(r.endAt,e.endAt)}function Mm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $I(r,e,n,a,o,u,f,m){return new is(r,e,n,a,o,u,f,m)}function cp(r){return new is(r)}function $v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hp(r){return r.collectionGroup!==null}function io(r){const e=Se(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Dt(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new tu(u,a))}),n.has(Ht.keyField().canonicalString())||e.he.push(new tu(Ht.keyField(),a))}return e.he}function mi(r){const e=Se(r);return e.Pe||(e.Pe=KI(e,io(r))),e.Pe}function KI(r,e){if(r.limitType==="F")return Gv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new tu(o.field,u)});const n=r.endAt?new mo(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new mo(r.startAt.position,r.startAt.inclusive):null;return Gv(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Vm(r,e){const n=r.filters.concat([e]);return new is(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ph(r,e,n){return new is(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jh(r,e){return up(mi(r),mi(e))&&r.limitType===e.limitType}function WE(r){return`${lp(mi(r))}|lt:${r.limitType}`}function Js(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>YE(o)).join(", ")}]`),Ph(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>fo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>fo(o)).join(",")),`Target(${a})`}(mi(r))}; limitType=${r.limitType})`}function zh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ye.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of io(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,m,p){const g=Hv(f,m,p);return f.inclusive?g<=0:g<0}(a.startAt,io(a),o)||a.endAt&&!function(f,m,p){const g=Hv(f,m,p);return f.inclusive?g>=0:g>0}(a.endAt,io(a),o))}(r,e)}function QI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ZE(r){return(e,n)=>{let a=!1;for(const o of io(r)){const u=YI(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function YI(r,e,n){const a=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ho(p,g):Te()}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new st(ye.comparator);function ir(){return XI}const JE=new st(ye.comparator);function jl(...r){let e=JE;for(const n of r)e=e.insert(n.key,n);return e}function eT(r){let e=JE;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ga(){return Fl()}function tT(){return Fl()}function Fl(){return new rs(r=>r.toString(),(r,e)=>r.isEqual(e))}const WI=new st(ye.comparator),ZI=new Dt(ye.comparator);function Me(...r){let e=ZI;for(const n of r)e=e.add(n);return e}const JI=new Dt(ke);function eC(){return JI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function nT(r){return{integerValue:""+r}}function tC(r,e){return CI(e)?nT(e):fp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function nC(r,e,n){return r instanceof gh?function(o,u){const f={fields:{[jE]:{stringValue:UE},[BE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lh(u)&&(u=Uh(u)),u&&(f.fields[zE]=u),{mapValue:f}}(n,e):r instanceof nu?rT(r,e):r instanceof iu?aT(r,e):function(o,u){const f=iT(o,u),m=Kv(f)+Kv(o.Ie);return xm(f)&&xm(o.Ie)?nT(m):fp(o.serializer,m)}(r,e)}function iC(r,e,n){return r instanceof nu?rT(r,e):r instanceof iu?aT(r,e):n}function iT(r,e){return r instanceof yh?function(a){return xm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class gh extends Bh{}class nu extends Bh{constructor(e){super(),this.elements=e}}function rT(r,e){const n=sT(e);for(const a of r.elements)n.some(o=>vi(o,a))||n.push(a);return{arrayValue:{values:n}}}class iu extends Bh{constructor(e){super(),this.elements=e}}function aT(r,e){let n=sT(e);for(const a of r.elements)n=n.filter(o=>!vi(o,a));return{arrayValue:{values:n}}}class yh extends Bh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Kv(r){return pt(r.integerValue||r.doubleValue)}function sT(r){return op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function rC(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof nu&&o instanceof nu||a instanceof iu&&o instanceof iu?co(a.elements,o.elements,vi):a instanceof yh&&o instanceof yh?vi(a.Ie,o.Ie):a instanceof gh&&o instanceof gh}(r.transform,e.transform)}class aC{constructor(e,n){this.version=e,this.transformResults=n}}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qh{}function oT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new dp(r.key,pi.none()):new du(r.key,r.data,pi.none());{const n=r.data,a=Un.empty();let o=new Dt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new as(r.key,a,new Gn(o.toArray()),pi.none())}}function sC(r,e,n){r instanceof du?function(o,u,f){const m=o.value.clone(),p=Yv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof as?function(o,u,f){if(!th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Yv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(lT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Gl(r,e,n,a){return r instanceof du?function(u,f,m,p){if(!th(u.precondition,f))return m;const g=u.value.clone(),E=Xv(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof as?function(u,f,m,p){if(!th(u.precondition,f))return m;const g=Xv(u.fieldTransforms,p,f),E=f.data;return E.setAll(lT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,a):function(u,f,m){return th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function oC(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=iT(a.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(a.field,u))}return n||null}function Qv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&co(a,o,(u,f)=>rC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends qh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends qh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function Yv(r,e,n){const a=new Map;$e(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,iC(f,m,n[o]))}return a}function Xv(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,nC(u,f,e))}return a}class dp extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lC extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&sC(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Gl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Gl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=tT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=oT(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,a)=>Qv(n,a))&&co(this.baseMutations,e.baseMutations,(n,a)=>Qv(n,a))}}class mp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){$e(e.mutations.length===a.length);let o=function(){return WI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new mp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,je;function fC(r){switch(r){case J.OK:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te()}}function uT(r){if(r===void 0)return nr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Et.OK:return J.OK;case Et.CANCELLED:return J.CANCELLED;case Et.UNKNOWN:return J.UNKNOWN;case Et.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Et.INTERNAL:return J.INTERNAL;case Et.UNAVAILABLE:return J.UNAVAILABLE;case Et.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Et.NOT_FOUND:return J.NOT_FOUND;case Et.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Et.ABORTED:return J.ABORTED;case Et.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Et.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(je=Et||(Et={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new ea([4294967295,4294967295],0);function Wv(r){const e=dC().encode(r),n=new IE;return n.update(e),new Uint8Array(n.digest())}function Zv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ea([n,a],0),new ea([o,u],0)]}class pp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ea.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(ea.fromNumber(a)));return o.compare(mC)===1&&(o=new ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Wv(e),[a,o]=Zv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new pp(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Wv(e),[a,o]=Zv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Hh(be.min(),o,new st(ke),ir(),Me())}}class mu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new mu(a,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class cT{constructor(e,n){this.targetId=e,this.ge=n}}class hT{constructor(e,n,a=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class Jv{constructor(){this.pe=0,this.ye=e0(),this.we=Ft.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Me(),n=Me(),a=Me();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Te()}}),new mu(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=e0()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class pC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ir(),this.$e=Kc(),this.Ke=Kc(),this.Ue=new st(ke)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Mm(u))if(a===0){const f=new ye(u.path);this.ze(n,f,Xt.newNoDocument(f,be.min()))}else $e(a===1);else{const f=this.et(n);if(f!==a){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=aa(a).toUint8Array()}catch(p){if(p instanceof LE)return uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new pp(f,o,u)}catch(p){return uo(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Mm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Xt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=Me();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Hh(e,n,this.Ue,this.Qe,a);return this.Qe=ir(),this.$e=Kc(),this.Ke=Kc(),this.Ue=new st(ke),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Jv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Dt(ke),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(ke),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Jv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new st(ye.comparator)}function e0(){return new st(ye.comparator)}const gC={asc:"ASCENDING",desc:"DESCENDING"},yC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class vC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(r,e){return r.useProto3Json||Ph(e)?e:{value:e}}function _h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function EC(r,e){return _h(r,e.toTimestamp())}function gi(r){return $e(!!r),be.fromTimestamp(function(n){const a=ra(n);return new Ct(a.seconds,a.nanos)}(r))}function gp(r,e){return Pm(r,e).canonicalString()}function Pm(r,e){const n=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function dT(r){const e=Je.fromString(r);return $e(_T(e)),e}function Lm(r,e){return gp(r.databaseId,e.path)}function fm(r,e){const n=dT(e);if(n.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(pT(n))}function mT(r,e){return gp(r.databaseId,e)}function TC(r){const e=dT(r);return e.length===4?Je.emptyPath():pT(e)}function Um(r){return new Je(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pT(r){return $e(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function t0(r,e,n){return{name:Lm(r,e),fields:n.value.mapValue.fields}}function bC(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($e(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?J.UNKNOWN:uT(g.code);return new le(E,g.message||"")}(f);n=new hT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=fm(r,a.document.name),u=gi(a.document.updateTime),f=a.document.createTime?gi(a.document.createTime):be.min(),m=new Un({mapValue:{fields:a.document.fields}}),p=Xt.newFoundDocument(o,u,f,m),g=a.targetIds||[],E=a.removedTargetIds||[];n=new nh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=fm(r,a.document),u=a.readTime?gi(a.readTime):be.min(),f=Xt.newNoDocument(o,u),m=a.removedTargetIds||[];n=new nh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=fm(r,a.document),u=a.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new hC(o,u),m=a.targetId;n=new cT(m,f)}}return n}function AC(r,e){let n;if(e instanceof du)n={update:t0(r,e.key,e.value)};else if(e instanceof dp)n={delete:Lm(r,e.key)};else if(e instanceof as)n={update:t0(r,e.key,e.data),updateMask:OC(e.fieldMask)};else{if(!(e instanceof lC))return Te();n={verify:Lm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:EC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function SC(r,e){return r&&r.length>0?($e(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?gi(o.updateTime):gi(u);return f.isEqual(be.min())&&(f=gi(u)),new aC(f,o.transformResults||[])}(n,e))):[]}function wC(r,e){return{documents:[mT(r,e.path)]}}function RC(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=mT(r,o);const u=function(g){if(g.length!==0)return yT(Kn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:eo(w.field),direction:DC(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=km(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function IC(r){let e=TC(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){$e(a===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const w=gT(A);return w instanceof Kn&&KE(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(w=>function(M){return new tu(to(M.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(A){let w;return w=typeof A=="object"?A.value:A,Ph(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(A){const w=!!A.before,I=A.values||[];return new mo(I,w)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const w=!A.before,I=A.values||[];return new mo(I,w)}(n.endAt)),$I(e,o,f,u,m,"F",p,g)}function CC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=to(n.unaryFilter.field);return Tt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return Tt.create(to(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(a=>gT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function DC(r){return gC[r]}function NC(r){return yC[r]}function xC(r){return _C[r]}function eo(r){return{fieldPath:r.canonicalString()}}function to(r){return Ht.fromServerFormat(r.fieldPath)}function yT(r){return r instanceof Tt?function(n){if(n.op==="=="){if(qv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(Bv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(Bv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:NC(n.op),value:n.value}}}(r):r instanceof Kn?function(n){const a=n.getFilters().map(o=>yT(o));return a.length===1?a[0]:{compositeFilter:{op:xC(n.op),filters:a}}}(r):Te()}function OC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _T(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,a,o,u=be.min(),f=be.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.Tt=e}}function VC(r){const e=IC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.Tn=new PC}addToCollectionParentIndex(e,n){return this.Tn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ia.min())}updateCollectionGroup(e,n,a){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class PC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Dt(Je.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Dt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vT=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(vT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new po(0)}static Un(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="LruGarbageCollector",LC=1048576;function r0([r,e],[n,a]){const o=ke(r,n);return o===0?ke(e,a):o}class UC{constructor(e){this.Hn=e,this.buffer=new Dt(r0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();r0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jC{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(i0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?he(i0,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.er(3e5)})}}class zC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return te.resolve(kh.ae);const a=new UC(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(n0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(a=A,m=Date.now(),this.removeTargets(e,a,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(g=Date.now(),Zs()<=Oe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function BC(r,e){return new zC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.changes=new rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?te.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Gl(a.mutation,o,Gn.empty(),Ct.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Me()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Me()){const o=Ga();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=jl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Ga();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Me()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=ir();const f=Fl(),m=function(){return Fl()}();return n.forEach((p,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof as)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Gl(E.mutation,g,E.mutation.getFieldMask(),Ct.now())):f.set(g.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new HC(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Fl();let o=new st((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=a.get(p)||Gn.empty();E=m.applyToLocalView(g,E),a.set(p,E);const A=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=tT();E.forEach(w=>{if(!u.has(w)){const I=oT(n.get(w),a.get(w));I!==null&&A.set(w,I),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return te.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hp(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):te.resolve(Ga());let m=Wl,p=u;return f.next(g=>te.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Me())).next(E=>({batchId:m,changes:eT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(a=>{let o=jl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(A,w){return new is(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(E=>{E.forEach((A,w)=>{f=f.insert(A,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let m=jl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Gl(E.mutation,g,Gn.empty(),Ct.now()),zh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return te.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:VC(o.bundledQuery),readTime:gi(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.overlays=new st(ye.comparator),this.Rr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ga();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),te.resolve()}getOverlaysForCollection(e,n,a){const o=Ga(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new st((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=Ga(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ga(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new cC(n,a));let u=this.Rr.get(n);u===void 0&&(u=Me(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.Vr=new Dt(Lt.mr),this.gr=new Dt(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Lt(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Lt(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new ye(new Je([])),a=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new Je([])),a=new Lt(n,e),o=new Lt(n,e+1);let u=Me();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Lt(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Lt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||ke(e.Cr,n.Cr)}static pr(e,n){return ke(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Lt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new uC(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?sp:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const m=this.Or(f.Cr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Dt(ke);return n.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),te.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new ye(u),0);let m=new Dt(ke);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),te.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return te.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Lt(n,0),o=this.Mr.firstAfterOrEqual(a);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.kr=e,this.docs=function(){return new st(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return te.resolve(a?a.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let a=ir();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),te.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ir();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||SI(AI(E),a)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Te()}qr(e,n){return te.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new XC(this)}getSize(e){return te.resolve(this.size)}}class XC extends qC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),te.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.persistence=e,this.Qr=new rs(n=>lp(n),up),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new yp,this.targetCount=0,this.Ur=po.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),te.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new po(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.zn(n),te.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return te.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),te.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return te.resolve(a)}containsKey(e,n){return te.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new kh(0),this.zr=!1,this.zr=!0,this.jr=new KC,this.referenceDelegate=e(this),this.Hr=new WC(this),this.indexManager=new kC,this.remoteDocumentCache=function(o){return new YC(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new MC(n),this.Yr=new GC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $C,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new QC(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){he("MemoryPersistence","Starting transaction:",e);const o=new ZC(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return te.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class ZC extends RI{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.ti=new yp,this.ni=null}static ri(e){return new _p(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),te.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),te.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,a=>{const o=ye.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return te.or([()=>te.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.oi=new rs(a=>DI(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=BC(this,n)}static ri(e,n){return new vh(e,n)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return te.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(a++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),te.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}ar(e,n,a){return te.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return te.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return XR()?8:II(Wt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new JC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?(Zs()<=Oe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(Zs()<=Oe.DEBUG&&he("QueryEngine","Query:",Js(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Zs()<=Oe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):te.resolve())}rs(e,n){if($v(n))return te.resolve(null);let a=mi(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ph(n,null,"F"),a=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Me(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,ph(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,a,o){return $v(n)||o.isEqual(be.min())?te.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?te.resolve(null):(Zs()<=Oe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Js(n)),this.hs(e,f,n,bI(o,Wl)).next(m=>m))})}cs(e,n){let a=new Dt(ZE(e));return n.forEach((o,u)=>{zh(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return Zs()<=Oe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Js(n)),this.ns.getDocumentsMatchingQuery(e,n,ia.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="LocalStore",t2=3e8;class n2{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new st(ke),this.Is=new rs(u=>lp(u),up),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function i2(r,e,n,a){return new n2(r,e,n,a)}async function TT(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=Me();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function r2(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,w=A.keys();let I=te.resolve();return w.forEach(M=>{I=I.next(()=>E.getEntry(p,M)).next(H=>{const U=g.docVersions.get(M);$e(U!==null),H.version.compareTo(U)<0&&(A.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),E.addEntry(H)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Me();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function bT(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function a2(r,e){const n=Se(r),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,A)=>{const w=o.get(A);if(!w)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let I=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?I=I.withResumeToken(Ft.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,a)),o=o.insert(A,I),function(H,U,$){return H.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=t2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(w,I,E)&&m.push(n.Hr.updateTargetData(u,I))});let p=ir(),g=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(s2(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!a.isEqual(be.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function s2(r,e,n){let a=Me(),o=Me();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=ir();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Ep,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function o2(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=sp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function l2(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,te.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new Xr(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function jm(r,e,n){const a=Se(r),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!So(f))throw f;he(Ep,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function a0(r,e,n){const a=Se(r);let o=be.min(),u=Me();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=Se(p),w=A.Is.get(E);return w!==void 0?te.resolve(A.Ts.get(w)):A.Hr.getTargetData(g,E)}(a,f,mi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Me())).next(m=>(u2(a,QI(e),m),{documents:m,gs:u})))}function u2(r,e,n){let a=r.Es.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Es.set(e,a)}class s0{constructor(){this.activeTargetIds=eC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c2{constructor(){this.ho=new s0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new s0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="ConnectivityMonitor";class l0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(o0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(o0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function zm(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",f2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===fh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}bo(e,n,a,o,u){const f=zm(),m=this.So(e,n.toUriEncodedString());he(dm,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,a).then(g=>(he(dm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw uo(dm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",a),g})}Co(e,n,a,o,u,f){return this.bo(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}So(e,n){const a=f2[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class p2 extends d2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=zm();return new Promise((f,m)=>{const p=new CE;p.setWithCredentials(!0),p.listenOnce(DE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const E=p.getResponseJson();he(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Zc.TIMEOUT:he(Qt,`RPC '${e}' ${u} timed out`),m(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const A=p.getStatus();if(he(Qt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w==null?void 0:w.error;if(I&&I.status&&I.message){const M=function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(I.status);m(new le(M,I.message))}else m(new le(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new le(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{he(Qt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(Qt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,a,15)})}Wo(e,n,a){const o=zm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=OE(),m=xE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let w=!1,I=!1;const M=new m2({Fo:U=>{I?he(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(he(Qt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),he(Qt,`RPC '${e}' stream ${o} sending:`,U),A.send(U))},Mo:()=>A.close()}),H=(U,$,Q)=>{U.listen($,P=>{try{Q(P)}catch(W){setTimeout(()=>{throw W},0)}})};return H(A,Ul.EventType.OPEN,()=>{I||(he(Qt,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),H(A,Ul.EventType.CLOSE,()=>{I||(I=!0,he(Qt,`RPC '${e}' stream ${o} transport closed`),M.Ko())}),H(A,Ul.EventType.ERROR,U=>{I||(I=!0,uo(Qt,`RPC '${e}' stream ${o} transport errored:`,U),M.Ko(new le(J.UNAVAILABLE,"The operation could not be completed")))}),H(A,Ul.EventType.MESSAGE,U=>{var $;if(!I){const Q=U.data[0];$e(!!Q);const P=Q,W=(P==null?void 0:P.error)||(($=P[0])===null||$===void 0?void 0:$.error);if(W){he(Qt,`RPC '${e}' stream ${o} received error:`,W);const ne=W.status;let se=function(S){const N=Et[S];if(N!==void 0)return uT(N)}(ne),O=W.message;se===void 0&&(se=J.INTERNAL,O="Unknown error status: "+ne+" with message "+W.message),I=!0,M.Ko(new le(se,O)),A.close()}else he(Qt,`RPC '${e}' stream ${o} received:`,Q),M.Uo(Q)}}),H(m,NE.STAT_EVENT,U=>{U.stat===Dm.PROXY?he(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Dm.NOPROXY&&he(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(r){return new vC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="PersistentStream";class ST{constructor(e,n,a,o,u,f,m,p){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new AT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(u0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g2 extends ST{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=bC(this.serializer,e),a=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?gi(f.readTime):be.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Um(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Mm(p)?{documents:wC(u,p)}:{query:RC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=fT(u,f.resumeToken);const g=km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const g=km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=CC(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.I_(n)}}class y2 extends ST{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=SC(e.writeResults,e.commitTime),a=gi(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=Um(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>AC(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{}class v2 extends _2{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Pm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Pm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class E2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nr(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class T2{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{ss(this)&&(he(Za,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.W_.add(4),await pu(g),g.j_.set("Unknown"),g.W_.delete(4),await Gh(g)}(this))})}),this.j_=new E2(a,o)}}async function Gh(r){if(ss(r))for(const e of r.G_)await e(!0)}async function pu(r){for(const e of r.G_)await e(!1)}function wT(r,e){const n=Se(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Sp(n)?Ap(n):wo(n).c_()&&bp(n,e))}function Tp(r,e){const n=Se(r),a=wo(n);n.U_.delete(e),a.c_()&&RT(n,e),n.U_.size===0&&(a.c_()?a.P_():ss(n)&&n.j_.set("Unknown"))}function bp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(r).y_(e)}function RT(r,e){r.H_.Ne(e),wo(r).w_(e)}function Ap(r){r.H_=new pC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.j_.B_()}function Sp(r){return ss(r)&&!wo(r).u_()&&r.U_.size>0}function ss(r){return Se(r).W_.size===0}function IT(r){r.H_=void 0}async function b2(r){r.j_.set("Online")}async function A2(r){r.U_.forEach((e,n)=>{bp(r,e)})}async function S2(r,e){IT(r),Sp(r)?(r.j_.q_(e),Ap(r)):r.j_.set("Unknown")}async function w2(r,e,n){if(r.j_.set("Online"),e instanceof hT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(a){he(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Eh(r,a)}else if(e instanceof nh?r.H_.We(e):e instanceof cT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(be.min()))try{const a=await bT(r.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),RT(u,p);const A=new Xr(E.target,p,g,E.sequenceNumber);bp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){he(Za,"Failed to raise snapshot:",a),await Eh(r,a)}}async function Eh(r,e,n){if(!So(e))throw e;r.W_.add(1),await pu(r),r.j_.set("Offline"),n||(n=()=>bT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(Za,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Gh(r)})}function CT(r,e){return e().catch(n=>Eh(r,n,e))}async function $h(r){const e=Se(r),n=oa(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:sp;for(;R2(e);)try{const o=await o2(e.localStore,a);if(o===null){e.K_.length===0&&n.P_();break}a=o.batchId,I2(e,o)}catch(o){await Eh(e,o)}DT(e)&&NT(e)}function R2(r){return ss(r)&&r.K_.length<10}function I2(r,e){r.K_.push(e);const n=oa(r);n.c_()&&n.b_&&n.S_(e.mutations)}function DT(r){return ss(r)&&!oa(r).u_()&&r.K_.length>0}function NT(r){oa(r).start()}async function C2(r){oa(r).C_()}async function D2(r){const e=oa(r);for(const n of r.K_)e.S_(n.mutations)}async function N2(r,e,n){const a=r.K_.shift(),o=mp.from(a,e,n);await CT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await $h(r)}async function x2(r,e){e&&oa(r).b_&&await async function(a,o){if(function(f){return fC(f)&&f!==J.ABORTED}(o.code)){const u=a.K_.shift();oa(a).h_(),await CT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $h(a)}}(r,e),DT(r)&&NT(r)}async function c0(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),he(Za,"RemoteStore received new credentials");const a=ss(n);n.W_.add(3),await pu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Gh(n)}async function O2(r,e){const n=Se(r);e?(n.W_.delete(2),await Gh(n)):e||(n.W_.add(2),await pu(n),n.j_.set("Unknown"))}function wo(r){return r.J_||(r.J_=function(n,a,o){const u=Se(n);return u.M_(),new g2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:b2.bind(null,r),No:A2.bind(null,r),Lo:S2.bind(null,r),p_:w2.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Sp(r)?Ap(r):r.j_.set("Unknown")):(await r.J_.stop(),IT(r))})),r.J_}function oa(r){return r.Y_||(r.Y_=function(n,a,o){const u=Se(n);return u.M_(),new y2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:C2.bind(null,r),Lo:x2.bind(null,r),D_:D2.bind(null,r),v_:N2.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await $h(r)):(await r.Y_.stop(),r.K_.length>0&&(he(Za,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new wp(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rp(r,e){if(nr("AsyncQueue",`${e}: ${r}`),So(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ye.comparator(n.key,a.key):(n,a)=>ye.comparator(n.key,a.key),this.keyedMap=jl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new ro;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.Z_=new st(ye.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class go{constructor(e,n,a,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new go(e,n,ro.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class V2{constructor(){this.queries=f0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=Se(n),u=o.queries;o.queries=f0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(a)})})(this,new le(J.ABORTED,"Firestore shutting down"))}}function f0(){return new rs(r=>WE(r),jh)}async function xT(r,e){const n=Se(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new M2,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Rp(f,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Ip(n)}async function OT(r,e){const n=Se(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function k2(r,e){const n=Se(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(a=!0);f.ea=o}}a&&Ip(n)}function P2(r,e,n){const a=Se(r),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function Ip(r){r.ia.forEach(e=>{e.next()})}var Bm,d0;(d0=Bm||(Bm={}))._a="default",d0.Cache="cache";class MT{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new go(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class L2{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=ZE(e),this.wa=new ro(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new h0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const w=o.get(E),I=zh(this.query,A)?A:null,M=!!w&&this.mutatedKeys.has(w.key),H=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;w&&I?w.data.isEqual(I.data)?M!==H&&(a.track({type:3,doc:I}),U=!0):this.va(w,I)||(a.track({type:2,doc:I}),U=!0,(p&&this.ya(I,p)>0||g&&this.ya(I,g)<0)&&(m=!0)):!w&&I?(a.track({type:0,doc:I}),U=!0):w&&!I&&(a.track({type:1,doc:w}),U=!0,(p||g)&&(m=!0)),U&&(I?(f=f.add(I),u=H?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,A)=>function(I,M){const H=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return H(I)-H(M)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(a),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new go(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new h0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new kT(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new VT(a))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return go.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cp="SyncEngine";class U2{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class j2{constructor(e){this.key=e,this.Ba=!1}}class z2{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new rs(m=>WE(m),jh),this.qa=new Map,this.Qa=new Set,this.$a=new st(ye.comparator),this.Ka=new Map,this.Ua=new yp,this.Wa={},this.Ga=new Map,this.za=po.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function B2(r,e,n=!0){const a=BT(r);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await PT(a,e,n,!0),o}async function q2(r,e){const n=BT(r);await PT(n,e,!0,!1)}async function PT(r,e,n,a){const o=await l2(r.localStore,mi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await H2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&wT(r.remoteStore,o),m}async function H2(r,e,n,a,o){r.Ha=(A,w,I)=>async function(H,U,$,Q){let P=U.view.Sa($);P.ls&&(P=await a0(H.localStore,U.query,!1).then(({documents:O})=>U.view.Sa(O,P)));const W=Q&&Q.targetChanges.get(U.targetId),ne=Q&&Q.targetMismatches.get(U.targetId)!=null,se=U.view.applyChanges(P,H.isPrimaryClient,W,ne);return p0(H,U.targetId,se.Ma),se.snapshot}(r,A,w,I);const u=await a0(r.localStore,e,!0),f=new L2(e,u.gs),m=f.Sa(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);p0(r,n,g.Ma);const E=new U2(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function F2(r,e,n){const a=Se(r),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!jh(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Tp(a.remoteStore,o.targetId),qm(a,o.targetId)}).catch(Ao)):(qm(a,o.targetId),await jm(a.localStore,o.targetId,!0))}async function G2(r,e){const n=Se(r),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Tp(n.remoteStore,a.targetId))}async function $2(r,e,n){const a=J2(r);try{const o=await function(f,m){const p=Se(f),g=Ct.now(),E=m.reduce((I,M)=>I.add(M.key),Me());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=ir(),H=Me();return p.ds.getEntries(I,E).next(U=>{M=U,M.forEach(($,Q)=>{Q.isValidDocument()||(H=H.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,M)).next(U=>{A=U;const $=[];for(const Q of m){const P=oC(Q,A.get(Q.key).overlayedDocument);P!=null&&$.push(new as(Q.key,P,FE(P.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,$,m)}).next(U=>{w=U;const $=U.applyToLocalDocumentSet(A,H);return p.documentOverlayCache.saveOverlays(I,U.batchId,$)})}).then(()=>({batchId:w.batchId,changes:eT(A)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new st(ke)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(a,o.batchId,n),await gu(a,o.changes),await $h(a.remoteStore)}catch(o){const u=Rp(o,"Failed to persist write");n.reject(u)}}async function LT(r,e){const n=Se(r);try{const a=await a2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$e(f.Ba):o.removedDocuments.size>0&&($e(f.Ba),f.Ba=!1))}),await gu(n,a,e)}catch(a){await Ao(a)}}function m0(r,e,n){const a=Se(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const w of A.ta)w.sa(m)&&(g=!0)}),g&&Ip(p)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function K2(r,e,n){const a=Se(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ka.get(e),u=o&&o.key;if(u){let f=new st(ye.comparator);f=f.insert(u,Xt.newNoDocument(u,be.min()));const m=Me().add(u),p=new Hh(be.min(),new Map,new st(ke),f,m);await LT(a,p),a.$a=a.$a.remove(u),a.Ka.delete(e),Dp(a)}else await jm(a.localStore,e,!1).then(()=>qm(a,e,n)).catch(Ao)}async function Q2(r,e){const n=Se(r),a=e.batch.batchId;try{const o=await r2(n.localStore,e);jT(n,a,null),UT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await gu(n,o)}catch(o){await Ao(o)}}async function Y2(r,e,n){const a=Se(r);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>($e(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(a.localStore,e);jT(a,e,n),UT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await gu(a,o)}catch(o){await Ao(o)}}function UT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function jT(r,e,n){const a=Se(r);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.qa.get(e))r.ka.delete(a),n&&r.La.Ja(a,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(a=>{r.Ua.containsKey(a)||zT(r,a)})}function zT(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Tp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Dp(r))}function p0(r,e,n){for(const a of n)a instanceof VT?(r.Ua.addReference(a.key,e),X2(r,a)):a instanceof kT?(he(Cp,"Document no longer in limbo: "+a.key),r.Ua.removeReference(a.key,e),r.Ua.containsKey(a.key)||zT(r,a.key)):Te()}function X2(r,e){const n=e.key,a=n.path.canonicalString();r.$a.get(n)||r.Qa.has(a)||(he(Cp,"New document in limbo: "+n),r.Qa.add(a),Dp(r))}function Dp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(Je.fromString(e)),a=r.za.next();r.Ka.set(a,new j2(n)),r.$a=r.$a.insert(n,a),wT(r.remoteStore,new Xr(mi(cp(n.path)),a,"TargetPurposeLimboResolution",kh.ae))}}async function gu(r,e,n){const a=Se(r),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{f.push(a.Ha(p,e,n).then(g=>{var E;if((g||n)&&a.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=vp.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(f),a.La.p_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>te.forEach(g,w=>te.forEach(w.Hi,I=>E.persistence.referenceDelegate.addReference(A,w.targetId,I)).next(()=>te.forEach(w.Ji,I=>E.persistence.referenceDelegate.removeReference(A,w.targetId,I)))))}catch(A){if(!So(A))throw A;he(Ep,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const I=E.Ts.get(w),M=I.snapshotVersion,H=I.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(w,H)}}}(a.localStore,u))}async function W2(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){he(Cp,"User change. New user:",e.toKey());const a=await TT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new le(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await gu(n,a.Rs)}}function Z2(r,e){const n=Se(r),a=n.Ka.get(e);if(a&&a.Ba)return Me().add(a.key);{let o=Me();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function BT(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K2.bind(null,e),e.La.p_=k2.bind(null,e.eventManager),e.La.Ja=P2.bind(null,e.eventManager),e}function J2(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y2.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return i2(this.persistence,new e2,e.initialUser,this.serializer)}Xa(e){return new ET(_p.ri,this.serializer)}Za(e){return new c2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class eD extends Th{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof vh);const a=this.persistence.referenceDelegate.garbageCollector;return new jC(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new ET(a=>vh.ri(a,n),this.serializer)}}class Hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>m0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=W2.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V2}()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),a=function(u){return new p2(u)}(e.databaseInfo);return function(u,f,m,p){return new v2(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new T2(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>m0(this.syncEngine,n,0),function(){return l0.D()?new l0:new h2}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const A=new z2(o,u,f,m,p,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);he(Za,"RemoteStore shutting down."),u.W_.add(5),await pu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class tD{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=VE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{he(la,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(he(la,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Rp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function pm(r,e){r.asyncQueue.verifyOperationInProgress(),he(la,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await TT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function g0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await nD(r);he(la,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>c0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>c0(e.remoteStore,o)),r._onlineComponents=e}async function nD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(la,"Using user provided OfflineComponentProvider");try{await pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await pm(r,new Th)}}else he(la,"Using default OfflineComponentProvider"),await pm(r,new eD(void 0));return r._offlineComponents}async function HT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(la,"Using user provided OnlineComponentProvider"),await g0(r,r._uninitializedComponentsProvider._online)):(he(la,"Using default OnlineComponentProvider"),await g0(r,new Hm))),r._onlineComponents}function iD(r){return HT(r).then(e=>e.syncEngine)}async function FT(r){const e=await HT(r),n=e.eventManager;return n.onListen=B2.bind(null,e.syncEngine),n.onUnlisten=F2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G2.bind(null,e.syncEngine),n}function rD(r,e,n={}){const a=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new qT({next:w=>{E.su(),f.enqueueAndForget(()=>OT(u,A));const I=w.docs.has(m);!I&&w.fromCache?g.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&p&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new MT(cp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return xT(u,A)}(await FT(r),r.asyncQueue,e,n,a)),a.promise}function aD(r,e,n={}){const a=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new qT({next:w=>{E.su(),f.enqueueAndForget(()=>OT(u,A)),w.fromCache&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new MT(m,E,{includeMetadataChanges:!0,Ta:!0});return xT(u,A)}(await FT(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sD(r,e,n,a){if(e===!0&&a===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function _0(r){if(!ye.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function v0(r){if(ye.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function Ja(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firestore.googleapis.com",E0=!0;class T0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KT,this.ssl=E0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:E0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LC)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new mI;switch(a.type){case"firstParty":return new _I(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=y0.get(n);a&&(he("ComponentProvider","Removing Datastore"),y0.delete(n),a.terminate())}(this),Promise.resolve()}}function oD(r,e,n,a={}){var o;const u=(r=Ja(r,Qh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==KT&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!Ya(p,f)&&(r._setSettings(p),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=Yt.MOCK_USER;else{g=HR(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yt(A)}r._authCredentials=new pI(new ME(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new sr(this.firestore,e,this._query)}}class vn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ta extends sr{constructor(e,n,a){super(e,n,cp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ye(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function $a(r,e,...n){if(r=Zt(r),$T("collection","path",e),r instanceof Qh){const a=Je.fromString(e,...n);return v0(a),new ta(r,null,a)}{if(!(r instanceof vn||r instanceof ta))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Je.fromString(e,...n));return v0(a),new ta(r.firestore,null,a)}}function Np(r,e,...n){if(r=Zt(r),arguments.length===1&&(e=VE.newId()),$T("doc","path",e),r instanceof Qh){const a=Je.fromString(e,...n);return _0(a),new vn(r,null,new ye(a))}{if(!(r instanceof vn||r instanceof ta))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Je.fromString(e,...n));return _0(a),new vn(r.firestore,r instanceof ta?r.converter:null,new ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="AsyncQueue";class A0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new AT(this,"async_queue_retry"),this.bu=()=>{const a=mm();a&&he(b0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Zi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!So(e))throw e;he(b0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw nr("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=wp.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class yu extends Qh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new A0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A0(e),this._firestoreClient=void 0,await e}}}function lD(r,e){const n=typeof r=="object"?r:SE(),a=typeof r=="string"?r:fh,o=rp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=BR("firestore");u&&oD(o,...u)}return o}function xp(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||uD(r),r._firestoreClient}function uD(r){var e,n,a;const o=r._freezeSettings(),u=function(m,p,g,E){return new OI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,GT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new tD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(Ft.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=/^__.*__$/;class hD{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}function YT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class kp{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Ku(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(YT(this.Lu)&&cD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class fD{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Fh(e)}ju(e,n,a,o=!1){return new kp({Lu:e,methodName:n,zu:a,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pp(r){const e=r._freezeSettings(),n=Fh(r._databaseId);return new fD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function dD(r,e,n,a,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);JT("Data must be an object, but it was:",f,a);const m=WT(a,f);let p,g;if(u.merge)p=new Gn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=mD(e,A,n);if(!f.contains(w))throw new le(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);gD(E,w)||E.push(w)}p=new Gn(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new hD(new Un(m),p,g)}function XT(r,e,n,a=!1){return Lp(n,r.ju(a?4:3,e))}function Lp(r,e){if(ZT(r=Zt(r)))return JT("Unsupported field value:",e,r),WT(r,e);if(r instanceof QT)return function(a,o){if(!YT(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=Lp(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=Zt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ct.fromDate(a);return{timestampValue:_h(o.serializer,u)}}if(a instanceof Ct){const u=new Ct(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(a instanceof Mp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof yo)return{bytesValue:fT(o.serializer,a._byteString)};if(a instanceof vn){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Vp)return function(f,m){return{mapValue:{fields:{[qE]:{stringValue:HE},[dh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return fp(m.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Kh(a)}`)}(r,e)}function WT(r,e){const n={};return PE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(r,(a,o)=>{const u=Lp(o,e.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function ZT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ct||r instanceof Mp||r instanceof yo||r instanceof vn||r instanceof QT||r instanceof Vp)}function JT(r,e,n){if(!ZT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Kh(n);throw a==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+a)}}function mD(r,e,n){if((e=Zt(e))instanceof Op)return e._internalPath;if(typeof e=="string")return eb(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const pD=new RegExp("[~\\*/\\[\\]]");function eb(r,e,n){if(e.search(pD)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Op(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new le(J.INVALID_ARGUMENT,m+r+p)}function gD(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yD extends Up{data(){return super.data()}}function jp(r,e){return typeof e=="string"?eb(r,e):e instanceof Op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zp{}class Yh extends zp{}function S0(r,e,...n){let a=[];e instanceof zp&&a.push(e),a=a.concat(n),function(u){const f=u.filter(p=>p instanceof qp).length,m=u.filter(p=>p instanceof Bp).length;if(f>1||f>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Bp extends Yh{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Bp(e,n,a)}_apply(e){const n=this._parse(e);return tb(e._query,n),new sr(e.firestore,e.converter,Vm(e._query,n))}_parse(e){const n=Pp(e.firestore);return function(u,f,m,p,g,E,A){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){C0(A,E);const M=[];for(const H of A)M.push(I0(p,u,H));w={arrayValue:{values:M}}}else w=I0(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||C0(A,E),w=XT(m,f,A,E==="in"||E==="not-in");return Tt.create(g,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class qp extends zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qp(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)tb(f,p),f=Vm(f,p)}(e._query,n),new sr(e.firestore,e.converter,Vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hp extends Yh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hp(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,f)}(e._query,this._field,this._direction);return new sr(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new is(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function w0(r,e="asc"){const n=e,a=jp("orderBy",r);return Hp._create(a,n)}class Fp extends Yh{constructor(e,n,a){super(),this.type=e,this._limit=n,this._limitType=a}static _create(e,n,a){return new Fp(e,n,a)}_apply(e){return new sr(e.firestore,e.converter,ph(e._query,this._limit,this._limitType))}}function R0(r){return Fp._create("limit",r,"F")}class Gp extends Yh{constructor(e,n,a){super(),this.type=e,this._docOrFields=n,this._inclusive=a}static _create(e,n,a){return new Gp(e,n,a)}_apply(e){const n=ED(e,this.type,this._docOrFields,this._inclusive);return new sr(e.firestore,e.converter,function(o,u){return new is(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(e._query,n))}}function vD(...r){return Gp._create("startAfter",r,!1)}function ED(r,e,n,a){if(n[0]=Zt(n[0]),n[0]instanceof Up)return function(u,f,m,p,g){if(!p)throw new le(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const E=[];for(const A of io(u))if(A.field.isKeyField())E.push(mh(f,p.key));else{const w=p.data.field(A.field);if(Lh(w))throw new le(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const I=A.field.canonicalString();throw new le(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}E.push(w)}return new mo(E,g)}(r._query,r.firestore._databaseId,e,n[0]._document,a);{const o=Pp(r.firestore);return function(f,m,p,g,E,A){const w=f.explicitOrderBy;if(E.length>w.length)throw new le(J.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let M=0;M<E.length;M++){const H=E[M];if(w[M].field.isKeyField()){if(typeof H!="string")throw new le(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof H}`);if(!hp(f)&&H.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${H}' contains a slash.`);const U=f.path.child(Je.fromString(H));if(!ye.isDocumentKey(U))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const $=new ye(U);I.push(mh(m,$))}else{const U=XT(p,g,H);I.push(U)}}return new mo(I,A)}(r._query,r.firestore._databaseId,o,e,n,a)}}function I0(r,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hp(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Je.fromString(n));if(!ye.isDocumentKey(a))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return mh(r,new ye(a))}if(n instanceof vn)return mh(r,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function C0(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tb(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TD{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ns(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[dh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new Vp(u)}convertGeoPoint(e){return new Mp(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Uh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=ra(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Je.fromString(e);$e(_T(a));const o=new Jl(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return o.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(r,e,n){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nb extends Up{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(jp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class ih extends nb{data(e={}){return super.data(e)}}class AD{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new ih(this._firestore,this._userDataWriter,a.key,a,new Bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:SD(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(r){r=Ja(r,vn);const e=Ja(r.firestore,yu);return rD(xp(e),r._key).then(n=>CD(e,r,n))}class ib extends TD{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function $l(r){r=Ja(r,sr);const e=Ja(r.firestore,yu),n=xp(e),a=new ib(e);return _D(r._query),aD(n,r._query).then(o=>new AD(e,a,r,o))}function RD(r){return rb(Ja(r.firestore,yu),[new dp(r._key,pi.none())])}function ID(r,e){const n=Ja(r.firestore,yu),a=Np(r),o=bD(r.converter,e);return rb(n,[dD(Pp(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,pi.exists(!1))]).then(()=>a)}function rb(r,e){return function(a,o){const u=new Zi;return a.asyncQueue.enqueueAndForget(async()=>$2(await iD(a),o,u)),u.promise}(xp(r),e)}function CD(r,e,n){const a=n.docs.get(e._key),o=new ib(r);return new nb(r,o,e._key,a,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){bo=o})(To),lo(new Xa("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new yu(new gI(a.getProvider("auth-internal")),new vI(f,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Jr(Nv,xv,e),Jr(Nv,xv,"esm2017")})();var DD="firebase",ND="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(DD,ND,"app");function $p(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xD=ab,sb=new hu("auth","Firebase",ab());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new np("@firebase/auth");function OD(r,...e){Ah.logLevel<=Oe.WARN&&Ah.warn(`Auth (${To}): ${r}`,...e)}function rh(r,...e){Ah.logLevel<=Oe.ERROR&&Ah.error(`Auth (${To}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw Kp(r,...e)}function yi(r,...e){return Kp(r,...e)}function ob(r,e,n){const a=Object.assign(Object.assign({},xD()),{[e]:n});return new hu("auth","Firebase",a).create(e,{appName:r.name})}function Ji(r){return ob(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return sb.create(r,...e)}function Ee(r,e,...n){if(!r)throw Kp(e,...n)}function Qi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw rh(e),new Error(e)}function rr(r,e){r||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function MD(){return D0()==="http:"||D0()==="https:"}function D0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MD()||KR()||"connection"in navigator)?navigator.onLine:!0}function kD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=FR()||QR()}get(){return VD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r,e){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new _u(3e4,6e4);function ca(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ha(r,e,n,a,o={}){return ub(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=fu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return $R()||(g.referrerPolicy="no-referrer"),lb.fetch()(cb(r,r.config.apiHost,n,m),g)})}async function ub(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},PD),e);try{const o=new jD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Yc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Yc(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ob(r,E,g);Qn(r,E)}}catch(o){if(o instanceof ar)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function vu(r,e,n,a,o={}){const u=await ha(r,e,n,a,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function cb(r,e,n,a){const o=`${e}${n}?${a}`;return r.config.emulator?Qp(r.config,o):`${r.config.apiScheme}://${o}`}function UD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(yi(this.auth,"network-request-failed")),LD.get())})}}function Yc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=yi(r,e,a);return o.customData._tokenResponse=n,o}function N0(r){return r!==void 0&&r.enterprise!==void 0}class zD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BD(r,e){return ha(r,"GET","/v2/recaptchaConfig",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(r,e){return ha(r,"POST","/v1/accounts:delete",e)}async function hb(r,e){return ha(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HD(r,e=!1){const n=Zt(r),a=await n.getIdToken(e),o=Yp(a);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Kl(gm(o.auth_time)),issuedAtTime:Kl(gm(o.iat)),expirationTime:Kl(gm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gm(r){return Number(r)*1e3}function Yp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=yE(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function x0(r){const e=Yp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ar&&FD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function FD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await ru(r,hb(n,{idToken:a}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?fb(u.providerUserInfo):[],m=KD(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Gm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function $D(r){const e=Zt(r);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KD(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function fb(r){return r.map(e=>{var{providerId:n}=e,a=$p(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(r,e){const n=await ub(r,{},async()=>{const a=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=cb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",lb.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YD(r,e){return ha(r,"POST","/v2/accounts:revokeToken",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=x0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await QD(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new ao;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=$p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HD(this,e)}reload(){return $D(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await ru(this,qD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,p,g,E;const A=(a=n.displayName)!==null&&a!==void 0?a:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,I=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Q=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:P,emailVerified:W,isAnonymous:ne,providerData:se,stsTokenManager:O}=n;Ee(P&&O,e,"internal-error");const R=ao.fromJSON(this.name,O);Ee(typeof P=="string",e,"internal-error"),Fr(A,e.name),Fr(w,e.name),Ee(typeof W=="boolean",e,"internal-error"),Ee(typeof ne=="boolean",e,"internal-error"),Fr(I,e.name),Fr(M,e.name),Fr(H,e.name),Fr(U,e.name),Fr($,e.name),Fr(Q,e.name);const S=new Yi({uid:P,auth:e,email:w,emailVerified:W,displayName:A,isAnonymous:ne,photoURL:M,phoneNumber:I,tenantId:H,stsTokenManager:R,createdAt:$,lastLoginAt:Q});return se&&Array.isArray(se)&&(S.providerData=se.map(N=>Object.assign({},N))),U&&(S._redirectEventId=U),S}static async _fromIdTokenResponse(e,n,a=!1){const o=new ao;o.updateFromServerResponse(n);const u=new Yi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ao;m.updateFromIdToken(a);const p=new Yi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;function Xi(r){rr(r instanceof Function,"Expected a class definition");let e=O0.get(r);return e?(rr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,O0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}db.type="NONE";const M0=db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r,e,n){return`firebase:${r}:${e}:${n}`}class so{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new so(Xi(M0),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Xi(M0);const f=ah(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){const A=Yi._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,e,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new so(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vb(e))return"Blackberry";if(Eb(e))return"Webos";if(pb(e))return"Safari";if((e.includes("chrome/")||gb(e))&&!e.includes("edge/"))return"Chrome";if(_b(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function mb(r=Wt()){return/firefox\//i.test(r)}function pb(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gb(r=Wt()){return/crios\//i.test(r)}function yb(r=Wt()){return/iemobile/i.test(r)}function _b(r=Wt()){return/android/i.test(r)}function vb(r=Wt()){return/blackberry/i.test(r)}function Eb(r=Wt()){return/webos/i.test(r)}function Xp(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function XD(r=Wt()){var e;return Xp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WD(){return YR()&&document.documentMode===10}function Tb(r=Wt()){return Xp(r)||_b(r)||Eb(r)||vb(r)||/windows phone/i.test(r)||yb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(r,e=[]){let n;switch(r){case"Browser":n=V0(Wt());break;case"Worker":n=`${V0(Wt())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(r,e={}){return ha(r,"GET","/v2/passwordPolicy",ca(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6;class tN{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:eN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k0(this),this.idTokenSubscription=new k0(this),this.beforeStateQueue=new ZD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hb(this,{idToken:e}),a=await Yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Ji(this));const n=e?Zt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JD(this),n=new tN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await YD(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function os(r){return Zt(r)}class k0{constructor(e){this.auth=e,this.observer=null,this.addObserver=i1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iN(r){Xh=r}function Ab(r){return Xh.loadJS(r)}function rN(){return Xh.recaptchaEnterpriseScript}function aN(){return Xh.gapiScript}function sN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class oN{constructor(){this.enterprise=new lN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uN="recaptcha-enterprise",Sb="NO_RECAPTCHA";class cN{constructor(e){this.type=uN,this.auth=os(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{BD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new zD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;N0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(Sb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&N0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=rN();p.length!==0&&(p+=m),Ab(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function P0(r,e,n,a=!1,o=!1){const u=new cN(r);let f;if(o)f=Sb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function $m(r,e,n,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await P0(r,e,n,n==="getOobCode");return a(r,f)}else return a(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await P0(r,e,n,n==="getOobCode");return a(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(r,e){const n=rp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ya(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function fN(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function dN(r,e,n){const a=os(r);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=wb(e),{host:f,port:m}=mN(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(Ya(g,a.config.emulator)&&Ya(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,pN()}function wb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function mN(r){const e=wb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:L0(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:L0(f)}}}function L0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function pN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function gN(r,e){return ha(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(r,e){return vu(r,"POST","/v1/accounts:signInWithPassword",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,e))}async function vN(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Wp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new au(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,n,"signInWithPassword",yN);case"emailLink":return _N(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,a,"signUpPassword",gN);case"emailLink":return vN(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r,e){return vu(r,"POST","/v1/accounts:signInWithIdp",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="http://localhost";class es extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=$p(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new es(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,oo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:EN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bN(r){const e=Pl(Ll(r)).link,n=e?Pl(Ll(e)).deep_link_id:null,a=Pl(Ll(r)).deep_link_id;return(a?Pl(Ll(a)).link:null)||a||n||e||r}class Zp{constructor(e){var n,a,o,u,f,m;const p=Pl(Ll(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,A=TN((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=bN(e);try{return new Zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Zp.parseLink(n);return Ee(a,"argument-error"),au._fromEmailAndCode(e,a.code,a.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Rb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Eu{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Kr.credential(n,a)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Eu{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Eu{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Yr.credential(n,a)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(r,e){return vu(r,"POST","/v1/accounts:signUp",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Yi._fromIdTokenResponse(e,a,o),f=U0(a);return new ts({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=U0(a);return new ts({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function U0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends ar{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new wh(e,n,a,o)}}function Ib(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,u,e,a):u})}async function SN(r,e,n=!1){const a=await ru(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ts._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(r,e,n=!1){const{auth:a}=r;if(Ln(a.app))return Promise.reject(Ji(a));const o="reauthenticate";try{const u=await ru(r,Ib(a,o,e,r),n);Ee(u.idToken,a,"internal-error");const f=Yp(u.idToken);Ee(f,a,"internal-error");const{sub:m}=f;return Ee(r.uid===m,a,"user-mismatch"),ts._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(r,e,n=!1){if(Ln(r.app))return Promise.reject(Ji(r));const a="signIn",o=await Ib(r,a,e),u=await ts._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function RN(r,e){return Cb(os(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(r){const e=os(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Nb(r,e,n){if(Ln(r.app))return Promise.reject(Ji(r));const a=os(r),f=await $m(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Db(r),p}),m=await ts._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function IN(r,e,n){return Ln(r.app)?Promise.reject(Ji(r)):RN(Zt(r),Ro.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Db(r),a})}function CN(r,e,n,a){return Zt(r).onIdTokenChanged(e,n,a)}function DN(r,e,n){return Zt(r).beforeAuthStateChanged(e,n)}function NN(r,e,n,a){return Zt(r).onAuthStateChanged(e,n,a)}function xN(r){return Zt(r).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=1e3,MN=10;class Ob extends xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);WD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MN):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ob.type="LOCAL";const VN=Ob;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb extends xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mb.type="SESSION";const Vb=Mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Wh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await kN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function LN(r){_i().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function UN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zN(){return kb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebaseLocalStorageDb",BN=1,Ih="firebaseLocalStorage",Lb="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function qN(){const r=indexedDB.deleteDatabase(Pb);return new Tu(r).toPromise()}function Km(){const r=indexedDB.open(Pb,BN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Ih,{keyPath:Lb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Ih)?e(a):(a.close(),await qN(),e(await Km()))})})}async function j0(r,e,n){const a=Zh(r,!0).put({[Lb]:e,value:n});return new Tu(a).toPromise()}async function HN(r,e){const n=Zh(r,!1).get(e),a=await new Tu(n).toPromise();return a===void 0?null:a.value}function z0(r,e){const n=Zh(r,!0).delete(e);return new Tu(n).toPromise()}const FN=800,GN=3;class Ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>GN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(zN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UN(),!this.activeServiceWorker)return;this.sender=new PN(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await j0(e,Rh,"1"),await z0(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>j0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>HN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Zh(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ub.type="LOCAL";const $N=Ub;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(r,e){return e?Xi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QN(r){return Cb(r.auth,new eg(r),r.bypassAuthState)}function YN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),wN(n,new eg(r),r.bypassAuthState)}async function XN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),SN(n,new eg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QN;case"linkViaPopup":case"linkViaRedirect":return XN;case"reauthViaPopup":case"reauthViaRedirect":return YN;default:Qn(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new _u(2e3,1e4);class no extends jb{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WN.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="pendingRedirect",sh=new Map;class JN extends jb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const a=await ex(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ex(r,e){const n=ix(e),a=nx(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function tx(r,e){sh.set(r._key(),e)}function nx(r){return Xi(r._redirectPersistence)}function ix(r){return ah(ZN,r.config.apiKey,r.name)}async function rx(r,e,n=!1){if(Ln(r.app))return Promise.reject(Ji(r));const a=os(r),o=KN(a,e),f=await new JN(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=10*60*1e3;class sx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ox(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!zb(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ax&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(e))}saveEventToCache(e){this.cachedEventUids.add(B0(e)),this.lastProcessedEventTime=Date.now()}}function B0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ox(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(r,e={}){return ha(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cx=/^https?/;async function hx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lx(r);for(const n of e)try{if(fx(n))return}catch{}Qn(r,"unauthorized-domain")}function fx(r){const e=Fm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!cx.test(n))return!1;if(ux.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new _u(3e4,6e4);function q0(){const r=_i().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mx(r){return new Promise((e,n)=>{var a,o,u;function f(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),n(yi(r,"network-request-failed"))},timeout:dx.get()})}if(!((o=(a=_i().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=_i().gapi)===null||u===void 0)&&u.load)f();else{const m=sN("iframefcb");return _i()[m]=()=>{gapi.load?f():n(yi(r,"network-request-failed"))},Ab(`${aN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw oh=null,e})}let oh=null;function px(r){return oh=oh||mx(r),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new _u(5e3,15e3),yx="__/auth/iframe",_x="emulator/auth/iframe",vx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ex=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tx(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Qp(e,_x):`https://${r.config.authDomain}/${yx}`,a={apiKey:e.apiKey,appName:r.name,v:To},o=Ex.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${fu(a).slice(1)}`}async function bx(r){const e=await px(r),n=_i().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:Tx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vx,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=yi(r,"network-request-failed"),m=_i().setTimeout(()=>{u(f)},gx.get());function p(){_i().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sx=500,wx=600,Rx="_blank",Ix="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cx(r,e,n,a=Sx,o=wx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Ax),{width:a.toString(),height:o.toString(),top:u,left:f}),g=Wt().toLowerCase();n&&(m=gb(g)?Rx:n),mb(g)&&(e=e||Ix,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[I,M])=>`${w}${I}=${M},`,"");if(XD(g)&&m!=="_self")return Dx(e||"",m),new H0(null);const A=window.open(e||"",m,E);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new H0(A)}function Dx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__/auth/handler",xx="emulator/auth/handler",Ox=encodeURIComponent("fac");async function F0(r,e,n,a,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:To,eventId:o};if(e instanceof Rb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",n1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof Eu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${Ox}=${encodeURIComponent(p)}`:"";return`${Mx(r)}?${fu(m).slice(1)}${g}`}function Mx({config:r}){return r.emulator?Qp(r,xx):`https://${r.authDomain}/${Nx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class Vx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vb,this._completeRedirectFn=rx,this._overrideRedirectResult=tx}async _openPopup(e,n,a,o){var u;rr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await F0(e,n,a,Fm(),o);return Cx(e,f,Jp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await F0(e,n,a,Fm(),o);return LN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await bx(e),a=new sx(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ym];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tb()||pb()||Xp()}}const kx=Vx;var G0="@firebase/auth",$0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ux(r){lo(new Xa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(r)},g=new nN(a,o,u,p);return fN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),lo(new Xa("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(a=>new Px(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(G0,$0,Lx(r)),Jr(G0,$0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=5*60,zx=EE("authIdTokenMaxAge")||jx;let K0=null;const Bx=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>zx)return;const o=n==null?void 0:n.token;K0!==o&&(K0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qx(r=SE()){const e=rp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=hN(r,{popupRedirectResolver:kx,persistence:[$N,VN,Vb]}),a=EE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=Bx(u.toString());DN(n,f,()=>f(n.currentUser)),CN(n,m=>f(m))}}const o=_E("auth");return o&&dN(n,`http://${o}`),n}function Hx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}iN({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=yi("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",Hx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ux("Browser");const Fx={apiKey:"AIzaSyA0fiGGAPDwRC-tTvQLzP_p1ckM3qWBie8",authDomain:"tienda-online-45d1c.firebaseapp.com",projectId:"tienda-online-45d1c",storageBucket:"tienda-online-45d1c.firebasestorage.app",messagingSenderId:"99161079417",appId:"1:99161079417:web:5fca3cb0ae9b3525921ea8"},Bb=AE(Fx),Ki=lD(Bb),ql=qx(Bb);function Gx(){const[r,e]=q.useState([]),[n,a]=q.useState(!0),[o,u]=q.useState(null),[f,m]=q.useState(!0),{agregarAlCarrito:p}=q.useContext(cu),g=8,E=async(I=!1)=>{try{let M;if(!I)M=S0($a(Ki,"productos"),w0("nombre"),R0(g));else{if(!o)return;M=S0($a(Ki,"productos"),w0("nombre"),vD(o),R0(g))}const H=await $l(M);if(H.empty){m(!1);return}const U=H.docs.map($=>({id:$.id,...$.data()}));u(H.docs[H.docs.length-1]),e(I?$=>[...$,...U]:U)}catch(M){console.error("Error:",M)}finally{a(!1)}};q.useEffect(()=>{E()},[]);const A=()=>{!n&&f&&(a(!0),E(!0))},w=I=>{p({...I,cantidad:1}),xe.success("¡Producto agregado!",{description:`${I.nombre} - $${I.precio}`,duration:2e3,icon:"🛍️"})};return C.jsxs("div",{children:[C.jsx("h1",{className:"products-title",children:"Productos"}),C.jsx("div",{className:"product-grid",children:r.map(I=>{var M;return C.jsxs("div",{className:"product-card",children:[C.jsxs(hn,{to:`/producto/${I.id}`,children:[C.jsx("img",{src:((M=I.imagenes)==null?void 0:M[0])||I.imagen,alt:I.nombre,onError:H=>{var U;console.log("Error cargando imagen:",(U=I.imagenes)==null?void 0:U[0]),H.target.src="ruta/a/imagen/por/defecto.jpg"}}),C.jsxs("div",{className:"product-info",children:[C.jsx("h3",{children:I.nombre}),C.jsxs("p",{className:"price",children:["$",I.precio]})]})]}),C.jsx("button",{className:"add-to-cart",onClick:()=>w(I),children:"Agregar al carrito"})]},I.id)})}),f&&C.jsx("div",{className:"load-more",children:C.jsx("button",{onClick:A,disabled:n,className:"load-more-button",children:n?"Cargando...":"Cargar más productos"})})]})}function $x(){return C.jsxs(C.Fragment,{children:[C.jsx(xR,{}),C.jsx(OR,{}),C.jsx(Gx,{})]})}function Kx(){const{carrito:r,eliminarDelCarrito:e,actualizarCantidad:n,limpiarCarrito:a}=q.useContext(cu),[o,u]=q.useState(!1),[f,m]=q.useState({nombre:"",telefono:"",direccion:"",comentarios:""}),p=()=>f.nombre.trim()?f.telefono.trim()?f.direccion.trim()?!0:(xe.error("Por favor ingresa tu dirección"),!1):(xe.error("Por favor ingresa tu teléfono"),!1):(xe.error("Por favor ingresa tu nombre"),!1),g=r.reduce((I,M)=>I+M.precio*M.cantidad,0),E=I=>{const{name:M,value:H}=I.target;m(U=>({...U,[M]:H}))},A=(I,M,H)=>{window.confirm("¿Estás seguro de que deseas eliminar este producto del carrito?")&&(e(I,M,H),xe.info("Producto eliminado del carrito",{icon:"🗑️"}))},w=I=>{if(I.preventDefault(),!!p()&&window.confirm("¿Estás seguro de enviar el pedido? Verifica que todos los datos sean correctos.")){const M=`¡Hola! Me gustaría hacer el siguiente pedido:

${r.map(H=>`- ${H.nombre}
  Cantidad: ${H.cantidad}
  Color: ${H.colorSeleccionado||"No especificado"}
  Talla: ${H.tallaSeleccionada||"No especificada"}
  Precio unitario: $${H.precio}
  Subtotal: $${(H.precio*H.cantidad).toFixed(2)}`).join(`

`)}

Total del pedido: $${g.toFixed(2)}

Datos de envío:
Nombre: ${f.nombre}
Teléfono: ${f.telefono}
Dirección: ${f.direccion}
Comentarios adicionales: ${f.comentarios||"Ninguno"}`;window.open(`https://wa.me/+5511949749057?text=${encodeURIComponent(M)}`),a(),u(!1),xe.success("¡Gracias por tu compra!",{description:"Tu pedido ha sido enviado",icon:"✨"})}};return r.length===0?C.jsxs("div",{className:"carrito-vacio",children:[C.jsx("h2",{children:"Tu carrito está vacío"}),C.jsx("p",{children:"¡Agrega algunos productos!"}),C.jsx(hn,{to:"/",children:"Ir a comprar"})]}):C.jsxs("div",{className:"container-carrito",children:[r.map(I=>C.jsxs("div",{className:"producto-in-carrito",children:[C.jsx("div",{className:"producto-in-carrito-img",children:C.jsx("img",{src:Array.isArray(I.imagenes)?I.imagenes[0]:I.imagen,alt:I.nombre})}),C.jsxs("div",{className:"producto-info",children:[C.jsx("h4",{children:I.nombre}),C.jsxs("p",{children:["Color: ",I.colorSeleccionado||"No especificado"]}),C.jsxs("p",{children:["Talla: ",I.tallaSeleccionada||"No especificada"]}),C.jsxs("p",{children:["$",I.precio]})]}),C.jsxs("div",{className:"botones-carrito",children:[C.jsx("button",{onClick:()=>n(I.id,I.colorSeleccionado,I.tallaSeleccionada,I.cantidad+1),children:"+"}),C.jsx("span",{children:I.cantidad}),C.jsx("button",{onClick:()=>n(I.id,I.colorSeleccionado,I.tallaSeleccionada,I.cantidad-1),children:"-"}),C.jsx("button",{onClick:()=>A(I.id,I.colorSeleccionado,I.tallaSeleccionada),className:"delete-btn",children:"Eliminar"})]})]},I.id)),C.jsxs("div",{className:"carrito-total",children:[C.jsxs("h3",{children:["Total: $",g.toFixed(2)]}),C.jsx("button",{onClick:()=>u(!0),children:"Finalizar Compra"})]}),o&&C.jsx("div",{className:"form-overlay",children:C.jsxs("div",{className:"whatsapp-form",children:[C.jsx("h3",{children:"Completa tus datos para el envío"}),C.jsxs("form",{onSubmit:w,children:[C.jsx("input",{type:"text",name:"nombre",placeholder:"Nombre completo",value:f.nombre,onChange:E,required:!0}),C.jsx("input",{type:"tel",name:"telefono",placeholder:"Número de teléfono",value:f.telefono,onChange:E,required:!0}),C.jsx("textarea",{name:"direccion",placeholder:"Dirección de envío",value:f.direccion,onChange:E,required:!0}),C.jsx("textarea",{name:"comentarios",placeholder:"Comentarios adicionales (opcional)",value:f.comentarios,onChange:E}),C.jsxs("div",{className:"form-buttons",children:[C.jsx("button",{type:"button",onClick:()=>u(!1),children:"Cancelar"}),C.jsx("button",{type:"submit",children:"Enviar por WhatsApp"})]})]})]})})]})}function Qx(){return C.jsx("div",{className:"about-us",children:C.jsxs("div",{className:"about-container",children:[C.jsx("h1",{children:"Sobre Nosotros"}),C.jsxs("section",{className:"about-section",children:[C.jsx("h2",{children:"¿Quiénes Somos?"}),C.jsx("p",{children:"Somos una tienda especializada en ropa y accesorios, comprometidos con ofrecer productos de alta calidad a precios accesibles."})]}),C.jsxs("section",{className:"about-section",children:[C.jsx("h2",{children:"Proceso de Compra"}),C.jsxs("div",{className:"process-steps",children:[C.jsxs("div",{className:"step",children:[C.jsx("h3",{children:"1. Selecciona tus productos"}),C.jsx("p",{children:"Explora nuestro catálogo y agrega los productos que desees al carrito."})]}),C.jsxs("div",{className:"step",children:[C.jsx("h3",{children:"2. Confirma tu pedido"}),C.jsx("p",{children:"Revisa tu carrito y confirma los productos seleccionados."})]}),C.jsxs("div",{className:"step",children:[C.jsx("h3",{children:"3. Entrega"}),C.jsx("p",{children:"Recibirás tu pedido en la dirección indicada y pagarás al momento de la entrega."})]})]})]}),C.jsxs("section",{className:"about-section",children:[C.jsx("h2",{children:"Política de Devoluciones"}),C.jsx("p",{children:"Aceptamos devoluciones dentro de los primeros 7 días después de la entrega. El producto debe estar en su estado original y sin usar."})]})]})})}const Jh=q.createContext();function Yx({children:r}){const[e,n]=q.useState(null),[a,o]=q.useState(!0),u=async(p,g)=>{try{const E=await IN(ql,p,g);return n(E.user),E}catch(E){throw console.error("Error en login:",E),E}};q.useEffect(()=>{const p=NN(ql,g=>{console.log("Estado de autenticación cambiado:",g),n(g),o(!1)});return()=>p()},[]);const f=(p,g)=>Nb(ql,p,g),m=()=>xN(ql);return C.jsx(Jh.Provider,{value:{user:e,signup:f,login:u,logout:m,loading:a},children:!a&&r})}function Xx(){const[r,e]=q.useState(""),[n,a]=q.useState(""),[o,u]=q.useState(""),{login:f}=q.useContext(Jh);Dh();const m=async g=>{g.preventDefault();try{console.log("Intentando login con:",r,n);const E=await f(r,n);console.log("Login exitoso:",E.user),E.user&&(window.location.href="/admin")}catch(E){console.error("Error en login:",E.message),u("Credenciales incorrectas: "+E.message)}},p=async()=>{try{const g=await Nb(ql,"kliuvertfigueroa@gmail.com","Samuel31724731");console.log("Usuario creado:",g.user),alert("Cuenta creada con éxito")}catch(g){console.error("Error completo:",g);let E="Error al crear cuenta: ";switch(g.code){case"auth/email-already-in-use":E+="El email ya está registrado";break;case"auth/invalid-email":E+="Email inválido";break;case"auth/operation-not-allowed":E+="Autenticación por email/password no está habilitada";break;case"auth/weak-password":E+="La contraseña es muy débil";break;default:E+=g.message}u(E)}};return C.jsx("div",{className:"login-container",children:C.jsxs("form",{onSubmit:m,className:"login-form",children:[C.jsx("h2",{children:"Admin Login"}),o&&C.jsx("p",{className:"error",children:o}),C.jsx("div",{className:"form-group",children:C.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:g=>e(g.target.value)})}),C.jsx("div",{className:"form-group",children:C.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:g=>a(g.target.value)})}),C.jsx("button",{type:"submit",children:"Login"}),C.jsx("button",{type:"button",onClick:p,style:{marginTop:"10px"},children:"Crear Cuenta Admin"})]})})}function Wx(){const{user:r,logout:e}=q.useContext(Jh),n=Dh(),[a,o]=q.useState([]),[u,f]=q.useState({nombre:"",precio:"",imagenes:[""],categoria:"",marca:"",colores:[""],tallas:["unico"],especificaciones:[]}),m=()=>{f({...u,colores:[...u.colores,""]})},p=P=>{const W=u.colores.filter((ne,se)=>se!==P);f({...u,colores:W})},g=(P,W)=>{const ne=[...u.colores];ne[P]=W,f({...u,colores:ne})},E=()=>{f({...u,tallas:[...u.tallas,""]})},A=P=>{const W=u.tallas.filter((ne,se)=>se!==P);f({...u,tallas:W})},w=(P,W)=>{const ne=[...u.tallas];ne[P]=W,f({...u,tallas:ne})},I=(P,W)=>{const ne=[...u.imagenes];ne[P]=W,f({...u,imagenes:ne})},M=()=>{f({...u,imagenes:[...u.imagenes,""]})},H=P=>{const W=u.imagenes.filter((ne,se)=>se!==P);f({...u,imagenes:W})},U=async P=>{P.preventDefault();try{await ID($a(Ki,"productos"),{nombre:u.nombre,precio:Number(u.precio),imagenes:u.imagenes.filter(se=>se!==""),categoria:u.categoria,marca:u.marca,colores:u.colores.filter(se=>se!==""),tallas:u.tallas.filter(se=>se!==""),especificaciones:u.especificaciones}),f({nombre:"",precio:"",imagenes:[""],categoria:"",marca:"",colores:[""],tallas:["unico"],especificaciones:[]});const ne=(await $l($a(Ki,"productos"))).docs.map(se=>({id:se.id,...se.data()}));o(ne),alert("Producto agregado con éxito")}catch(W){console.error("Error al agregar producto:",W),alert("Error al agregar producto")}},$=async()=>{try{await e(),n("/admin/login")}catch(P){console.error("Error al cerrar sesión:",P)}},Q=async P=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{await RD(Np(Ki,"productos",P));const ne=(await $l($a(Ki,"productos"))).docs.map(se=>({id:se.id,...se.data()}));o(ne),alert("Producto eliminado con éxito")}catch(W){console.error("Error al eliminar producto:",W),alert("Error al eliminar el producto")}};return q.useEffect(()=>{(async()=>{const ne=(await $l($a(Ki,"productos"))).docs.map(se=>({id:se.id,...se.data()}));o(ne)})()},[]),q.useEffect(()=>{r||n("/admin/login")},[r,n]),C.jsxs("div",{className:"admin-container",children:[C.jsxs("div",{className:"admin-header",children:[C.jsx("h2",{children:"Panel de Administración"}),C.jsx("button",{onClick:$,className:"logout-btn",children:"Cerrar Sesión"})]}),C.jsxs("div",{className:"admin-content",children:[C.jsxs("section",{className:"add-product",children:[C.jsx("h3",{children:"Añadir Nuevo Producto"}),C.jsxs("form",{onSubmit:U,children:[C.jsx("input",{type:"text",placeholder:"Nombre del producto",value:u.nombre,onChange:P=>f({...u,nombre:P.target.value}),required:!0}),C.jsx("input",{type:"number",placeholder:"Precio",value:u.precio,onChange:P=>f({...u,precio:P.target.value}),required:!0}),C.jsxs("div",{className:"imagenes-container",children:[C.jsx("h4",{children:"Imágenes del producto"}),u.imagenes.map((P,W)=>C.jsxs("div",{className:"imagen-input",children:[C.jsx("input",{type:"text",placeholder:`URL de la imagen ${W+1}`,value:P,onChange:ne=>I(W,ne.target.value),required:!0}),W>0&&C.jsx("button",{type:"button",onClick:()=>H(W),className:"delete-btn",children:"Eliminar"})]},W)),C.jsx("button",{type:"button",onClick:M,className:"add-btn",children:"Añadir otra imagen"})]}),C.jsxs("select",{value:u.categoria,onChange:P=>f({...u,categoria:P.target.value}),required:!0,children:[C.jsx("option",{value:"",children:"Seleccionar categoría"}),C.jsx("option",{value:"gorras",children:"Gorras"}),C.jsx("option",{value:"ropa-mujer",children:"Ropa Mujer"}),C.jsx("option",{value:"ropa-hombre",children:"Ropa Hombre"})]}),C.jsx("input",{type:"text",placeholder:"Marca",value:u.marca,onChange:P=>f({...u,marca:P.target.value}),required:!0}),C.jsxs("div",{className:"colores-container",children:[C.jsx("h4",{children:"Colores disponibles"}),u.colores.map((P,W)=>C.jsxs("div",{className:"color-input",children:[C.jsx("input",{type:"text",placeholder:`Color ${W+1}`,value:P,onChange:ne=>g(W,ne.target.value),required:!0}),W>0&&C.jsx("button",{type:"button",onClick:()=>p(W),className:"delete-btn",children:"Eliminar"})]},W)),C.jsx("button",{type:"button",onClick:m,className:"add-btn",children:"Añadir otro color"})]}),C.jsxs("div",{className:"tallas-container",children:[C.jsx("h4",{children:"Tallas disponibles"}),u.tallas.map((P,W)=>C.jsxs("div",{className:"talla-input",children:[C.jsx("input",{type:"text",placeholder:`Talla ${W+1}`,value:P,onChange:ne=>w(W,ne.target.value),required:!0}),W>0&&C.jsx("button",{type:"button",onClick:()=>A(W),className:"delete-btn",children:"Eliminar"})]},W)),C.jsx("button",{type:"button",onClick:E,className:"add-btn",children:"Añadir otra talla"})]}),C.jsx("textarea",{placeholder:"Especificaciones (una por línea)",value:u.especificaciones.join(`
`),onChange:P=>f({...u,especificaciones:P.target.value.split(`
`).filter(W=>W.trim()!=="")})}),C.jsx("button",{type:"submit",className:"submit-btn",children:"Añadir Producto"})]})]}),C.jsxs("section",{className:"product-list",children:[C.jsx("h3",{children:"Lista de Productos"}),C.jsx("div",{className:"products-grid",children:a.map(P=>C.jsxs("div",{className:"product-item",children:[C.jsx("img",{src:Array.isArray(P.imagenes)?P.imagenes[0]:P.imagen,alt:P.nombre}),C.jsx("h4",{children:P.nombre}),C.jsxs("p",{children:["$",P.precio]}),C.jsxs("p",{children:["Categoría: ",P.categoria]}),C.jsxs("p",{children:["Marca: ",P.marca]}),C.jsxs("p",{children:["Colores: ",Array.isArray(P.colores)?P.colores.join(", "):P.color]}),C.jsxs("p",{children:["Tallas: ",Array.isArray(P.tallas)?P.tallas.join(", "):P.talla]}),C.jsx("button",{className:"delete-btn",onClick:()=>Q(P.id),children:"Eliminar"})]},P.id))})]})]})]})}function Zx(){const{id:r}=tE(),[e,n]=q.useState(null),[a,o]=q.useState(""),[u,f]=q.useState(""),[m,p]=q.useState(0),{agregarAlCarrito:g}=q.useContext(cu);if(q.useEffect(()=>{(async()=>{const w=Np(Ki,"productos",r),I=await wD(w);I.exists()&&n({id:I.id,...I.data()})})()},[r]),!e)return C.jsx("div",{children:"Cargando..."});const E=()=>{if(!a||!u){alert("Por favor selecciona un color y una talla");return}g({...e,colorSeleccionado:a,tallaSeleccionada:u,cantidad:1})};return C.jsxs("div",{className:"product-detail-container",children:[C.jsxs("div",{className:"product-images",children:[C.jsx("div",{className:"main-image",children:C.jsx("img",{src:e.imagenes[m],alt:e.nombre})}),C.jsx("div",{className:"thumbnail-container",children:e.imagenes.map((A,w)=>C.jsx("img",{src:A,alt:`${e.nombre} ${w+1}`,onClick:()=>p(w),className:m===w?"active":""},w))})]}),C.jsxs("div",{className:"product-info",children:[C.jsx("h1",{children:e.nombre}),C.jsxs("p",{className:"price",children:["$",e.precio]}),C.jsxs("p",{className:"marca",children:["Marca: ",e.marca]}),C.jsxs("div",{className:"color-selector",children:[C.jsx("h3",{children:"Colores disponibles:"}),C.jsx("div",{className:"color-options",children:e.colores.map((A,w)=>C.jsx("button",{className:`color-btn ${a===A?"selected":""}`,onClick:()=>o(A),children:A},w))})]}),C.jsxs("div",{className:"talla-selector",children:[C.jsx("h3",{children:"Tallas disponibles:"}),C.jsx("div",{className:"talla-options",children:e.tallas.map((A,w)=>C.jsx("button",{className:`talla-btn ${u===A?"selected":""}`,onClick:()=>f(A),children:A},w))})]}),C.jsxs("div",{className:"especificaciones",children:[C.jsx("h3",{children:"Especificaciones:"}),C.jsx("ul",{children:e.especificaciones.map((A,w)=>C.jsx("li",{children:A},w))})]}),C.jsx("button",{className:"add-to-cart-btn",onClick:E,disabled:!a||!u,children:"Agregar al carrito"})]})]})}function Jx(){const[r,e]=q.useState([]),[n,a]=q.useState(!0),{categoria:o}=tE(),u=()=>{switch(o){case"gorras":return"Gorras";case"ropa-mujer":return"Ropa Mujer";case"ropa-hombre":return"Ropa Hombre";default:return"Productos"}};return q.useEffect(()=>{(async()=>{a(!0);try{const g=(await $l($a(Ki,"productos"))).docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.categoria===o);e(g)}catch(m){console.error("Error al cargar productos:",m)}finally{a(!1)}})()},[o]),n?C.jsx("div",{className:"loading",children:"Cargando productos..."}):C.jsxs("div",{className:"category-view",children:[C.jsx("h2",{children:u()}),r.length===0?C.jsx("div",{className:"no-products",children:C.jsx("p",{children:"No hay productos disponibles en esta categoría"})}):C.jsx("div",{className:"products-grid",children:r.map(f=>C.jsx("div",{className:"product-card",children:C.jsxs(hn,{to:`/producto/${f.id}`,children:[C.jsx("img",{src:Array.isArray(f.imagenes)?f.imagenes[0]:f.imagen,alt:f.nombre}),C.jsxs("div",{className:"product-info",children:[C.jsx("h3",{children:f.nombre}),C.jsxs("p",{className:"price",children:["$",f.precio]})]})]})},f.id))})]})}function eO({children:r}){const{user:e,loading:n}=q.useContext(Jh);return n?C.jsx("h1",{children:"Cargando..."}):e?r:C.jsx(hw,{to:"/admin/login"})}function tO(){return C.jsxs("footer",{className:"footer",children:[C.jsxs("div",{className:"footer-content",children:[C.jsxs("div",{className:"footer-section",children:[C.jsx("h3",{children:"Contacto"}),C.jsx("p",{children:"WhatsApp: +57 123 456 7890"}),C.jsx("p",{children:"Email: tienda@ejemplo.com"}),C.jsx("p",{children:"Instagram: @tienda_ejemplo"})]}),C.jsxs("div",{className:"footer-section",children:[C.jsx("h3",{children:"Horarios de Entrega"}),C.jsx("p",{children:"Lunes a Viernes: 9:00 AM - 6:00 PM"}),C.jsx("p",{children:"Sábados: 9:00 AM - 2:00 PM"})]}),C.jsxs("div",{className:"footer-section",children:[C.jsx("h3",{children:"Zonas de Entrega"}),C.jsx("p",{children:"Bogotá: Todas las localidades"}),C.jsx("p",{children:"Tiempo estimado: 24-48 horas"})]})]}),C.jsx("div",{className:"footer-bottom",children:C.jsx("p",{children:"© 2024 Tu Tienda. Todos los derechos reservados."})})]})}function nO(){return C.jsx(Yx,{children:C.jsx(Lw,{children:C.jsxs("div",{className:"app",children:[C.jsx(NR,{}),C.jsx(DR,{}),C.jsxs(dw,{children:[C.jsx(Gr,{path:"/",element:C.jsx($x,{})}),C.jsx(Gr,{path:"/carrito",element:C.jsx(Kx,{})}),C.jsx(Gr,{path:"/sobre-nosotros",element:C.jsx(Qx,{})}),C.jsx(Gr,{path:"/admin/login",element:C.jsx(Xx,{})}),C.jsx(Gr,{path:"/admin",element:C.jsx(eO,{children:C.jsx(Wx,{})})}),C.jsx(Gr,{path:"/producto/:id",element:C.jsx(Zx,{})}),C.jsx(Gr,{path:"/categoria/:categoria",element:C.jsx(Jx,{})})]}),C.jsx(tO,{}),C.jsx(IR,{position:"bottom-right",autoClose:2e3})]})})})}bS.createRoot(document.getElementById("root")).render(C.jsx(q.StrictMode,{children:C.jsx(CR,{children:C.jsx(nO,{})})}));
