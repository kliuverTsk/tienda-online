(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function hS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jd={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function fS(){if(nv)return Ol;nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=t,Ol.jsx=n,Ol.jsxs=n,Ol}var iv;function dS(){return iv||(iv=1,Jd.exports=fS()),Jd.exports}var C=dS(),tm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function mS(){if(rv)return Rt;rv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,H={};function P(k,rt,pt){this.props=k,this.context=rt,this.refs=H,this.updater=pt||I}P.prototype.isReactComponent={},P.prototype.setState=function(k,rt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,rt,"setState")},P.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=P.prototype;function Q(k,rt,pt){this.props=k,this.context=rt,this.refs=H,this.updater=pt||I}var L=Q.prototype=new $;L.constructor=Q,M(L,P.prototype),L.isPureReactComponent=!0;var W=Array.isArray,nt={H:null,A:null,T:null,S:null},st=Object.prototype.hasOwnProperty;function O(k,rt,pt,ut,ct,It){return pt=It.ref,{$$typeof:r,type:k,key:rt,ref:pt!==void 0?pt:null,props:It}}function R(k,rt){return O(k.type,rt,void 0,void 0,void 0,k.props)}function S(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function N(k){var rt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pt){return rt[pt]})}var V=/\/+/g;function z(k,rt){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):rt.toString(36)}function x(){}function fe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(x,x):(k.status="pending",k.then(function(rt){k.status==="pending"&&(k.status="fulfilled",k.value=rt)},function(rt){k.status==="pending"&&(k.status="rejected",k.reason=rt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ne(k,rt,pt,ut,ct){var It=typeof k;(It==="undefined"||It==="boolean")&&(k=null);var wt=!1;if(k===null)wt=!0;else switch(It){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(k.$$typeof){case r:case t:wt=!0;break;case E:return wt=k._init,ne(wt(k._payload),rt,pt,ut,ct)}}if(wt)return ct=ct(k),wt=ut===""?"."+z(k,0):ut,W(ct)?(pt="",wt!=null&&(pt=wt.replace(V,"$&/")+"/"),ne(ct,rt,pt,"",function(oe){return oe})):ct!=null&&(S(ct)&&(ct=R(ct,pt+(ct.key==null||k&&k.key===ct.key?"":(""+ct.key).replace(V,"$&/")+"/")+wt)),rt.push(ct)),1;wt=0;var ge=ut===""?".":ut+":";if(W(k))for(var zt=0;zt<k.length;zt++)ut=k[zt],It=ge+z(ut,zt),wt+=ne(ut,rt,pt,It,ct);else if(zt=w(k),typeof zt=="function")for(k=zt.call(k),zt=0;!(ut=k.next()).done;)ut=ut.value,It=ge+z(ut,zt++),wt+=ne(ut,rt,pt,It,ct);else if(It==="object"){if(typeof k.then=="function")return ne(fe(k),rt,pt,ut,ct);throw rt=String(k),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function ot(k,rt,pt){if(k==null)return k;var ut=[],ct=0;return ne(k,ut,"","",function(It){return rt.call(pt,It,ct++)}),ut}function _t(k){if(k._status===-1){var rt=k._result;rt=rt(),rt.then(function(pt){(k._status===0||k._status===-1)&&(k._status=1,k._result=pt)},function(pt){(k._status===0||k._status===-1)&&(k._status=2,k._result=pt)}),k._status===-1&&(k._status=0,k._result=rt)}if(k._status===1)return k._result.default;throw k._result}var dt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ft(){}return Rt.Children={map:ot,forEach:function(k,rt,pt){ot(k,function(){rt.apply(this,arguments)},pt)},count:function(k){var rt=0;return ot(k,function(){rt++}),rt},toArray:function(k){return ot(k,function(rt){return rt})||[]},only:function(k){if(!S(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Rt.Component=P,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=Q,Rt.StrictMode=a,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(k){return function(){return k.apply(null,arguments)}},Rt.cloneElement=function(k,rt,pt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ut=M({},k.props),ct=k.key,It=void 0;if(rt!=null)for(wt in rt.ref!==void 0&&(It=void 0),rt.key!==void 0&&(ct=""+rt.key),rt)!st.call(rt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&rt.ref===void 0||(ut[wt]=rt[wt]);var wt=arguments.length-2;if(wt===1)ut.children=pt;else if(1<wt){for(var ge=Array(wt),zt=0;zt<wt;zt++)ge[zt]=arguments[zt+2];ut.children=ge}return O(k.type,ct,void 0,void 0,It,ut)},Rt.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Rt.createElement=function(k,rt,pt){var ut,ct={},It=null;if(rt!=null)for(ut in rt.key!==void 0&&(It=""+rt.key),rt)st.call(rt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(ct[ut]=rt[ut]);var wt=arguments.length-2;if(wt===1)ct.children=pt;else if(1<wt){for(var ge=Array(wt),zt=0;zt<wt;zt++)ge[zt]=arguments[zt+2];ct.children=ge}if(k&&k.defaultProps)for(ut in wt=k.defaultProps,wt)ct[ut]===void 0&&(ct[ut]=wt[ut]);return O(k,It,void 0,void 0,null,ct)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(k){return{$$typeof:m,render:k}},Rt.isValidElement=S,Rt.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:_t}},Rt.memo=function(k,rt){return{$$typeof:g,type:k,compare:rt===void 0?null:rt}},Rt.startTransition=function(k){var rt=nt.T,pt={};nt.T=pt;try{var ut=k(),ct=nt.S;ct!==null&&ct(pt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Ft,dt)}catch(It){dt(It)}finally{nt.T=rt}},Rt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Rt.use=function(k){return nt.H.use(k)},Rt.useActionState=function(k,rt,pt){return nt.H.useActionState(k,rt,pt)},Rt.useCallback=function(k,rt){return nt.H.useCallback(k,rt)},Rt.useContext=function(k){return nt.H.useContext(k)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(k,rt){return nt.H.useDeferredValue(k,rt)},Rt.useEffect=function(k,rt){return nt.H.useEffect(k,rt)},Rt.useId=function(){return nt.H.useId()},Rt.useImperativeHandle=function(k,rt,pt){return nt.H.useImperativeHandle(k,rt,pt)},Rt.useInsertionEffect=function(k,rt){return nt.H.useInsertionEffect(k,rt)},Rt.useLayoutEffect=function(k,rt){return nt.H.useLayoutEffect(k,rt)},Rt.useMemo=function(k,rt){return nt.H.useMemo(k,rt)},Rt.useOptimistic=function(k,rt){return nt.H.useOptimistic(k,rt)},Rt.useReducer=function(k,rt,pt){return nt.H.useReducer(k,rt,pt)},Rt.useRef=function(k){return nt.H.useRef(k)},Rt.useState=function(k){return nt.H.useState(k)},Rt.useSyncExternalStore=function(k,rt,pt){return nt.H.useSyncExternalStore(k,rt,pt)},Rt.useTransition=function(){return nt.H.useTransition()},Rt.version="19.0.0",Rt}var av;function Qm(){return av||(av=1,tm.exports=mS()),tm.exports}var q=Qm();const te=hS(q);var em={exports:{}},Ml={},nm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function pS(){return sv||(sv=1,function(r){function t(ot,_t){var dt=ot.length;ot.push(_t);t:for(;0<dt;){var Ft=dt-1>>>1,k=ot[Ft];if(0<o(k,_t))ot[Ft]=_t,ot[dt]=k,dt=Ft;else break t}}function n(ot){return ot.length===0?null:ot[0]}function a(ot){if(ot.length===0)return null;var _t=ot[0],dt=ot.pop();if(dt!==_t){ot[0]=dt;t:for(var Ft=0,k=ot.length,rt=k>>>1;Ft<rt;){var pt=2*(Ft+1)-1,ut=ot[pt],ct=pt+1,It=ot[ct];if(0>o(ut,dt))ct<k&&0>o(It,ut)?(ot[Ft]=It,ot[ct]=dt,Ft=ct):(ot[Ft]=ut,ot[pt]=dt,Ft=pt);else if(ct<k&&0>o(It,dt))ot[Ft]=It,ot[ct]=dt,Ft=ct;else break t}}return _t}function o(ot,_t){var dt=ot.sortIndex-_t.sortIndex;return dt!==0?dt:ot.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,w=3,I=!1,M=!1,H=!1,P=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function L(ot){for(var _t=n(g);_t!==null;){if(_t.callback===null)a(g);else if(_t.startTime<=ot)a(g),_t.sortIndex=_t.expirationTime,t(p,_t);else break;_t=n(g)}}function W(ot){if(H=!1,L(ot),!M)if(n(p)!==null)M=!0,fe();else{var _t=n(g);_t!==null&&ne(W,_t.startTime-ot)}}var nt=!1,st=-1,O=5,R=-1;function S(){return!(r.unstable_now()-R<O)}function N(){if(nt){var ot=r.unstable_now();R=ot;var _t=!0;try{t:{M=!1,H&&(H=!1,$(st),st=-1),I=!0;var dt=w;try{e:{for(L(ot),A=n(p);A!==null&&!(A.expirationTime>ot&&S());){var Ft=A.callback;if(typeof Ft=="function"){A.callback=null,w=A.priorityLevel;var k=Ft(A.expirationTime<=ot);if(ot=r.unstable_now(),typeof k=="function"){A.callback=k,L(ot),_t=!0;break e}A===n(p)&&a(p),L(ot)}else a(p);A=n(p)}if(A!==null)_t=!0;else{var rt=n(g);rt!==null&&ne(W,rt.startTime-ot),_t=!1}}break t}finally{A=null,w=dt,I=!1}_t=void 0}}finally{_t?V():nt=!1}}}var V;if(typeof Q=="function")V=function(){Q(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,x=z.port2;z.port1.onmessage=N,V=function(){x.postMessage(null)}}else V=function(){P(N,0)};function fe(){nt||(nt=!0,V())}function ne(ot,_t){st=P(function(){ot(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ot){ot.callback=null},r.unstable_continueExecution=function(){M||I||(M=!0,fe())},r.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ot?Math.floor(1e3/ot):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ot){switch(w){case 1:case 2:case 3:var _t=3;break;default:_t=w}var dt=w;w=_t;try{return ot()}finally{w=dt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ot,_t){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var dt=w;w=ot;try{return _t()}finally{w=dt}},r.unstable_scheduleCallback=function(ot,_t,dt){var Ft=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ft+dt:Ft):dt=Ft,ot){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=dt+k,ot={id:E++,callback:_t,priorityLevel:ot,startTime:dt,expirationTime:k,sortIndex:-1},dt>Ft?(ot.sortIndex=dt,t(g,ot),n(p)===null&&ot===n(g)&&(H?($(st),st=-1):H=!0,ne(W,dt-Ft))):(ot.sortIndex=k,t(p,ot),M||I||(M=!0,fe())),ot},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(ot){var _t=w;return function(){var dt=w;w=_t;try{return ot.apply(this,arguments)}finally{w=dt}}}}(im)),im}var ov;function gS(){return ov||(ov=1,nm.exports=pS()),nm.exports}var rm={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function yS(){if(lv)return Ke;lv=1;var r=Qm();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Ke.flushSync=function(p){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=E,a.d.f()}},Ke.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Ke.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ke.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:I}):E==="script"&&a.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Ke.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Ke.requestFormReset=function(p){a.d.r(p)},Ke.unstable_batchedUpdates=function(p,g){return p(g)},Ke.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.0.0",Ke}var uv;function _S(){if(uv)return rm.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),rm.exports=yS(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function vS(){if(cv)return Ml;cv=1;var r=gS(),t=Qm(),n=_S();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),I=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function st(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case H:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case I:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case M:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return i=e.displayName||null,i!==null?i:R(e.type)||"Memo";case Q:i=e._payload,e=e._init;try{return R(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,V,z;function x(e){if(V===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",z=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+e+z}var fe=!1;function ne(e,i){if(!e||fe)return"";fe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var K=X}Reflect.construct(e,[],it)}else{try{it.call()}catch(X){K=X}e.call(it.prototype)}}else{try{throw Error()}catch(X){K=X}(it=e())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var D=v.split(`
`),j=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===j.length)for(l=D.length-1,h=j.length-1;1<=l&&0<=h&&D[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==j[h]){var Z=`
`+D[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{fe=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?x(s):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function _t(e){try{var i="";do i+=ot(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function dt(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function Ft(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function k(e){if(dt(e)!==e)throw Error(a(188))}function rt(e){var i=e.alternate;if(!i){if(i=dt(e),i===null)throw Error(a(188));return i!==e?null:e}for(var s=e,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return k(h),e;if(d===l)return k(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:i}function pt(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=pt(e),i!==null)return i;e=e.sibling}return null}var ut=Array.isArray,ct=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It={pending:!1,data:null,method:null,action:null},wt=[],ge=-1;function zt(e){return{current:e}}function oe(e){0>ge||(e.current=wt[ge],wt[ge]=null,ge--)}function Kt(e,i){ge++,wt[ge]=e.current,e.current=i}var Je=zt(null),Ei=zt(null),En=zt(null),or=zt(null);function lr(e,i){switch(Kt(En,i),Kt(Ei,e),Kt(Je,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?x_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=x_(e),i=O_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(Je),Kt(Je,i)}function Ti(){oe(Je),oe(Ei),oe(En)}function Io(e){e.memoizedState!==null&&Kt(or,e);var i=Je.current,s=O_(i,e.type);i!==s&&(Kt(Ei,e),Kt(Je,s))}function us(e){Ei.current===e&&(oe(Je),oe(Ei)),or.current===e&&(oe(or),Il._currentValue=It)}var cs=Object.prototype.hasOwnProperty,fa=r.unstable_scheduleCallback,hs=r.unstable_cancelCallback,tf=r.unstable_shouldYield,Co=r.unstable_requestPaint,on=r.unstable_now,Tu=r.unstable_getCurrentPriorityLevel,be=r.unstable_ImmediatePriority,Ne=r.unstable_UserBlockingPriority,bi=r.unstable_NormalPriority,bu=r.unstable_LowPriority,Do=r.unstable_IdlePriority,ef=r.log,da=r.unstable_setDisableYieldValue,ur=null,Ge=null;function No(e){if(Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ur,e,void 0,(e.current.flags&128)===128)}catch{}}function Wn(e){if(typeof ef=="function"&&da(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ur,e)}catch{}}var tn=Math.clz32?Math.clz32:Su,xo=Math.log,Au=Math.LN2;function Su(e){return e>>>=0,e===0?32:31-(xo(e)/Au|0)|0}var Zn=128,cr=4194304;function zn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tn(e,i){var s=e.pendingLanes;if(s===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?l=zn(s):(d&=T,d!==0?l=zn(d):e||(v=T&~v,v!==0&&(l=zn(v))))):(T=s&~h,T!==0?l=zn(T):d!==0?l=zn(d):e||(v=s&~v,v!==0&&(l=zn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function hr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function fs(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var e=Zn;return Zn<<=1,(Zn&4194176)===0&&(Zn=128),e}function fr(){var e=cr;return cr<<=1,(cr&62914560)===0&&(cr=4194304),e}function ds(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function de(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wu(e,i,s,l,h,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,j=e.hiddenUpdates;for(s=v&~s;0<s;){var Z=31-tn(s),it=1<<Z;T[Z]=0,D[Z]=-1;var K=j[Z];if(K!==null)for(j[Z]=null,Z=0;Z<K.length;Z++){var X=K[Z];X!==null&&(X.lane&=-536870913)}s&=~it}l!==0&&dr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function dr(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-tn(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194218}function mr(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-tn(s),h=1<<l;h&i|e[l]&i&&(e[l]|=i),s&=~h}}function Ru(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Iu(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:X_(e.type))}function pr(e,i){var s=ct.p;try{return ct.p=e,i()}finally{ct.p=s}}var Jn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Jn,Ae="__reactProps$"+Jn,Ai="__reactContainer$"+Jn,ma="__reactEvents$"+Jn,ms="__reactListeners$"+Jn,ti="__reactHandles$"+Jn,Mo="__reactResources$"+Jn,gr="__reactMarker$"+Jn;function pa(e){delete e[xe],delete e[Ae],delete e[ma],delete e[ms],delete e[ti]}function Bn(e){var i=e[xe];if(i)return i;for(var s=e.parentNode;s;){if(i=s[Ai]||s[xe]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=k_(e);e!==null;){if(s=e[xe])return s;e=k_(e)}return i}e=s,s=e.parentNode}return null}function Si(e){if(e=e[xe]||e[Ai]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function yr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function _r(e){var i=e[Mo];return i||(i=e[Mo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ie(e){e[gr]=!0}var Vo=new Set,ps={};function fn(e,i){ln(e,i),ln(e+"Capture",i)}function ln(e,i){for(ps[e]=i,e=0;e<i.length;e++)Vo.add(i[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Po={};function Cu(e){return cs.call(Po,e)?!0:cs.call(ko,e)?!1:nf.test(e)?Po[e]=!0:(ko[e]=!0,!1)}function vr(e,i,s){if(Cu(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function Er(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function bn(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Du(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rf(e){var i=Du(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ga(e){e._valueTracker||(e._valueTracker=rf(e))}function Lo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=Du(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wi=/[\n"\\]/g;function le(e){return e.replace(wi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tr(e,i,s,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+en(i)):e.value!==""+en(i)&&(e.value=""+en(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?ys(e,v,en(i)):s!=null?ys(e,v,en(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+en(T):e.removeAttribute("name")}function ya(e,i,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+en(s):"",i=i!=null?""+en(i):s,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function ys(e,i,s){i==="number"&&gs(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Bt(e,i,s,l){if(e=e.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=i.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+en(s),i=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function _a(e,i,s){if(i!=null&&(i=""+en(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+en(s):""}function br(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ut(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=en(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function An(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var af=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||af.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Nu(e,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Uo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(e,d,i[d])}function jo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return of.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Sn=null;function _s(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ri=null,Ii=null;function Ci(e){var i=Si(e);if(i&&(e=i.stateNode)){var s=e[Ae]||null;t:switch(e=i.stateNode,i.type){case"input":if(Tr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+le(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var h=l[Ae]||null;if(!h)throw Error(a(90));Tr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&Lo(l)}break t;case"textarea":_a(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Bt(e,!!s.multiple,i,!1)}}}var zo=!1;function xu(e,i,s){if(zo)return e(i,s);zo=!0;try{var l=e(i);return l}finally{if(zo=!1,(Ri!==null||Ii!==null)&&(bc(),Ri&&(i=Ri,e=Ii,Ii=Ri=null,Ci(i),e)))for(i=0;i<e.length;i++)Ci(e[i])}}function va(e,i){var s=e.stateNode;if(s===null)return null;var l=s[Ae]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var wn=!1;if(dn)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){wn=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{wn=!1}var ni=null,Ar=null,Di=null;function Bo(){if(Di)return Di;var e,i=Ar,s=i.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(e=0;e<s&&i[e]===h[e];e++);var v=s-e;for(l=1;l<=v&&i[s-l]===h[d-l];l++);return Di=h.slice(e,1<l?1-l:void 0)}function ii(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function qo(){return!1}function Oe(e){function i(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:qo,this.isPropagationStopped=qo,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Oe(Gt),Ta=N({},Gt,{view:0,detail:0}),Ou=Oe(Ta),Es,Ts,ai,ba=N({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(Es=e.screenX-ai.screenX,Ts=e.screenY-ai.screenY):Ts=Es=0,ai=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:Ts}}),Rn=Oe(ba),Mu=N({},ba,{dataTransfer:0}),lf=Oe(Mu),Aa=N({},Ta,{relatedTarget:0}),bs=Oe(Aa),Ho=N({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),As=Oe(Ho),Vu=N({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ss=Oe(Vu),uf=N({},Gt,{data:0}),Fo=Oe(uf),Sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Pu[e])?!!i[e]:!1}function wa(){return Go}var Lu=N({},Ta,{key:function(e){if(e.key){var i=Sa[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ku[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ws=Oe(Lu),Uu=N({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=Oe(Uu),Ni=N({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),ju=Oe(Ni),zu=N({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=Oe(zu),qu=N({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=Oe(qu),nn=N({},Gt,{newState:0,oldState:0}),Hu=Oe(nn),Fu=[9,13,27,32],si=dn&&"CompositionEvent"in window,c=null;dn&&"documentMode"in document&&(c=document.documentMode);var y=dn&&"TextEvent"in window&&!c,_=dn&&(!si||c&&8<c&&11>=c),b=" ",F=!1;function Y(e,i){switch(e){case"keyup":return Fu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Se(e,i){switch(e){case"compositionend":return at(i);case"keypress":return i.which!==32?null:(F=!0,b);case"textInput":return e=i.data,e===b&&F?null:e;default:return null}}function Lt(e,i){if(Pt)return e==="compositionend"||!si&&Y(e,i)?(e=Bo(),Di=Ar=ni=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Me[e.type]:i==="textarea"}function xi(e,i,s,l){Ri?Ii?Ii.push(l):Ii=[l]:Ri=l,i=Ic(i,"onChange"),0<i.length&&(s=new vs("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var Ue=null,oi=null;function Ko(e){R_(e,0)}function Gu(e){var i=yr(e);if(Lo(i))return e}function eg(e,i){if(e==="change")return i}var ng=!1;if(dn){var cf;if(dn){var hf="oninput"in document;if(!hf){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),hf=typeof ig.oninput=="function"}cf=hf}else cf=!1;ng=cf&&(!document.documentMode||9<document.documentMode)}function rg(){Ue&&(Ue.detachEvent("onpropertychange",ag),oi=Ue=null)}function ag(e){if(e.propertyName==="value"&&Gu(oi)){var i=[];xi(i,oi,e,_s(e)),xu(Ko,i)}}function Bb(e,i,s){e==="focusin"?(rg(),Ue=i,oi=s,Ue.attachEvent("onpropertychange",ag)):e==="focusout"&&rg()}function qb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gu(oi)}function Hb(e,i){if(e==="click")return Gu(i)}function Fb(e,i){if(e==="input"||e==="change")return Gu(i)}function Gb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var mn=typeof Object.is=="function"?Object.is:Gb;function Qo(e,i){if(mn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!cs.call(i,h)||!mn(e[h],i[h]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function og(e,i){var s=sg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=sg(s)}}function lg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?lg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gs(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=gs(e.document)}return i}function ff(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function $b(e,i){var s=ug(i);i=e.focusedElem;var l=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&lg(i.ownerDocument.documentElement,i)){if(l!==null&&ff(i)){if(e=l.start,s=l.end,s===void 0&&(s=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(s,i.value.length);else if(s=(e=i.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=og(i,d);var v=og(i,l);h&&v&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==v.node||s.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(e),s.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),s.addRange(e)))}}for(e=[],s=i;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)s=e[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Kb=dn&&"documentMode"in document&&11>=document.documentMode,Is=null,df=null,Yo=null,mf=!1;function cg(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;mf||Is==null||Is!==gs(l)||(l=Is,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=Ic(df,"onSelect"),0<l.length&&(i=new vs("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=Is)))}function Ra(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var Cs={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},pf={},hg={};dn&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Ia(e){if(pf[e])return pf[e];if(!Cs[e])return e;var i=Cs[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in hg)return pf[e]=i[s];return e}var fg=Ia("animationend"),dg=Ia("animationiteration"),mg=Ia("animationstart"),Qb=Ia("transitionrun"),Yb=Ia("transitionstart"),Xb=Ia("transitioncancel"),pg=Ia("transitionend"),gg=new Map,yg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qn(e,i){gg.set(e,i),fn(i,[e])}var In=[],Ds=0,gf=0;function $u(){for(var e=Ds,i=gf=Ds=0;i<e;){var s=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&_g(s,h,d)}}function Ku(e,i,s,l){In[Ds++]=e,In[Ds++]=i,In[Ds++]=s,In[Ds++]=l,gf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yf(e,i,s,l){return Ku(e,i,s,l),Qu(e)}function Sr(e,i){return Ku(e,null,null,i),Qu(e)}function _g(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-tn(s),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=s|536870912)}function Qu(e){if(50<El)throw El=0,Ad=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ns={},vg=new WeakMap;function Cn(e,i){if(typeof e=="object"&&e!==null){var s=vg.get(e);return s!==void 0?s:(i={value:e,source:i,stack:_t(i)},vg.set(e,i),i)}return{value:e,source:i,stack:_t(i)}}var xs=[],Os=0,Yu=null,Xu=0,Dn=[],Nn=0,Ca=null,Oi=1,Mi="";function Da(e,i){xs[Os++]=Xu,xs[Os++]=Yu,Yu=e,Xu=i}function Eg(e,i,s){Dn[Nn++]=Oi,Dn[Nn++]=Mi,Dn[Nn++]=Ca,Ca=e;var l=Oi;e=Mi;var h=32-tn(l)-1;l&=~(1<<h),s+=1;var d=32-tn(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-tn(i)+h|s<<h|l,Mi=d+e}else Oi=1<<d|s<<h|l,Mi=e}function _f(e){e.return!==null&&(Da(e,1),Eg(e,1,0))}function vf(e){for(;e===Yu;)Yu=xs[--Os],xs[Os]=null,Xu=xs[--Os],xs[Os]=null;for(;e===Ca;)Ca=Dn[--Nn],Dn[Nn]=null,Mi=Dn[--Nn],Dn[Nn]=null,Oi=Dn[--Nn],Dn[Nn]=null}var rn=null,je=null,qt=!1,Hn=null,li=!1,Ef=Error(a(519));function Na(e){var i=Error(a(418,""));throw Zo(Cn(i,e)),Ef}function Tg(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[xe]=e,i[Ae]=l,s){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(s=0;s<bl.length;s++)Vt(bl[s],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),ya(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ga(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),br(i,l.value,l.defaultValue,l.children),ga(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||N_(i.textContent,s)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=Cc),i=!0):i=!1,i||Na(e)}function bg(e){for(rn=e.return;rn;)switch(rn.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:rn=rn.return}}function Xo(e){if(e!==rn)return!1;if(!qt)return bg(e),qt=!0,!1;var i=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||zd(e.type,e.memoizedProps)),s=!s),s&&(i=!0),i&&je&&Na(e),bg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){je=Gn(e.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}je=null}}else je=rn?Gn(e.stateNode.nextSibling):null;return!0}function Wo(){je=rn=null,qt=!1}function Zo(e){Hn===null?Hn=[e]:Hn.push(e)}var Jo=Error(a(460)),Ag=Error(a(474)),Tf={then:function(){}};function Sg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wu(){}function wg(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Wu,Wu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Jo?Error(a(483)):e;default:if(typeof i.status=="string")i.then(Wu,Wu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Jo?Error(a(483)):e}throw tl=i,Jo}}var tl=null;function Rg(){if(tl===null)throw Error(a(459));var e=tl;return tl=null,e}var Ms=null,el=0;function Zu(e){var i=el;return el+=1,Ms===null&&(Ms=[]),wg(Ms,e,i)}function nl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ju(e,i){throw i.$$typeof===u?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ig(e){var i=e._init;return i(e._payload)}function Cg(e){function i(B,U){if(e){var G=B.deletions;G===null?(B.deletions=[U],B.flags|=16):G.push(U)}}function s(B,U){if(!e)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=Pr(B,U),B.index=0,B.sibling=null,B}function d(B,U,G){return B.index=G,e?(G=B.alternate,G!==null?(G=G.index,G<U?(B.flags|=33554434,U):G):(B.flags|=33554434,U)):(B.flags|=1048576,U)}function v(B){return e&&B.alternate===null&&(B.flags|=33554434),B}function T(B,U,G,tt){return U===null||U.tag!==6?(U=pd(G,B.mode,tt),U.return=B,U):(U=h(U,G),U.return=B,U)}function D(B,U,G,tt){var ft=G.type;return ft===p?Z(B,U,G.props.children,tt,G.key):U!==null&&(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Q&&Ig(ft)===U.type)?(U=h(U,G.props),nl(U,G),U.return=B,U):(U=yc(G.type,G.key,G.props,null,B.mode,tt),nl(U,G),U.return=B,U)}function j(B,U,G,tt){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=gd(G,B.mode,tt),U.return=B,U):(U=h(U,G.children||[]),U.return=B,U)}function Z(B,U,G,tt,ft){return U===null||U.tag!==7?(U=za(G,B.mode,tt,ft),U.return=B,U):(U=h(U,G),U.return=B,U)}function it(B,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=pd(""+U,B.mode,G),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case f:return G=yc(U.type,U.key,U.props,null,B.mode,G),nl(G,U),G.return=B,G;case m:return U=gd(U,B.mode,G),U.return=B,U;case Q:var tt=U._init;return U=tt(U._payload),it(B,U,G)}if(ut(U)||st(U))return U=za(U,B.mode,G,null),U.return=B,U;if(typeof U.then=="function")return it(B,Zu(U),G);if(U.$$typeof===I)return it(B,mc(B,U),G);Ju(B,U)}return null}function K(B,U,G,tt){var ft=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ft!==null?null:T(B,U,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case f:return G.key===ft?D(B,U,G,tt):null;case m:return G.key===ft?j(B,U,G,tt):null;case Q:return ft=G._init,G=ft(G._payload),K(B,U,G,tt)}if(ut(G)||st(G))return ft!==null?null:Z(B,U,G,tt,null);if(typeof G.then=="function")return K(B,U,Zu(G),tt);if(G.$$typeof===I)return K(B,U,mc(B,G),tt);Ju(B,G)}return null}function X(B,U,G,tt,ft){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(G)||null,T(U,B,""+tt,ft);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case f:return B=B.get(tt.key===null?G:tt.key)||null,D(U,B,tt,ft);case m:return B=B.get(tt.key===null?G:tt.key)||null,j(U,B,tt,ft);case Q:var Dt=tt._init;return tt=Dt(tt._payload),X(B,U,G,tt,ft)}if(ut(tt)||st(tt))return B=B.get(G)||null,Z(U,B,tt,ft,null);if(typeof tt.then=="function")return X(B,U,G,Zu(tt),ft);if(tt.$$typeof===I)return X(B,U,G,mc(U,tt),ft);Ju(U,tt)}return null}function mt(B,U,G,tt){for(var ft=null,Dt=null,gt=U,vt=U=0,Pe=null;gt!==null&&vt<G.length;vt++){gt.index>vt?(Pe=gt,gt=null):Pe=gt.sibling;var Ht=K(B,gt,G[vt],tt);if(Ht===null){gt===null&&(gt=Pe);break}e&&gt&&Ht.alternate===null&&i(B,gt),U=d(Ht,U,vt),Dt===null?ft=Ht:Dt.sibling=Ht,Dt=Ht,gt=Pe}if(vt===G.length)return s(B,gt),qt&&Da(B,vt),ft;if(gt===null){for(;vt<G.length;vt++)gt=it(B,G[vt],tt),gt!==null&&(U=d(gt,U,vt),Dt===null?ft=gt:Dt.sibling=gt,Dt=gt);return qt&&Da(B,vt),ft}for(gt=l(gt);vt<G.length;vt++)Pe=X(gt,B,vt,G[vt],tt),Pe!==null&&(e&&Pe.alternate!==null&&gt.delete(Pe.key===null?vt:Pe.key),U=d(Pe,U,vt),Dt===null?ft=Pe:Dt.sibling=Pe,Dt=Pe);return e&&gt.forEach(function(Hr){return i(B,Hr)}),qt&&Da(B,vt),ft}function At(B,U,G,tt){if(G==null)throw Error(a(151));for(var ft=null,Dt=null,gt=U,vt=U=0,Pe=null,Ht=G.next();gt!==null&&!Ht.done;vt++,Ht=G.next()){gt.index>vt?(Pe=gt,gt=null):Pe=gt.sibling;var Hr=K(B,gt,Ht.value,tt);if(Hr===null){gt===null&&(gt=Pe);break}e&&gt&&Hr.alternate===null&&i(B,gt),U=d(Hr,U,vt),Dt===null?ft=Hr:Dt.sibling=Hr,Dt=Hr,gt=Pe}if(Ht.done)return s(B,gt),qt&&Da(B,vt),ft;if(gt===null){for(;!Ht.done;vt++,Ht=G.next())Ht=it(B,Ht.value,tt),Ht!==null&&(U=d(Ht,U,vt),Dt===null?ft=Ht:Dt.sibling=Ht,Dt=Ht);return qt&&Da(B,vt),ft}for(gt=l(gt);!Ht.done;vt++,Ht=G.next())Ht=X(gt,B,vt,Ht.value,tt),Ht!==null&&(e&&Ht.alternate!==null&&gt.delete(Ht.key===null?vt:Ht.key),U=d(Ht,U,vt),Dt===null?ft=Ht:Dt.sibling=Ht,Dt=Ht);return e&&gt.forEach(function(cS){return i(B,cS)}),qt&&Da(B,vt),ft}function he(B,U,G,tt){if(typeof G=="object"&&G!==null&&G.type===p&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case f:t:{for(var ft=G.key;U!==null;){if(U.key===ft){if(ft=G.type,ft===p){if(U.tag===7){s(B,U.sibling),tt=h(U,G.props.children),tt.return=B,B=tt;break t}}else if(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Q&&Ig(ft)===U.type){s(B,U.sibling),tt=h(U,G.props),nl(tt,G),tt.return=B,B=tt;break t}s(B,U);break}else i(B,U);U=U.sibling}G.type===p?(tt=za(G.props.children,B.mode,tt,G.key),tt.return=B,B=tt):(tt=yc(G.type,G.key,G.props,null,B.mode,tt),nl(tt,G),tt.return=B,B=tt)}return v(B);case m:t:{for(ft=G.key;U!==null;){if(U.key===ft)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){s(B,U.sibling),tt=h(U,G.children||[]),tt.return=B,B=tt;break t}else{s(B,U);break}else i(B,U);U=U.sibling}tt=gd(G,B.mode,tt),tt.return=B,B=tt}return v(B);case Q:return ft=G._init,G=ft(G._payload),he(B,U,G,tt)}if(ut(G))return mt(B,U,G,tt);if(st(G)){if(ft=st(G),typeof ft!="function")throw Error(a(150));return G=ft.call(G),At(B,U,G,tt)}if(typeof G.then=="function")return he(B,U,Zu(G),tt);if(G.$$typeof===I)return he(B,U,mc(B,G),tt);Ju(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(s(B,U.sibling),tt=h(U,G),tt.return=B,B=tt):(s(B,U),tt=pd(G,B.mode,tt),tt.return=B,B=tt),v(B)):s(B,U)}return function(B,U,G,tt){try{el=0;var ft=he(B,U,G,tt);return Ms=null,ft}catch(gt){if(gt===Jo)throw gt;var Dt=Vn(29,gt,null,B.mode);return Dt.lanes=tt,Dt.return=B,Dt}finally{}}}var xa=Cg(!0),Dg=Cg(!1),Vs=zt(null),tc=zt(0);function Ng(e,i){e=Fi,Kt(tc,e),Kt(Vs,i),Fi=e|i.baseLanes}function bf(){Kt(tc,Fi),Kt(Vs,Vs.current)}function Af(){Fi=tc.current,oe(Vs),oe(tc)}var xn=zt(null),ui=null;function wr(e){var i=e.alternate;Kt(Re,Re.current&1),Kt(xn,e),ui===null&&(i===null||Vs.current!==null||i.memoizedState!==null)&&(ui=e)}function xg(e){if(e.tag===22){if(Kt(Re,Re.current),Kt(xn,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else Rr()}function Rr(){Kt(Re,Re.current),Kt(xn,xn.current)}function Vi(e){oe(xn),ui===e&&(ui=null),oe(Re)}var Re=zt(0);function ec(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},Zb=r.unstable_scheduleCallback,Jb=r.unstable_NormalPriority,Ie={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new Wb,data:new Map,refCount:0}}function il(e){e.refCount--,e.refCount===0&&Zb(Jb,function(){e.controller.abort()})}var rl=null,wf=0,ks=0,Ps=null;function tA(e,i){if(rl===null){var s=rl=[];wf=0,ks=xd(),Ps={status:"pending",value:void 0,then:function(l){s.push(l)}}}return wf++,i.then(Og,Og),i}function Og(){if(--wf===0&&rl!==null){Ps!==null&&(Ps.status="fulfilled");var e=rl;rl=null,ks=0,Ps=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function eA(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Mg=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&tA(e,i),Mg!==null&&Mg(e,i)};var Oa=zt(null);function Rf(){var e=Oa.current;return e!==null?e:Wt.pooledCache}function nc(e,i){i===null?Kt(Oa,Oa.current):Kt(Oa,i.pool)}function Vg(){var e=Rf();return e===null?null:{parent:Ie._currentValue,pool:e}}var Ir=0,Ct=null,Qt=null,ye=null,ic=!1,Ls=!1,Ma=!1,rc=0,al=0,Us=null,nA=0;function me(){throw Error(a(321))}function If(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!mn(e[s],i[s]))return!1;return!0}function Cf(e,i,s,l,h,d){return Ir=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?Va:Cr,Ma=!1,d=s(l,h),Ma=!1,Ls&&(d=Pg(i,s,l,h)),kg(e),d}function kg(e){S.H=ci;var i=Qt!==null&&Qt.next!==null;if(Ir=0,ye=Qt=Ct=null,ic=!1,al=0,Us=null,i)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&dc(e)&&(Ve=!0))}function Pg(e,i,s,l){Ct=e;var h=0;do{if(Ls&&(Us=null),al=0,Ls=!1,25<=h)throw Error(a(301));if(h+=1,ye=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=ka,d=i(s,l)}while(Ls);return d}function iA(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?sl(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function Df(){var e=rc!==0;return rc=0,e}function Nf(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function xf(e){if(ic){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ic=!1}Ir=0,ye=Qt=Ct=null,Ls=!1,al=rc=0,Us=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Ct.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Qt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=ye===null?Ct.memoizedState:ye.next;if(i!==null)ye=i,Qt=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ye===null?Ct.memoizedState=ye=e:ye=ye.next=e}return ye}var ac;ac=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sl(e){var i=al;return al+=1,Us===null&&(Us=[]),e=wg(Us,e,i),i=Ct,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Va:Cr),e}function sc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===I)return $e(e)}throw Error(a(438,String(e)))}function Of(e){var i=null,s=Ct.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=ac(),Ct.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=W;return i.index++,s}function ki(e,i){return typeof i=="function"?i(e):i}function oc(e){var i=_e();return Mf(i,Qt,e)}function Mf(e,i,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,D=null,j=i,Z=!1;do{var it=j.lane&-536870913;if(it!==j.lane?(Ut&it)===it:(Ir&it)===it){var K=j.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),it===ks&&(Z=!0);else if((Ir&K)===K){j=j.next,K===ks&&(Z=!0);continue}else it={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=it,v=d):D=D.next=it,Ct.lanes|=K,Lr|=K;it=j.action,Ma&&s(d,it),d=j.hasEagerState?j.eagerState:s(d,it)}else K={lane:it,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=K,v=d):D=D.next=K,Ct.lanes|=it,Lr|=it;j=j.next}while(j!==null&&j!==i);if(D===null?v=d:D.next=T,!mn(d,e.memoizedState)&&(Ve=!0,Z&&(s=Ps,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Vf(e){var i=_e(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);mn(d,i.memoizedState)||(Ve=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Lg(e,i,s){var l=Ct,h=_e(),d=qt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!mn((Qt||h).memoizedState,s);if(v&&(h.memoizedState=s,Ve=!0),h=h.queue,Lf(zg.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,js(9,jg.bind(null,l,h,s,i),{destroy:void 0},null),Wt===null)throw Error(a(349));d||(Ir&60)!==0||Ug(l,i,s)}return s}function Ug(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=Ct.updateQueue,i===null?(i=ac(),Ct.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function jg(e,i,s,l){i.value=s,i.getSnapshot=l,Bg(i)&&qg(e)}function zg(e,i,s){return s(function(){Bg(i)&&qg(e)})}function Bg(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!mn(e,s)}catch{return!0}}function qg(e){var i=Sr(e,2);i!==null&&an(i,e,2)}function kf(e){var i=un();if(typeof e=="function"){var s=e;if(e=s(),Ma){Wn(!0);try{s()}finally{Wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},i}function Hg(e,i,s,l){return e.baseState=s,Mf(e,Qt,typeof l=="function"?l:ki)}function rA(e,i,s,l,h){if(cc(e))throw Error(a(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Fg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Fg(e,i){var s=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var T=s(h,l),D=S.S;D!==null&&D(v,T),Gg(e,i,T)}catch(j){Pf(e,i,j)}finally{S.T=d}}else try{d=s(h,l),Gg(e,i,d)}catch(j){Pf(e,i,j)}}function Gg(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){$g(e,i,l)},function(l){return Pf(e,i,l)}):$g(e,i,s)}function $g(e,i,s){i.status="fulfilled",i.value=s,Kg(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Fg(e,s)))}function Pf(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Kg(i),i=i.next;while(i!==l)}e.action=null}function Kg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qg(e,i){return i}function Yg(e,i){if(qt){var s=Wt.formState;if(s!==null){t:{var l=Ct;if(qt){if(je){e:{for(var h=je,d=li;h.nodeType!==8;){if(!d){h=null;break e}if(h=Gn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){je=Gn(h.nextSibling),l=h.data==="F!";break t}}Na(l)}l=!1}l&&(i=s[0])}}return s=un(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},s.queue=l,s=dy.bind(null,Ct,l),l.dispatch=s,l=kf(!1),d=qf.bind(null,Ct,!1,l.queue),l=un(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,s=rA.bind(null,Ct,h,d,s),h.dispatch=s,l.memoizedState=e,[i,s,!1]}function Xg(e){var i=_e();return Wg(i,Qt,e)}function Wg(e,i,s){i=Mf(e,i,Qg)[0],e=oc(ki)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?sl(i):i;var l=_e(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(Ct.flags|=2048,js(9,aA.bind(null,h,s),{destroy:void 0},null)),[i,d,e]}function aA(e,i){e.action=i}function Zg(e){var i=_e(),s=Qt;if(s!==null)return Wg(i,s,e);_e(),i=i.memoizedState,s=_e();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function js(e,i,s,l){return e={tag:e,create:i,inst:s,deps:l,next:null},i=Ct.updateQueue,i===null&&(i=ac(),Ct.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function Jg(){return _e().memoizedState}function lc(e,i,s,l){var h=un();Ct.flags|=e,h.memoizedState=js(1|i,s,{destroy:void 0},l===void 0?null:l)}function uc(e,i,s,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&If(l,Qt.memoizedState.deps)?h.memoizedState=js(i,s,d,l):(Ct.flags|=e,h.memoizedState=js(1|i,s,d,l))}function ty(e,i){lc(8390656,8,e,i)}function Lf(e,i){uc(2048,8,e,i)}function ey(e,i){return uc(4,2,e,i)}function ny(e,i){return uc(4,4,e,i)}function iy(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ry(e,i,s){s=s!=null?s.concat([e]):null,uc(4,4,iy.bind(null,i,e),s)}function Uf(){}function ay(e,i){var s=_e();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&If(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function sy(e,i){var s=_e();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=e(),Ma){Wn(!0);try{e()}finally{Wn(!1)}}return s.memoizedState=[l,i],l}function jf(e,i,s){return s===void 0||(Ir&1073741824)!==0?e.memoizedState=i:(e.memoizedState=s,e=l_(),Ct.lanes|=e,Lr|=e,s)}function oy(e,i,s,l){return mn(s,i)?s:Vs.current!==null?(e=jf(e,s,l),mn(e,i)||(Ve=!0),e):(Ir&42)===0?(Ve=!0,e.memoizedState=s):(e=l_(),Ct.lanes|=e,Lr|=e,i)}function ly(e,i,s,l,h){var d=ct.p;ct.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,qf(e,!1,i,s);try{var D=h(),j=S.S;if(j!==null&&j(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=eA(D,l);ol(e,i,Z,_n(e))}else ol(e,i,l,_n(e))}catch(it){ol(e,i,{then:function(){},status:"rejected",reason:it},_n())}finally{ct.p=d,S.T=v}}function sA(){}function zf(e,i,s,l){if(e.tag!==5)throw Error(a(476));var h=uy(e).queue;ly(e,h,i,It,s===null?sA:function(){return cy(e),s(l)})}function uy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:It,baseState:It,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:It},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function cy(e){var i=uy(e).next.queue;ol(e,i,{},_n())}function Bf(){return $e(Il)}function hy(){return _e().memoizedState}function fy(){return _e().memoizedState}function oA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=_n();e=xr(s);var l=Or(i,e,s);l!==null&&(an(l,i,s),cl(l,i,s)),i={cache:Sf()},e.payload=i;return}i=i.return}}function lA(e,i,s){var l=_n();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},cc(e)?my(i,s):(s=yf(e,i,s,l),s!==null&&(an(s,e,l),py(s,i,l)))}function dy(e,i,s){var l=_n();ol(e,i,s,l)}function ol(e,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(cc(e))my(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return Ku(e,i,h,0),Wt===null&&$u(),!1}catch{}finally{}if(s=yf(e,i,h,l),s!==null)return an(s,e,l),py(s,i,l),!0}return!1}function qf(e,i,s,l){if(l={lane:2,revertLane:xd(),action:l,hasEagerState:!1,eagerState:null,next:null},cc(e)){if(i)throw Error(a(479))}else i=yf(e,s,l,2),i!==null&&an(i,e,2)}function cc(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function my(e,i){Ls=ic=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function py(e,i,s){if((s&4194176)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,mr(e,s)}}var ci={readContext:$e,use:sc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me};ci.useCacheRefresh=me,ci.useMemoCache=me,ci.useHostTransitionStatus=me,ci.useFormState=me,ci.useActionState=me,ci.useOptimistic=me;var Va={readContext:$e,use:sc,useCallback:function(e,i){return un().memoizedState=[e,i===void 0?null:i],e},useContext:$e,useEffect:ty,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,lc(4194308,4,iy.bind(null,i,e),s)},useLayoutEffect:function(e,i){return lc(4194308,4,e,i)},useInsertionEffect:function(e,i){lc(4,2,e,i)},useMemo:function(e,i){var s=un();i=i===void 0?null:i;var l=e();if(Ma){Wn(!0);try{e()}finally{Wn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=un();if(s!==void 0){var h=s(i);if(Ma){Wn(!0);try{s(i)}finally{Wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=lA.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var i=un();return e={current:e},i.memoizedState=e},useState:function(e){e=kf(e);var i=e.queue,s=dy.bind(null,Ct,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Uf,useDeferredValue:function(e,i){var s=un();return jf(s,e,i)},useTransition:function(){var e=kf(!1);return e=ly.bind(null,Ct,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=Ct,h=un();if(qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Wt===null)throw Error(a(349));(Ut&60)!==0||Ug(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,ty(zg.bind(null,l,d,e),[e]),l.flags|=2048,js(9,jg.bind(null,l,d,s,i),{destroy:void 0},null),s},useId:function(){var e=un(),i=Wt.identifierPrefix;if(qt){var s=Mi,l=Oi;s=(l&~(1<<32-tn(l)-1)).toString(32)+s,i=":"+i+"R"+s,s=rc++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=nA++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return un().memoizedState=oA.bind(null,Ct)}};Va.useMemoCache=Of,Va.useHostTransitionStatus=Bf,Va.useFormState=Yg,Va.useActionState=Yg,Va.useOptimistic=function(e){var i=un();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=qf.bind(null,Ct,!0,s),s.dispatch=i,[e,i]};var Cr={readContext:$e,use:sc,useCallback:ay,useContext:$e,useEffect:Lf,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ny,useMemo:sy,useReducer:oc,useRef:Jg,useState:function(){return oc(ki)},useDebugValue:Uf,useDeferredValue:function(e,i){var s=_e();return oy(s,Qt.memoizedState,e,i)},useTransition:function(){var e=oc(ki)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:sl(e),i]},useSyncExternalStore:Lg,useId:hy};Cr.useCacheRefresh=fy,Cr.useMemoCache=Of,Cr.useHostTransitionStatus=Bf,Cr.useFormState=Xg,Cr.useActionState=Xg,Cr.useOptimistic=function(e,i){var s=_e();return Hg(s,Qt,e,i)};var ka={readContext:$e,use:sc,useCallback:ay,useContext:$e,useEffect:Lf,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ny,useMemo:sy,useReducer:Vf,useRef:Jg,useState:function(){return Vf(ki)},useDebugValue:Uf,useDeferredValue:function(e,i){var s=_e();return Qt===null?jf(s,e,i):oy(s,Qt.memoizedState,e,i)},useTransition:function(){var e=Vf(ki)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:sl(e),i]},useSyncExternalStore:Lg,useId:hy};ka.useCacheRefresh=fy,ka.useMemoCache=Of,ka.useHostTransitionStatus=Bf,ka.useFormState=Zg,ka.useActionState=Zg,ka.useOptimistic=function(e,i){var s=_e();return Qt!==null?Hg(s,Qt,e,i):(s.baseState=e,[e,s.queue.dispatch])};function Hf(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:N({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ff={isMounted:function(e){return(e=e._reactInternals)?dt(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var l=_n(),h=xr(l);h.payload=i,s!=null&&(h.callback=s),i=Or(e,h,l),i!==null&&(an(i,e,l),cl(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=_n(),h=xr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Or(e,h,l),i!==null&&(an(i,e,l),cl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=_n(),l=xr(s);l.tag=2,i!=null&&(l.callback=i),i=Or(e,l,s),i!==null&&(an(i,e,s),cl(i,e,s))}};function gy(e,i,s,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Qo(s,l)||!Qo(h,d):!0}function yy(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&Ff.enqueueReplaceState(i,i.state,null)}function Pa(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=N({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var hc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _y(e){hc(e)}function vy(e){console.error(e)}function Ey(e){hc(e)}function fc(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ty(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(e,i,s){return s=xr(s),s.tag=3,s.payload={element:null},s.callback=function(){fc(e,i)},s}function by(e){return e=xr(e),e.tag=3,e}function Ay(e,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ty(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ty(i,s,l),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function uA(e,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&ul(i,s,h,!0),s=xn.current,s!==null){switch(s.tag){case 13:return ui===null?Rd():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Tf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Cd(e,l,h)),!1;case 22:return s.flags|=65536,l===Tf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Cd(e,l,h)),!1}throw Error(a(435,s.tag))}return Cd(e,l,h),Rd(),!1}if(qt)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ef&&(e=Error(a(422),{cause:l}),Zo(Cn(e,s)))):(l!==Ef&&(i=Error(a(423),{cause:l}),Zo(Cn(i,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Cn(l,s),h=Gf(e.stateNode,l,h),sd(e,h),ce!==4&&(ce=2)),!1;var d=Error(a(520),{cause:l});if(d=Cn(d,s),_l===null?_l=[d]:_l.push(d),ce!==4&&(ce=2),i===null)return!0;l=Cn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Gf(s.stateNode,l,e),sd(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=by(h),Ay(h,e,s,l),sd(s,h),!1}s=s.return}while(s!==null);return!1}var Sy=Error(a(461)),Ve=!1;function ze(e,i,s,l){i.child=e===null?Dg(i,null,s,l):xa(i,e.child,s,l)}function wy(e,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ua(i),l=Cf(e,i,s,v,d,h),T=Df(),e!==null&&!Ve?(Nf(e,i,h),Pi(e,i,h)):(qt&&T&&_f(i),i.flags|=1,ze(e,i,l,h),i.child)}function Ry(e,i,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!md(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Iy(e,i,d,l,h)):(e=yc(s.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!td(e,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Qo,s(v,l)&&e.ref===i.ref)return Pi(e,i,h)}return i.flags|=1,e=Pr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Iy(e,i,s,l,h){if(e!==null){var d=e.memoizedProps;if(Qo(d,l)&&e.ref===i.ref)if(Ve=!1,i.pendingProps=l=d,td(e,h))(e.flags&131072)!==0&&(Ve=!0);else return i.lanes=e.lanes,Pi(e,i,h)}return $f(e,i,s,l,h)}function Cy(e,i,s){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(ll(e,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|s:s,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Dy(e,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&nc(i,v!==null?v.cachePool:null),v!==null?Ng(i,v):bf(),xg(i);else return i.lanes=i.childLanes=536870912,Dy(e,i,v!==null?v.baseLanes|s:s,s)}else v!==null?(nc(i,v.cachePool),Ng(i,v),Rr(),i.memoizedState=null):(e!==null&&nc(i,null),bf(),Rr());return ze(e,i,h,s),i.child}function Dy(e,i,s,l){var h=Rf();return h=h===null?null:{parent:Ie._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},e!==null&&nc(i,null),bf(),xg(i),e!==null&&ul(e,i,l,!0),null}function ll(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(i.flags|=2097664)}}function $f(e,i,s,l,h){return Ua(i),s=Cf(e,i,s,l,void 0,h),l=Df(),e!==null&&!Ve?(Nf(e,i,h),Pi(e,i,h)):(qt&&l&&_f(i),i.flags|=1,ze(e,i,s,h),i.child)}function Ny(e,i,s,l,h,d){return Ua(i),i.updateQueue=null,s=Pg(i,l,s,h),kg(e),l=Df(),e!==null&&!Ve?(Nf(e,i,d),Pi(e,i,d)):(qt&&l&&_f(i),i.flags|=1,ze(e,i,s,d),i.child)}function xy(e,i,s,l,h){if(Ua(i),i.stateNode===null){var d=Ns,v=s.contextType;typeof v=="object"&&v!==null&&(d=$e(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ff,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},rd(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?$e(v):Ns,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Hf(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ff.enqueueReplaceState(d,d.state,null),fl(i,l,d,h),hl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,D=Pa(s,T);d.props=D;var j=d.context,Z=s.contextType;v=Ns,typeof Z=="object"&&Z!==null&&(v=$e(Z));var it=s.getDerivedStateFromProps;Z=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&yy(i,d,l,v),Nr=!1;var K=i.memoizedState;d.state=K,fl(i,l,d,h),hl(),j=i.memoizedState,T||K!==j||Nr?(typeof it=="function"&&(Hf(i,s,it,l),j=i.memoizedState),(D=Nr||gy(i,s,D,l,K,j,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ad(e,i),v=i.memoizedProps,Z=Pa(s,v),d.props=Z,it=i.pendingProps,K=d.context,j=s.contextType,D=Ns,typeof j=="object"&&j!==null&&(D=$e(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==it||K!==D)&&yy(i,d,l,D),Nr=!1,K=i.memoizedState,d.state=K,fl(i,l,d,h),hl();var X=i.memoizedState;v!==it||K!==X||Nr||e!==null&&e.dependencies!==null&&dc(e.dependencies)?(typeof T=="function"&&(Hf(i,s,T,l),X=i.memoizedState),(Z=Nr||gy(i,s,Z,l,K,X,D)||e!==null&&e.dependencies!==null&&dc(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=D,l=Z):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ll(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=xa(i,e.child,null,h),i.child=xa(i,null,s,h)):ze(e,i,s,h),i.memoizedState=d.state,e=i.child):e=Pi(e,i,h),e}function Oy(e,i,s,l){return Wo(),i.flags|=256,ze(e,i,s,l),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Qf(e){return{baseLanes:e,cachePool:Vg()}}function Yf(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=kn),e}function My(e,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?wr(i):Rr(),qt){var T=je,D;if(D=T){t:{for(D=T,T=li;D.nodeType!==8;){if(!T){T=null;break t}if(D=Gn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ca!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912},D=Vn(18,null,null,0),D.stateNode=T,D.return=i,i.child=D,rn=i,je=null,D=!0):D=!1}D||Na(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Vi(i)}return T=l.children,l=l.fallback,h?(Rr(),h=i.mode,T=Wf({mode:"hidden",children:T},h),l=za(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Qf(s),h.childLanes=Yf(e,v,s),i.memoizedState=Kf,l):(wr(i),Xf(i,T))}if(D=e.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(wr(i),i.flags&=-257,i=Zf(e,i,s)):i.memoizedState!==null?(Rr(),i.child=e.child,i.flags|=128,i=null):(Rr(),h=l.fallback,T=i.mode,l=Wf({mode:"visible",children:l.children},T),h=za(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,xa(i,e.child,null,s),l=i.child,l.memoizedState=Qf(s),l.childLanes=Yf(e,v,s),i.memoizedState=Kf,i=h);else if(wr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(a(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),i=Zf(e,i,s)}else if(Ve||ul(e,i,s,!1),v=(s&e.childLanes)!==0,Ve||v){if(v=Wt,v!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Sr(e,l),an(v,e,l),Sy}T.data==="$?"||Rd(),i=Zf(e,i,s)}else T.data==="$?"?(i.flags|=128,i.child=e.child,i=SA.bind(null,e),T._reactRetry=i,i=null):(e=D.treeContext,je=Gn(T.nextSibling),rn=i,qt=!0,Hn=null,li=!1,e!==null&&(Dn[Nn++]=Oi,Dn[Nn++]=Mi,Dn[Nn++]=Ca,Oi=e.id,Mi=e.overflow,Ca=i),i=Xf(i,l.children),i.flags|=4096);return i}return h?(Rr(),h=l.fallback,T=i.mode,D=e.child,j=D.sibling,l=Pr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,j!==null?h=Pr(j,h):(h=za(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Qf(s):(D=T.cachePool,D!==null?(j=Ie._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=Vg(),T={baseLanes:T.baseLanes|s,cachePool:D}),h.memoizedState=T,h.childLanes=Yf(e,v,s),i.memoizedState=Kf,l):(wr(i),s=e.child,e=s.sibling,s=Pr(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=s,i.memoizedState=null,s)}function Xf(e,i){return i=Wf({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Wf(e,i){return a_(e,i,0,null)}function Zf(e,i,s){return xa(i,e.child,null,s),e=Xf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Vy(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),nd(e.return,i,s)}function Jf(e,i,s,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function ky(e,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,i,l.children,s),l=Re.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vy(e,s,i);else if(e.tag===19)Vy(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Kt(Re,l),h){case"forwards":for(s=i.child,h=null;s!==null;)e=s.alternate,e!==null&&ec(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Jf(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ec(e)===null){i.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Jf(i,!0,s,null,d);break;case"together":Jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Lr|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(ul(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,s=Pr(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Pr(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function td(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&dc(e)))}function cA(e,i,s){switch(i.tag){case 3:lr(i,i.stateNode.containerInfo),Dr(i,Ie,e.memoizedState.cache),Wo();break;case 27:case 5:Io(i);break;case 4:lr(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(wr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?My(e,i,s):(wr(i),e=Pi(e,i,s),e!==null?e.sibling:null);wr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(ul(e,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return ky(e,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Kt(Re,Re.current),l)break;return null;case 22:case 23:return i.lanes=0,Cy(e,i,s);case 24:Dr(i,Ie,e.memoizedState.cache)}return Pi(e,i,s)}function Py(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ve=!0;else{if(!td(e,s)&&(i.flags&128)===0)return Ve=!1,cA(e,i,s);Ve=(e.flags&131072)!==0}else Ve=!1,qt&&(i.flags&1048576)!==0&&Eg(i,Xu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")md(l)?(e=Pa(l,e),i.tag=1,i=xy(null,i,l,e,s)):(i.tag=0,i=$f(null,i,l,e,s));else{if(l!=null){if(h=l.$$typeof,h===M){i.tag=11,i=wy(null,i,l,e,s);break t}else if(h===$){i.tag=14,i=Ry(null,i,l,e,s);break t}}throw i=R(l)||l,Error(a(306,i,""))}}return i;case 0:return $f(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Pa(l,i.pendingProps),xy(e,i,l,h,s);case 3:t:{if(lr(i,i.stateNode.containerInfo),e===null)throw Error(a(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,ad(e,i),fl(i,d,null,s);var v=i.memoizedState;if(d=v.cache,Dr(i,Ie,d),d!==h.cache&&id(i,[Ie],s,!0),hl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Oy(e,i,d,s);break t}else if(d!==l){l=Cn(Error(a(424)),i),Zo(l),i=Oy(e,i,d,s);break t}else for(je=Gn(i.stateNode.containerInfo.firstChild),rn=i,qt=!0,Hn=null,li=!0,s=Dg(i,null,d,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Wo(),d===l){i=Pi(e,i,s);break t}ze(e,i,d,s)}i=i.child}return i;case 26:return ll(e,i),e===null?(s=j_(i.type,null,i.pendingProps,null))?i.memoizedState=s:qt||(s=i.type,e=i.pendingProps,l=Dc(En.current).createElement(s),l[xe]=i,l[Ae]=e,Be(l,s,e),ie(l),i.stateNode=l):i.memoizedState=j_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Io(i),e===null&&qt&&(l=i.stateNode=P_(i.type,i.pendingProps,En.current),rn=i,li=!0,je=Gn(l.firstChild)),l=i.pendingProps.children,e!==null||qt?ze(e,i,l,s):i.child=xa(i,null,l,s),ll(e,i),i.child;case 5:return e===null&&qt&&((h=l=je)&&(l=zA(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,rn=i,je=Gn(l.firstChild),li=!1,h=!0):h=!1),h||Na(i)),Io(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,zd(h,d)?l=null:v!==null&&zd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Cf(e,i,iA,null,null,s),Il._currentValue=h),ll(e,i),ze(e,i,l,s),i.child;case 6:return e===null&&qt&&((e=s=je)&&(s=BA(s,i.pendingProps,li),s!==null?(i.stateNode=s,rn=i,je=null,e=!0):e=!1),e||Na(i)),null;case 13:return My(e,i,s);case 4:return lr(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=xa(i,null,l,s):ze(e,i,l,s),i.child;case 11:return wy(e,i,i.type,i.pendingProps,s);case 7:return ze(e,i,i.pendingProps,s),i.child;case 8:return ze(e,i,i.pendingProps.children,s),i.child;case 12:return ze(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),ze(e,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ua(i),h=$e(h),l=l(h),i.flags|=1,ze(e,i,l,s),i.child;case 14:return Ry(e,i,i.type,i.pendingProps,s);case 15:return Iy(e,i,i.type,i.pendingProps,s);case 19:return ky(e,i,s);case 22:return Cy(e,i,s);case 24:return Ua(i),l=$e(Ie),e===null?(h=Rf(),h===null&&(h=Wt,d=Sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},rd(i),Dr(i,Ie,h)):((e.lanes&s)!==0&&(ad(e,i),fl(i,null,null,s),hl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,Ie,l)):(l=d.cache,Dr(i,Ie,l),l!==h.cache&&id(i,[Ie],s,!0))),ze(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var ed=zt(null),La=null,Li=null;function Dr(e,i,s){Kt(ed,i._currentValue),i._currentValue=s}function Ui(e){e._currentValue=ed.current,oe(ed)}function nd(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function id(e,i,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),nd(d.return,s,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),nd(v,s,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ul(e,i,s,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===or.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}h=h.return}e!==null&&id(i,e,s,l),i.flags|=262144}function dc(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ua(e){La=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Ly(La,e)}function mc(e,i){return La===null&&Ua(e),Ly(e,i)}function Ly(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(a(308));Li=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Li=Li.next=i;return s}var Nr=!1;function rd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Or(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ae&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Qu(e),_g(e,null,s),i}return Ku(e,l,i,s),Qu(e)}function cl(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,mr(e,s)}}function sd(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var od=!1;function hl(){if(od){var e=Ps;if(e!==null)throw e}}function fl(e,i,s,l){od=!1;var h=e.updateQueue;Nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,j=D.next;D.next=null,v===null?d=j:v.next=j,v=D;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=j:T.next=j,Z.lastBaseUpdate=D))}if(d!==null){var it=h.baseState;v=0,Z=j=D=null,T=d;do{var K=T.lane&-536870913,X=K!==T.lane;if(X?(Ut&K)===K:(l&K)===K){K!==0&&K===ks&&(od=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var mt=e,At=T;K=i;var he=s;switch(At.tag){case 1:if(mt=At.payload,typeof mt=="function"){it=mt.call(he,it,K);break t}it=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=At.payload,K=typeof mt=="function"?mt.call(he,it,K):mt,K==null)break t;it=N({},it,K);break t;case 2:Nr=!0}}K=T.callback,K!==null&&(e.flags|=64,X&&(e.flags|=8192),X=h.callbacks,X===null?h.callbacks=[K]:X.push(K))}else X={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(j=Z=X,D=it):Z=Z.next=X,v|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);Z===null&&(D=it),h.baseState=D,h.firstBaseUpdate=j,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Lr|=v,e.lanes=v,e.memoizedState=it}}function Uy(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function jy(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Uy(s[e],i)}function dl(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){Xt(i,i.return,T)}}function Mr(e,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var D=s;try{T()}catch(j){Xt(h,D,j)}}}l=l.next}while(l!==d)}}catch(j){Xt(i,i.return,j)}}function zy(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{jy(i,s)}catch(l){Xt(e,e.return,l)}}}function By(e,i,s){s.props=Pa(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(e,i,l)}}function ja(e,i){try{var s=e.ref;if(s!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?e.refCleanup=s(h):s.current=h}}catch(d){Xt(e,i,d)}}function pn(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,i,h)}else s.current=null}function qy(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function Hy(e,i,s){try{var l=e.stateNode;kA(l,e.type,s,i),l[Ae]=i}catch(h){Xt(e,e.return,h)}}function Fy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function ld(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ud(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Cc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(ud(e,i,s),e=e.sibling;e!==null;)ud(e,i,s),e=e.sibling}function pc(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(pc(e,i,s),e=e.sibling;e!==null;)pc(e,i,s),e=e.sibling}var ji=!1,ue=!1,cd=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,ke=null,$y=!1;function hA(e,i){if(e=e.containerInfo,Ud=kc,e=ug(e),ff(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,T=-1,D=-1,j=0,Z=0,it=e,K=null;e:for(;;){for(var X;it!==s||h!==0&&it.nodeType!==3||(T=v+h),it!==d||l!==0&&it.nodeType!==3||(D=v+l),it.nodeType===3&&(v+=it.nodeValue.length),(X=it.firstChild)!==null;)K=it,it=X;for(;;){if(it===e)break e;if(K===s&&++j===h&&(T=v),K===d&&++Z===l&&(D=v),(X=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=X}s=T===-1||D===-1?null:{start:T,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(jd={focusedElem:e,selectionRange:s},kc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var mt=Pa(s.type,h,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){Xt(s,s.return,At)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Hd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}return mt=$y,$y=!1,mt}function Ky(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(e,s),l&4&&dl(5,s);break;case 1:if(Bi(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(T){Xt(s,s.return,T)}else{var h=Pa(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(s,s.return,T)}}l&64&&zy(s),l&512&&ja(s,s.return);break;case 3:if(Bi(e,s),l&64&&(l=s.updateQueue,l!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{jy(l,e)}catch(T){Xt(s,s.return,T)}}break;case 26:Bi(e,s),l&512&&ja(s,s.return);break;case 27:case 5:Bi(e,s),i===null&&l&4&&qy(s),l&512&&ja(s,s.return);break;case 12:Bi(e,s);break;case 13:Bi(e,s),l&4&&Xy(e,s);break;case 22:if(h=s.memoizedState!==null||ji,!h){i=i!==null&&i.memoizedState!==null||ue;var d=ji,v=ue;ji=h,(ue=i)&&!v?Vr(e,s,(s.subtreeFlags&8772)!==0):Bi(e,s),ji=d,ue=v}l&512&&(s.memoizedProps.mode==="manual"?ja(s,s.return):pn(s,s.return));break;default:Bi(e,s)}}function Qy(e){var i=e.alternate;i!==null&&(e.alternate=null,Qy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&pa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,gn=!1;function zi(e,i,s){for(s=s.child;s!==null;)Yy(e,i,s),s=s.sibling}function Yy(e,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ur,s)}catch{}switch(s.tag){case 26:ue||pn(s,i),zi(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ue||pn(s,i);var l=ve,h=gn;for(ve=s.stateNode,zi(e,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);pa(s),ve=l,gn=h;break;case 5:ue||pn(s,i);case 6:h=ve;var d=gn;if(ve=null,zi(e,i,s),ve=h,gn=d,ve!==null)if(gn)try{e=ve,l=s.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Xt(s,i,v)}else try{ve.removeChild(s.stateNode)}catch(v){Xt(s,i,v)}break;case 18:ve!==null&&(gn?(i=ve,s=s.stateNode,i.nodeType===8?qd(i.parentNode,s):i.nodeType===1&&qd(i,s),xl(i)):qd(ve,s.stateNode));break;case 4:l=ve,h=gn,ve=s.stateNode.containerInfo,gn=!0,zi(e,i,s),ve=l,gn=h;break;case 0:case 11:case 14:case 15:ue||Mr(2,s,i),ue||Mr(4,s,i),zi(e,i,s);break;case 1:ue||(pn(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&By(s,i,l)),zi(e,i,s);break;case 21:zi(e,i,s);break;case 22:ue||pn(s,i),ue=(l=ue)||s.memoizedState!==null,zi(e,i,s),ue=l;break;default:zi(e,i,s)}}function Xy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xl(e)}catch(s){Xt(i,i.return,s)}}function fA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Gy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Gy),i;default:throw Error(a(435,e.tag))}}function hd(e,i){var s=fA(e);i.forEach(function(l){var h=wA.bind(null,e,l);s.has(l)||(s.add(l),l.then(h,h))})}function On(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:ve=T.stateNode,gn=!1;break t;case 3:ve=T.stateNode.containerInfo,gn=!0;break t;case 4:ve=T.stateNode.containerInfo,gn=!0;break t}T=T.return}if(ve===null)throw Error(a(160));Yy(d,v,h),ve=null,gn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Wy(i,e),i=i.sibling}var Fn=null;function Wy(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(i,e),Mn(e),l&4&&(Mr(3,e,e.return),dl(3,e),Mr(5,e,e.return));break;case 1:On(i,e),Mn(e),l&512&&(ue||s===null||pn(s,s.return)),l&64&&ji&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Fn;if(On(i,e),Mn(e),l&512&&(ue||s===null||pn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gr]||d[xe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,s),d[xe]=e,ie(d),l=d;break t;case"link":var v=q_("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,s),h.head.appendChild(d);break;case"meta":if(v=q_("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[xe]=e,ie(d),l=d}e.stateNode=l}else H_(h,e.type,e.stateNode);else e.stateNode=B_(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?H_(h,e.type,e.stateNode):B_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hy(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var D=h.firstChild;D;){var j=D.nextSibling,Z=D.nodeName;D[gr]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&D.rel.toLowerCase()==="stylesheet"||h.removeChild(D),D=j}for(var it=e.type,K=h.attributes;K.length;)h.removeAttributeNode(K[0]);Be(h,it,d),h[xe]=e,h[Ae]=d}catch(mt){Xt(e,e.return,mt)}}case 5:if(On(i,e),Mn(e),l&512&&(ue||s===null||pn(s,s.return)),e.flags&32){h=e.stateNode;try{An(h,"")}catch(mt){Xt(e,e.return,mt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Hy(e,h,s!==null?s.memoizedProps:h)),l&1024&&(cd=!0);break;case 6:if(On(i,e),Mn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(mt){Xt(e,e.return,mt)}}break;case 3:if(Oc=null,h=Fn,Fn=Nc(i.containerInfo),On(i,e),Fn=h,Mn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{xl(i.containerInfo)}catch(mt){Xt(e,e.return,mt)}cd&&(cd=!1,Zy(e));break;case 4:l=Fn,Fn=Nc(e.stateNode.containerInfo),On(i,e),Mn(e),Fn=l;break;case 12:On(i,e),Mn(e);break;case 13:On(i,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ed=on()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hd(e,l)));break;case 22:if(l&512&&(ue||s===null||pn(s,s.return)),D=e.memoizedState!==null,j=s!==null&&s.memoizedState!==null,Z=ji,it=ue,ji=Z||D,ue=it||j,On(i,e),ue=it,ji=Z,Mn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=ji||ue,s===null||j||i||zs(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){j=s=i;try{if(h=j.stateNode,D)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=j.stateNode,T=j.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(mt){Xt(j,j.return,mt)}}}else if(i.tag===6){if(s===null){j=i;try{j.stateNode.nodeValue=D?"":j.memoizedProps}catch(mt){Xt(j,j.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,hd(e,s))));break;case 19:On(i,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hd(e,l)));break;case 21:break;default:On(i,e),Mn(e)}}function Mn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(Fy(s)){var l=s;break t}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=ld(e);pc(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(An(v,""),l.flags&=-33);var T=ld(e);pc(e,T,v);break;case 3:case 4:var D=l.stateNode.containerInfo,j=ld(e);ud(e,j,D);break;default:throw Error(a(161))}}}catch(Z){Xt(e,e.return,Z)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Zy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Bi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ky(e,i.alternate,i),i=i.sibling}function zs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),zs(i);break;case 1:pn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&By(i,i.return,s),zs(i);break;case 26:case 27:case 5:pn(i,i.return),zs(i);break;case 22:pn(i,i.return),i.memoizedState===null&&zs(i);break;default:zs(i)}e=e.sibling}}function Vr(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(h,d,s),dl(4,d);break;case 1:if(Vr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Xt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Uy(D[h],T)}catch(j){Xt(l,l.return,j)}}s&&v&64&&zy(d),ja(d,d.return);break;case 26:case 27:case 5:Vr(h,d,s),s&&l===null&&v&4&&qy(d),ja(d,d.return);break;case 12:Vr(h,d,s);break;case 13:Vr(h,d,s),s&&v&4&&Xy(h,d);break;case 22:d.memoizedState===null&&Vr(h,d,s),ja(d,d.return);break;default:Vr(h,d,s)}i=i.sibling}}function fd(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&il(s))}function dd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&il(e))}function kr(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jy(e,i,s,l),i=i.sibling}function Jy(e,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:kr(e,i,s,l),h&2048&&dl(9,i);break;case 3:kr(e,i,s,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&il(e)));break;case 12:if(h&2048){kr(e,i,s,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Xt(i,i.return,D)}}else kr(e,i,s,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?kr(e,i,s,l):ml(e,i):d._visibility&4?kr(e,i,s,l):(d._visibility|=4,Bs(e,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&fd(i.alternate,i);break;case 24:kr(e,i,s,l),h&2048&&dd(i.alternate,i);break;default:kr(e,i,s,l)}}function Bs(e,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=s,D=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Bs(d,v,T,D,h),dl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&4?Bs(d,v,T,D,h):ml(d,v):(Z._visibility|=4,Bs(d,v,T,D,h)),h&&j&2048&&fd(v.alternate,v);break;case 24:Bs(d,v,T,D,h),h&&j&2048&&dd(v.alternate,v);break;default:Bs(d,v,T,D,h)}i=i.sibling}}function ml(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,h=l.flags;switch(l.tag){case 22:ml(s,l),h&2048&&fd(l.alternate,l);break;case 24:ml(s,l),h&2048&&dd(l.alternate,l);break;default:ml(s,l)}i=i.sibling}}var pl=8192;function qs(e){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)t_(e),e=e.sibling}function t_(e){switch(e.tag){case 26:qs(e),e.flags&pl&&e.memoizedState!==null&&tS(Fn,e.memoizedState,e.memoizedProps);break;case 5:qs(e);break;case 3:case 4:var i=Fn;Fn=Nc(e.stateNode.containerInfo),qs(e),Fn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=pl,pl=16777216,qs(e),pl=i):qs(e));break;default:qs(e)}}function e_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function gl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];ke=l,i_(l,e)}e_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)n_(e),e=e.sibling}function n_(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,gc(e)):gl(e);break;default:gl(e)}}function gc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];ke=l,i_(l,e)}e_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),gc(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,gc(i));break;default:gc(i)}e=e.sibling}}function i_(e,i){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Mr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ke=l;else t:for(s=e;ke!==null;){l=ke;var h=l.sibling,d=l.return;if(Qy(l),l===s){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}function dA(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,i,s,l){return new dA(e,i,s,l)}function md(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pr(e,i){var s=e.alternate;return s===null?(s=Vn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function r_(e,i){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function yc(e,i,s,l,h,d){var v=0;if(l=e,typeof e=="function")md(e)&&(v=1);else if(typeof e=="string")v=ZA(e,s,Je.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return za(s.children,h,d,i);case g:v=8,h|=24;break;case E:return e=Vn(12,s,i,h|2),e.elementType=E,e.lanes=d,e;case H:return e=Vn(13,s,i,h),e.elementType=H,e.lanes=d,e;case P:return e=Vn(19,s,i,h),e.elementType=P,e.lanes=d,e;case L:return a_(s,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case I:v=10;break t;case w:v=9;break t;case M:v=11;break t;case $:v=14;break t;case Q:v=16,l=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return i=Vn(v,s,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function za(e,i,s,l){return e=Vn(7,e,l,i),e.lanes=s,e}function a_(e,i,s,l){e=Vn(22,e,l,i),e.elementType=L,e.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var v=Sr(d,2);v!==null&&(h._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var v=Sr(d,2);v!==null&&(h._pendingVisibility&=-3,an(v,d,2))}}};return e.stateNode=h,e}function pd(e,i,s){return e=Vn(6,e,null,i),e.lanes=s,e}function gd(e,i,s){return i=Vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function qi(e){e.flags|=4}function s_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!F_(i)){if(i=xn.current,i!==null&&((Ut&4194176)===Ut?ui!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==ui))throw tl=Tf,Ag;e.flags|=8192}}function _c(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?fr():536870912,e.lanes|=i,Fs|=i)}function yl(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function mA(e,i,s){var l=i.pendingProps;switch(vf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ui(Ie),Ti(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Xo(i)?qi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hn!==null&&(Sd(Hn),Hn=null))),re(i),null;case 26:return s=i.memoizedState,e===null?(qi(i),s!==null?(re(i),s_(i,s)):(re(i),i.flags&=-16777217)):s?s!==e.memoizedState?(qi(i),re(i),s_(i,s)):(re(i),i.flags&=-16777217):(e.memoizedProps!==l&&qi(i),re(i),i.flags&=-16777217),null;case 27:us(i),s=En.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return re(i),null}e=Je.current,Xo(i)?Tg(i):(e=P_(h,l,s),i.stateNode=e,qi(i))}return re(i),null;case 5:if(us(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return re(i),null}if(e=Je.current,Xo(i))Tg(i);else{switch(h=Dc(En.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}e[xe]=i,e[Ae]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&qi(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(e=En.current,Xo(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[xe]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||N_(e.nodeValue,s)),e||Na(i)}else e=Dc(e).createTextNode(l),e[xe]=i,i.stateNode=e}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Xo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xe]=i}else Wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else Hn!==null&&(Sd(Hn),Hn=null),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),_c(i,i.updateQueue),re(i),null;case 4:return Ti(),e===null&&kd(i.stateNode.containerInfo),re(i),null;case 10:return Ui(i.type),re(i),null;case 19:if(oe(Re),h=i.memoizedState,h===null)return re(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)yl(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=ec(e),d!==null){for(i.flags|=128,yl(h,!1),e=d.updateQueue,i.updateQueue=e,_c(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)r_(s,e),s=s.sibling;return Kt(Re,Re.current&1|2),i.child}e=e.sibling}h.tail!==null&&on()>vc&&(i.flags|=128,l=!0,yl(h,!1),i.lanes=4194304)}else{if(!l)if(e=ec(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,_c(i,e),yl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return re(i),null}else 2*on()-h.renderingStartTime>vc&&s!==536870912&&(i.flags|=128,l=!0,yl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=on(),i.sibling=null,e=Re.current,Kt(Re,l?e&1|2:e&1),i):(re(i),null);case 22:case 23:return Vi(i),Af(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),s=i.updateQueue,s!==null&&_c(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&oe(Oa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ui(Ie),re(i),null;case 25:return null}throw Error(a(156,i.tag))}function pA(e,i){switch(vf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ui(Ie),Ti(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return us(i),null;case 13:if(Vi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Wo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return oe(Re),null;case 4:return Ti(),null;case 10:return Ui(i.type),null;case 22:case 23:return Vi(i),Af(),e!==null&&oe(Oa),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ui(Ie),null;case 25:return null;default:return null}}function o_(e,i){switch(vf(i),i.tag){case 3:Ui(Ie),Ti();break;case 26:case 27:case 5:us(i);break;case 4:Ti();break;case 13:Vi(i);break;case 19:oe(Re);break;case 10:Ui(i.type);break;case 22:case 23:Vi(i),Af(),e!==null&&oe(Oa);break;case 24:Ui(Ie)}}var gA={getCacheForType:function(e){var i=$e(Ie),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},yA=typeof WeakMap=="function"?WeakMap:Map,ae=0,Wt=null,Nt=null,Ut=0,Zt=0,yn=null,Hi=!1,Hs=!1,yd=!1,Fi=0,ce=0,Lr=0,Ba=0,_d=0,kn=0,Fs=0,_l=null,hi=null,vd=!1,Ed=0,vc=1/0,Ec=null,Ur=null,Tc=!1,qa=null,vl=0,Td=0,bd=null,El=0,Ad=null;function _n(){if((ae&2)!==0&&Ut!==0)return Ut&-Ut;if(S.T!==null){var e=ks;return e!==0?e:xd()}return Iu()}function l_(){kn===0&&(kn=(Ut&536870912)===0||qt?Oo():536870912);var e=xn.current;return e!==null&&(e.flags|=32),kn}function an(e,i,s){(e===Wt&&Zt===2||e.cancelPendingCommit!==null)&&(Gs(e,0),Gi(e,Ut,kn,!1)),de(e,s),((ae&2)===0||e!==Wt)&&(e===Wt&&((ae&2)===0&&(Ba|=s),ce===4&&Gi(e,Ut,kn,!1)),fi(e))}function u_(e,i,s){if((ae&6)!==0)throw Error(a(327));var l=!s&&(i&60)===0&&(i&e.expiredLanes)===0||hr(e,i),h=l?EA(e,i):Id(e,i,!0),d=l;do{if(h===0){Hs&&!l&&Gi(e,i,0,!1);break}else if(h===6)Gi(e,i,0,!Hi);else{if(s=e.current.alternate,d&&!_A(s)){h=Id(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=_l;var D=T.current.memoizedState.isDehydrated;if(D&&(Gs(T,v).flags|=256),v=Id(T,v,!1),v!==2){if(yd&&!D){T.errorRecoveryDisabledLanes|=d,Ba|=d,h=4;break t}d=hi,hi=h,d!==null&&Sd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Gs(e,0),Gi(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){Gi(l,i,kn,!Hi);break t}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=i,(i&62914560)===i&&(d=Ed+300-on(),10<d)){if(Gi(l,i,kn,!Hi),Tn(l,0)!==0)break t;l.timeoutHandle=M_(c_.bind(null,l,s,hi,Ec,vd,i,kn,Ba,Fs,Hi,2,-0,0),d);break t}c_(l,s,hi,Ec,vd,i,kn,Ba,Fs,Hi,0,-0,0)}}break}while(!0);fi(e)}function Sd(e){hi===null?hi=e:hi.push.apply(hi,e)}function c_(e,i,s,l,h,d,v,T,D,j,Z,it,K){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:JA},t_(i),i=eS(),i!==null)){e.cancelPendingCommit=i(y_.bind(null,e,s,l,h,v,T,D,1,it,K)),Gi(e,d,v,!j);return}y_(e,s,l,h,v,T,D,Z,it,K)}function _A(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gi(e,i,s,l){i&=~_d,i&=~Ba,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-tn(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&dr(e,s,i)}function bc(){return(ae&6)===0?(Tl(0),!1):!0}function wd(){if(Nt!==null){if(Zt===0)var e=Nt.return;else e=Nt,Li=La=null,xf(e),Ms=null,el=0,e=Nt;for(;e!==null;)o_(e.alternate,e),e=e.return;Nt=null}}function Gs(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,LA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),wd(),Wt=e,Nt=s=Pr(e.current,null),Ut=i,Zt=0,yn=null,Hi=!1,Hs=hr(e,i),yd=!1,Fs=kn=_d=Ba=Lr=ce=0,hi=_l=null,vd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-tn(l),d=1<<h;i|=e[h],l&=~d}return Fi=i,$u(),s}function h_(e,i){Ct=null,S.H=ci,i===Jo?(i=Rg(),Zt=3):i===Ag?(i=Rg(),Zt=4):Zt=i===Sy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Nt===null&&(ce=1,fc(e,Cn(i,e.current)))}function f_(){var e=S.H;return S.H=ci,e===null?ci:e}function d_(){var e=S.A;return S.A=gA,e}function Rd(){ce=4,Hi||(Ut&4194176)!==Ut&&xn.current!==null||(Hs=!0),(Lr&134217727)===0&&(Ba&134217727)===0||Wt===null||Gi(Wt,Ut,kn,!1)}function Id(e,i,s){var l=ae;ae|=2;var h=f_(),d=d_();(Wt!==e||Ut!==i)&&(Ec=null,Gs(e,i)),i=!1;var v=ce;t:do try{if(Zt!==0&&Nt!==null){var T=Nt,D=yn;switch(Zt){case 8:wd(),v=6;break t;case 3:case 2:case 6:xn.current===null&&(i=!0);var j=Zt;if(Zt=0,yn=null,$s(e,T,D,j),s&&Hs){v=0;break t}break;default:j=Zt,Zt=0,yn=null,$s(e,T,D,j)}}vA(),v=ce;break}catch(Z){h_(e,Z)}while(!0);return i&&e.shellSuspendCounter++,Li=La=null,ae=l,S.H=h,S.A=d,Nt===null&&(Wt=null,Ut=0,$u()),v}function vA(){for(;Nt!==null;)m_(Nt)}function EA(e,i){var s=ae;ae|=2;var l=f_(),h=d_();Wt!==e||Ut!==i?(Ec=null,vc=on()+500,Gs(e,i)):Hs=hr(e,i);t:do try{if(Zt!==0&&Nt!==null){i=Nt;var d=yn;e:switch(Zt){case 1:Zt=0,yn=null,$s(e,i,d,1);break;case 2:if(Sg(d)){Zt=0,yn=null,p_(i);break}i=function(){Zt===2&&Wt===e&&(Zt=7),fi(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Sg(d)?(Zt=0,yn=null,p_(i)):(Zt=0,yn=null,$s(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||F_(v)){Zt=0,yn=null;var D=T.sibling;if(D!==null)Nt=D;else{var j=T.return;j!==null?(Nt=j,Ac(j)):Nt=null}break e}}Zt=0,yn=null,$s(e,i,d,5);break;case 6:Zt=0,yn=null,$s(e,i,d,6);break;case 8:wd(),ce=6;break t;default:throw Error(a(462))}}TA();break}catch(Z){h_(e,Z)}while(!0);return Li=La=null,S.H=l,S.A=h,ae=s,Nt!==null?0:(Wt=null,Ut=0,$u(),ce)}function TA(){for(;Nt!==null&&!tf();)m_(Nt)}function m_(e){var i=Py(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,i===null?Ac(e):Nt=i}function p_(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Ny(s,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=Ny(s,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:xf(i);default:o_(s,i),i=Nt=r_(i,Fi),i=Py(s,i,Fi)}e.memoizedProps=e.pendingProps,i===null?Ac(e):Nt=i}function $s(e,i,s,l){Li=La=null,xf(i),Ms=null,el=0;var h=i.return;try{if(uA(e,h,i,s,Ut)){ce=1,fc(e,Cn(s,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ce=1,fc(e,Cn(s,e.current)),Nt=null;return}i.flags&32768?(qt||l===1?e=!0:Hs||(Ut&536870912)!==0?e=!1:(Hi=e=!0,(l===2||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),g_(i,e)):Ac(i)}function Ac(e){var i=e;do{if((i.flags&32768)!==0){g_(i,Hi);return}e=i.return;var s=mA(i.alternate,i,Fi);if(s!==null){Nt=s;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ce===0&&(ce=5)}function g_(e,i){do{var s=pA(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);ce=6,Nt=null}function y_(e,i,s,l,h,d,v,T,D,j){var Z=S.T,it=ct.p;try{ct.p=2,S.T=null,bA(e,i,s,l,it,h,d,v,T,D,j)}finally{S.T=Z,ct.p=it}}function bA(e,i,s,l,h,d,v,T){do Ks();while(qa!==null);if((ae&6)!==0)throw Error(a(327));var D=e.finishedWork;if(l=e.finishedLanes,D===null)return null;if(e.finishedWork=null,e.finishedLanes=0,D===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var j=D.lanes|D.childLanes;if(j|=gf,wu(e,l,j,d,v,T),e===Wt&&(Nt=Wt=null,Ut=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Tc||(Tc=!0,Td=j,bd=s,RA(bi,function(){return Ks(),null})),s=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||s?(s=S.T,S.T=null,d=ct.p,ct.p=2,v=ae,ae|=4,hA(e,D),Wy(D,e),$b(jd,e.containerInfo),kc=!!Ud,jd=Ud=null,e.current=D,Ky(e,D.alternate,D),Co(),ae=v,ct.p=d,S.T=s):e.current=D,Tc?(Tc=!1,qa=e,vl=l):__(e,j),j=e.pendingLanes,j===0&&(Ur=null),No(D.stateNode),fi(e),i!==null)for(h=e.onRecoverableError,D=0;D<i.length;D++)j=i[D],h(j.value,{componentStack:j.stack});return(vl&3)!==0&&Ks(),j=e.pendingLanes,(l&4194218)!==0&&(j&42)!==0?e===Ad?El++:(El=0,Ad=e):El=0,Tl(0),null}function __(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,il(i)))}function Ks(){if(qa!==null){var e=qa,i=Td;Td=0;var s=Ru(vl),l=S.T,h=ct.p;try{if(ct.p=32>s?32:s,S.T=null,qa===null)var d=!1;else{s=bd,bd=null;var v=qa,T=vl;if(qa=null,vl=0,(ae&6)!==0)throw Error(a(331));var D=ae;if(ae|=4,n_(v.current),Jy(v,v.current,T,s),ae=D,Tl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ur,v)}catch{}d=!0}return d}finally{ct.p=h,S.T=l,__(e,i)}}return!1}function v_(e,i,s){i=Cn(s,i),i=Gf(e.stateNode,i,2),e=Or(e,i,2),e!==null&&(de(e,2),fi(e))}function Xt(e,i,s){if(e.tag===3)v_(e,e,s);else for(;i!==null;){if(i.tag===3){v_(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){e=Cn(s,e),s=by(2),l=Or(i,s,2),l!==null&&(Ay(s,l,i,e),de(l,2),fi(l));break}}i=i.return}}function Cd(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new yA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(yd=!0,h.add(s),e=AA.bind(null,e,i,s),i.then(e,e))}function AA(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Wt===e&&(Ut&s)===s&&(ce===4||ce===3&&(Ut&62914560)===Ut&&300>on()-Ed?(ae&2)===0&&Gs(e,0):_d|=s,Fs===Ut&&(Fs=0)),fi(e)}function E_(e,i){i===0&&(i=fr()),e=Sr(e,i),e!==null&&(de(e,i),fi(e))}function SA(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),E_(e,s)}function wA(e,i){var s=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),E_(e,s)}function RA(e,i){return fa(e,i)}var Sc=null,Qs=null,Dd=!1,wc=!1,Nd=!1,Ha=0;function fi(e){e!==Qs&&e.next===null&&(Qs===null?Sc=Qs=e:Qs=Qs.next=e),wc=!0,Dd||(Dd=!0,CA(IA))}function Tl(e,i){if(!Nd&&wc){Nd=!0;do for(var s=!1,l=Sc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-tn(42|e)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,A_(l,d))}else d=Ut,d=Tn(l,l===Wt?d:0),(d&3)===0||hr(l,d)||(s=!0,A_(l,d));l=l.next}while(s);Nd=!1}}function IA(){wc=Dd=!1;var e=0;Ha!==0&&(PA()&&(e=Ha),Ha=0);for(var i=on(),s=null,l=Sc;l!==null;){var h=l.next,d=T_(l,i);d===0?(l.next=null,s===null?Sc=h:s.next=h,h===null&&(Qs=s)):(s=l,(e!==0||(d&3)!==0)&&(wc=!0)),l=h}Tl(e)}function T_(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-tn(d),T=1<<v,D=h[v];D===-1?((T&s)===0||(T&l)!==0)&&(h[v]=fs(T,i)):D<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,s=Ut,s=Tn(e,e===i?s:0),l=e.callbackNode,s===0||e===i&&Zt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||hr(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&hs(l),Ru(s)){case 2:case 8:s=Ne;break;case 32:s=bi;break;case 268435456:s=Do;break;default:s=bi}return l=b_.bind(null,e),s=fa(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&hs(l),e.callbackPriority=2,e.callbackNode=null,2}function b_(e,i){var s=e.callbackNode;if(Ks()&&e.callbackNode!==s)return null;var l=Ut;return l=Tn(e,e===Wt?l:0),l===0?null:(u_(e,l,i),T_(e,on()),e.callbackNode!=null&&e.callbackNode===s?b_.bind(null,e):null)}function A_(e,i){if(Ks())return null;u_(e,i,!0)}function CA(e){UA(function(){(ae&6)!==0?fa(be,e):e()})}function xd(){return Ha===0&&(Ha=Oo()),Ha}function S_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function w_(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function DA(e,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=S_((h[Ae]||null).action),v=l.submitter;v&&(i=(i=v[Ae]||null)?S_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new vs("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ha!==0){var D=v?w_(h,v):new FormData(h);zf(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=v?w_(h,v):new FormData(h),zf(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Od=0;Od<yg.length;Od++){var Md=yg[Od],NA=Md.toLowerCase(),xA=Md[0].toUpperCase()+Md.slice(1);qn(NA,"on"+xA)}qn(fg,"onAnimationEnd"),qn(dg,"onAnimationIteration"),qn(mg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Qb,"onTransitionRun"),qn(Yb,"onTransitionStart"),qn(Xb,"onTransitionCancel"),qn(pg,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function R_(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,j=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(Z){hc(Z)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,j=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(Z){hc(Z)}h.currentTarget=null,d=D}}}}function Vt(e,i){var s=i[ma];s===void 0&&(s=i[ma]=new Set);var l=e+"__bubble";s.has(l)||(I_(i,e,2,!1),s.add(l))}function Vd(e,i,s){var l=0;i&&(l|=4),I_(s,e,l,i)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function kd(e){if(!e[Rc]){e[Rc]=!0,Vo.forEach(function(s){s!=="selectionchange"&&(OA.has(s)||Vd(s,!1,e),Vd(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Rc]||(i[Rc]=!0,Vd("selectionchange",!1,i))}}function I_(e,i,s,l){switch(X_(i)){case 2:var h=rS;break;case 8:h=aS;break;default:h=Qd}s=h.bind(null,i,s,e),h=void 0,!wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,s,{capture:!0,passive:h}):e.addEventListener(i,s,!0):h!==void 0?e.addEventListener(i,s,{passive:h}):e.addEventListener(i,s,!1)}function Pd(e,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Bn(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue t}T=T.parentNode}}l=l.return}xu(function(){var j=d,Z=_s(s),it=[];t:{var K=gg.get(e);if(K!==void 0){var X=vs,mt=e;switch(e){case"keypress":if(ii(s)===0)break t;case"keydown":case"keyup":X=ws;break;case"focusin":mt="focus",X=bs;break;case"focusout":mt="blur",X=bs;break;case"beforeblur":case"afterblur":X=bs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ju;break;case fg:case dg:case mg:X=As;break;case pg:X=Bu;break;case"scroll":case"scrollend":X=Ou;break;case"wheel":X=Rs;break;case"copy":case"cut":case"paste":X=Ss;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=$o;break;case"toggle":case"beforetoggle":X=Hu}var At=(i&4)!==0,he=!At&&(e==="scroll"||e==="scrollend"),B=At?K!==null?K+"Capture":null:K;At=[];for(var U=j,G;U!==null;){var tt=U;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||B===null||(tt=va(U,B),tt!=null&&At.push(Al(U,tt,G))),he)break;U=U.return}0<At.length&&(K=new X(K,mt,null,s,Z),it.push({event:K,listeners:At}))}}if((i&7)===0){t:{if(K=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",K&&s!==Sn&&(mt=s.relatedTarget||s.fromElement)&&(Bn(mt)||mt[Ai]))break t;if((X||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,X?(mt=s.relatedTarget||s.toElement,X=j,mt=mt?Bn(mt):null,mt!==null&&(he=dt(mt),At=mt.tag,mt!==he||At!==5&&At!==27&&At!==6)&&(mt=null)):(X=null,mt=j),X!==mt)){if(At=Rn,tt="onMouseLeave",B="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(At=$o,tt="onPointerLeave",B="onPointerEnter",U="pointer"),he=X==null?K:yr(X),G=mt==null?K:yr(mt),K=new At(tt,U+"leave",X,s,Z),K.target=he,K.relatedTarget=G,tt=null,Bn(Z)===j&&(At=new At(B,U+"enter",mt,s,Z),At.target=G,At.relatedTarget=he,tt=At),he=tt,X&&mt)e:{for(At=X,B=mt,U=0,G=At;G;G=Ys(G))U++;for(G=0,tt=B;tt;tt=Ys(tt))G++;for(;0<U-G;)At=Ys(At),U--;for(;0<G-U;)B=Ys(B),G--;for(;U--;){if(At===B||B!==null&&At===B.alternate)break e;At=Ys(At),B=Ys(B)}At=null}else At=null;X!==null&&C_(it,K,X,At,!1),mt!==null&&he!==null&&C_(it,he,mt,At,!0)}}t:{if(K=j?yr(j):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var ft=eg;else if(we(K))if(ng)ft=Fb;else{ft=qb;var Dt=Bb}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?j&&jo(j.elementType)&&(ft=eg):ft=Hb;if(ft&&(ft=ft(e,j))){xi(it,ft,s,Z);break t}Dt&&Dt(e,K,j),e==="focusout"&&j&&K.type==="number"&&j.memoizedProps.value!=null&&ys(K,"number",K.value)}switch(Dt=j?yr(j):window,e){case"focusin":(we(Dt)||Dt.contentEditable==="true")&&(Is=Dt,df=j,Yo=null);break;case"focusout":Yo=df=Is=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,cg(it,s,Z);break;case"selectionchange":if(Kb)break;case"keydown":case"keyup":cg(it,s,Z)}var gt;if(si)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Pt?Y(e,s)&&(vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(vt="onCompositionStart");vt&&(_&&s.locale!=="ko"&&(Pt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Pt&&(gt=Bo()):(ni=Z,Ar="value"in ni?ni.value:ni.textContent,Pt=!0)),Dt=Ic(j,vt),0<Dt.length&&(vt=new Fo(vt,e,null,s,Z),it.push({event:vt,listeners:Dt}),gt?vt.data=gt:(gt=at(s),gt!==null&&(vt.data=gt)))),(gt=y?Se(e,s):Lt(e,s))&&(vt=Ic(j,"onBeforeInput"),0<vt.length&&(Dt=new Fo("onBeforeInput","beforeinput",null,s,Z),it.push({event:Dt,listeners:vt}),Dt.data=gt)),DA(it,e,j,s,Z)}R_(it,i)})}function Al(e,i,s){return{instance:e,listener:i,currentTarget:s}}function Ic(e,i){for(var s=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=va(e,s),h!=null&&l.unshift(Al(e,h,d)),h=va(e,i),h!=null&&l.push(Al(e,h,d))),e=e.return}return l}function Ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function C_(e,i,s,l,h){for(var d=i._reactName,v=[];s!==null&&s!==l;){var T=s,D=T.alternate,j=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||j===null||(D=j,h?(j=va(s,d),j!=null&&v.unshift(Al(s,j,D))):h||(j=va(s,d),j!=null&&v.push(Al(s,j,D)))),s=s.return}v.length!==0&&e.push({event:i,listeners:v})}var MA=/\r\n?/g,VA=/\u0000|\uFFFD/g;function D_(e){return(typeof e=="string"?e:""+e).replace(MA,`
`).replace(VA,"")}function N_(e,i){return i=D_(i),D_(e)===i}function Cc(){}function Yt(e,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(e,""+l);break;case"className":Er(e,"class",l);break;case"tabIndex":Er(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(e,s,l);break;case"style":Nu(e,l,d);break;case"data":if(i!=="object"){Er(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ei(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ei(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Cc);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ei(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),vr(e,"popover",l);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=sf.get(s)||s,vr(e,s,l))}}function Ld(e,i,s,l,h,d){switch(s){case"style":Nu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?An(e,l):(typeof l=="number"||typeof l=="bigint")&&An(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ps.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=e[Ae]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):vr(e,s,l)}}}function Be(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Yt(e,i,d,v,s,null)}}h&&Yt(e,i,"srcSet",s.srcSet,s,null),l&&Yt(e,i,"src",s.src,s,null);return;case"input":Vt("invalid",e);var T=d=v=h=null,D=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":D=Z;break;case"defaultChecked":j=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Yt(e,i,l,Z,s,null)}}ya(e,d,T,D,j,v,h,!1),ga(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(e,i,h,T,s,null)}i=d,s=v,e.multiple=!!l,i!=null?Bt(e,!!l,i,!1):s!=null&&Bt(e,!!l,s,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Yt(e,i,v,T,s,null)}br(e,l,h,d),ga(e);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,D,l,s,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<bl.length;l++)Vt(bl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Yt(e,i,j,l,s,null)}return;default:if(jo(i)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&Ld(e,i,Z,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Yt(e,i,T,l,s,null))}function kA(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,D=null,j=null,Z=null;for(X in s){var it=s[X];if(s.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=it;default:l.hasOwnProperty(X)||Yt(e,i,X,null,l,it)}}for(var K in l){var X=l[K];if(it=s[K],l.hasOwnProperty(K)&&(X!=null||it!=null))switch(K){case"type":d=X;break;case"name":h=X;break;case"checked":j=X;break;case"defaultChecked":Z=X;break;case"value":v=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==it&&Yt(e,i,K,X,l,it)}}Tr(e,v,T,D,j,Z,d,h);return;case"select":X=v=T=K=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==D&&Yt(e,i,h,d,l,D)}i=T,s=v,l=X,K!=null?Bt(e,!!s,K,!1):!!l!=!!s&&(i!=null?Bt(e,!!s,i,!0):Bt(e,!!s,s?[]:"",!1));return;case"textarea":X=K=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}_a(e,K,X);return;case"option":for(var mt in s)if(K=s[mt],s.hasOwnProperty(mt)&&K!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:Yt(e,i,mt,null,l,K)}for(D in l)if(K=l[D],X=s[D],l.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null))switch(D){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Yt(e,i,D,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)K=s[At],s.hasOwnProperty(At)&&K!=null&&!l.hasOwnProperty(At)&&Yt(e,i,At,null,l,K);for(j in l)if(K=l[j],X=s[j],l.hasOwnProperty(j)&&K!==X&&(K!=null||X!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:Yt(e,i,j,K,l,X)}return;default:if(jo(i)){for(var he in s)K=s[he],s.hasOwnProperty(he)&&K!==void 0&&!l.hasOwnProperty(he)&&Ld(e,i,he,void 0,l,K);for(Z in l)K=l[Z],X=s[Z],!l.hasOwnProperty(Z)||K===X||K===void 0&&X===void 0||Ld(e,i,Z,K,l,X);return}}for(var B in s)K=s[B],s.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&Yt(e,i,B,null,l,K);for(it in l)K=l[it],X=s[it],!l.hasOwnProperty(it)||K===X||K==null&&X==null||Yt(e,i,it,K,l,X)}var Ud=null,jd=null;function Dc(e){return e.nodeType===9?e:e.ownerDocument}function x_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function zd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bd=null;function PA(){var e=window.event;return e&&e.type==="popstate"?e===Bd?!1:(Bd=e,!0):(Bd=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(e){return V_.resolve(null).then(e).catch(jA)}:M_;function jA(e){setTimeout(function(){throw e})}function qd(e,i){var s=i,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){e.removeChild(h),xl(i);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);xl(i)}function Hd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Hd(s),pa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function zA(e,i,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[gr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function BA(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Gn(e.nextSibling),e===null))return null;return e}function Gn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function k_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function P_(e,i,s){switch(i=Dc(s),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var Pn=new Map,L_=new Set;function Nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var $i=ct.d;ct.d={f:qA,r:HA,D:FA,C:GA,L:$A,m:KA,X:YA,S:QA,M:XA};function qA(){var e=$i.f(),i=bc();return e||i}function HA(e){var i=Si(e);i!==null&&i.tag===5&&i.type==="form"?cy(i):$i.r(e)}var Xs=typeof document>"u"?null:document;function U_(e,i,s){var l=Xs;if(l&&typeof i=="string"&&i){var h=le(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),L_.has(h)||(L_.add(h),e={rel:e,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),ie(i),l.head.appendChild(i)))}}function FA(e){$i.D(e),U_("dns-prefetch",e,null)}function GA(e,i){$i.C(e,i),U_("preconnect",e,i)}function $A(e,i,s){$i.L(e,i,s);var l=Xs;if(l&&e&&i){var h='link[rel="preload"][as="'+le(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+le(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+le(s.imageSizes)+'"]')):h+='[href="'+le(e)+'"]';var d=h;switch(i){case"style":d=Ws(e);break;case"script":d=Zs(e)}Pn.has(d)||(e=N({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Pn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),Be(i,"link",e),ie(i),l.head.appendChild(i)))}}function KA(e,i){$i.m(e,i);var s=Xs;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+le(l)+'"][href="'+le(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Zs(e)}if(!Pn.has(d)&&(e=N({rel:"modulepreload",href:e},i),Pn.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(wl(d)))return}l=s.createElement("link"),Be(l,"link",e),ie(l),s.head.appendChild(l)}}}function QA(e,i,s){$i.S(e,i,s);var l=Xs;if(l&&e){var h=_r(l).hoistableStyles,d=Ws(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Sl(d)))T.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Pn.get(d))&&Fd(e,s);var D=v=l.createElement("link");ie(D),Be(D,"link",e),D._p=new Promise(function(j,Z){D.onload=j,D.onerror=Z}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function YA(e,i){$i.X(e,i);var s=Xs;if(s&&e){var l=_r(s).hoistableScripts,h=Zs(e),d=l.get(h);d||(d=s.querySelector(wl(h)),d||(e=N({src:e,async:!0},i),(i=Pn.get(h))&&Gd(e,i),d=s.createElement("script"),ie(d),Be(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function XA(e,i){$i.M(e,i);var s=Xs;if(s&&e){var l=_r(s).hoistableScripts,h=Zs(e),d=l.get(h);d||(d=s.querySelector(wl(h)),d||(e=N({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&Gd(e,i),d=s.createElement("script"),ie(d),Be(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function j_(e,i,s,l){var h=(h=En.current)?Nc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ws(s.href),s=_r(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ws(s.href);var d=_r(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Sl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(e,s),d||WA(h,e,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Zs(s),s=_r(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ws(e){return'href="'+le(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function z_(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function WA(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",s),ie(i),e.head.appendChild(i))}function Zs(e){return'[src="'+le(e)+'"]'}function wl(e){return"script[async]"+e}function B_(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+le(s.href)+'"]');if(l)return i.instance=l,ie(l),l;var h=N({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ie(l),Be(l,"style",h),xc(l,s.precedence,e),i.instance=l;case"stylesheet":h=Ws(s.href);var d=e.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,ie(d),d;l=z_(s),(h=Pn.get(h))&&Fd(l,h),d=(e.ownerDocument||e).createElement("link"),ie(d);var v=d;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Be(d,"link",l),i.state.loading|=4,xc(d,s.precedence,e),i.instance=d;case"script":return d=Zs(s.src),(h=e.querySelector(wl(d)))?(i.instance=h,ie(h),h):(l=s,(h=Pn.get(d))&&(l=N({},s),Gd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ie(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xc(l,s.precedence,e));return i.instance}function xc(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function Fd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Gd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Oc=null;function q_(e,i,s){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(s,l)}else h=Oc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[gr]||d[xe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function H_(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function ZA(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Rl=null;function JA(){}function tS(e,i,s){if(Rl===null)throw Error(a(475));var l=Rl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ws(s.href),d=e.querySelector(Sl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Mc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ie(d);return}d=e.ownerDocument||e,s=z_(s),(h=Pn.get(h))&&Fd(s,h),d=d.createElement("link"),ie(d);var v=d;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Be(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Mc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function eS(){if(Rl===null)throw Error(a(475));var e=Rl;return e.stylesheets&&e.count===0&&$d(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&$d(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vc=null;function $d(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vc=new Map,i.forEach(nS,e),Vc=null,Mc.call(e))}function nS(e,i){if(!(i.state.loading&4)){var s=Vc.get(e);if(s)var l=s.get(null);else{s=new Map,Vc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Il={$$typeof:I,Provider:null,Consumer:null,_currentValue:It,_currentValue2:It,_threadCount:0};function iS(e,i,s,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function G_(e,i,s,l,h,d,v,T,D,j,Z,it){return e=new iS(e,i,s,v,T,D,j,it),i=1,d===!0&&(i|=24),d=Vn(3,null,null,i),e.current=d,d.stateNode=e,i=Sf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},rd(d),e}function $_(e){return e?(e=Ns,e):Ns}function K_(e,i,s,l,h,d){h=$_(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Or(e,l,i),s!==null&&(an(s,e,i),cl(s,e,i))}function Q_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function Kd(e,i){Q_(e,i),(e=e.alternate)&&Q_(e,i)}function Y_(e){if(e.tag===13){var i=Sr(e,67108864);i!==null&&an(i,e,67108864),Kd(e,67108864)}}var kc=!0;function rS(e,i,s,l){var h=S.T;S.T=null;var d=ct.p;try{ct.p=2,Qd(e,i,s,l)}finally{ct.p=d,S.T=h}}function aS(e,i,s,l){var h=S.T;S.T=null;var d=ct.p;try{ct.p=8,Qd(e,i,s,l)}finally{ct.p=d,S.T=h}}function Qd(e,i,s,l){if(kc){var h=Yd(l);if(h===null)Pd(e,i,l,Pc,s),W_(e,l);else if(oS(h,e,i,s,l))l.stopPropagation();else if(W_(e,l),i&4&&-1<sS.indexOf(e)){for(;h!==null;){var d=Si(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-tn(v);T.entanglements[1]|=D,v&=~D}fi(d),(ae&6)===0&&(vc=on()+500,Tl(0))}}break;case 13:T=Sr(d,2),T!==null&&an(T,d,2),bc(),Kd(d,2)}if(d=Yd(l),d===null&&Pd(e,i,l,Pc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(e,i,l,null,s)}}function Yd(e){return e=_s(e),Xd(e)}var Pc=null;function Xd(e){if(Pc=null,e=Bn(e),e!==null){var i=dt(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=Ft(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Pc=e,null}function X_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tu()){case be:return 2;case Ne:return 8;case bi:case bu:return 32;case Do:return 268435456;default:return 32}default:return 32}}var Wd=!1,jr=null,zr=null,Br=null,Cl=new Map,Dl=new Map,qr=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(e,i){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Nl(e,i,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Si(i),i!==null&&Y_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function oS(e,i,s,l,h){switch(i){case"focusin":return jr=Nl(jr,e,i,s,l,h),!0;case"dragenter":return zr=Nl(zr,e,i,s,l,h),!0;case"mouseover":return Br=Nl(Br,e,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Nl(Cl.get(d)||null,e,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Nl(Dl.get(d)||null,e,i,s,l,h)),!0}return!1}function Z_(e){var i=Bn(e.target);if(i!==null){var s=dt(i);if(s!==null){if(i=s.tag,i===13){if(i=Ft(s),i!==null){e.blockedOn=i,pr(e.priority,function(){if(s.tag===13){var l=_n(),h=Sr(s,l);h!==null&&an(h,s,l),Kd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Sn=l,s.target.dispatchEvent(l),Sn=null}else return i=Si(s),i!==null&&Y_(i),e.blockedOn=s,!1;i.shift()}return!0}function J_(e,i,s){Lc(e)&&s.delete(i)}function lS(){Wd=!1,jr!==null&&Lc(jr)&&(jr=null),zr!==null&&Lc(zr)&&(zr=null),Br!==null&&Lc(Br)&&(Br=null),Cl.forEach(J_),Dl.forEach(J_)}function Uc(e,i){e.blockedOn===i&&(e.blockedOn=null,Wd||(Wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lS)))}var jc=null;function tv(e){jc!==e&&(jc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Xd(l||s)===null)continue;break}var d=Si(s);d!==null&&(e.splice(i,3),i-=3,zf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function xl(e){function i(D){return Uc(D,e)}jr!==null&&Uc(jr,e),zr!==null&&Uc(zr,e),Br!==null&&Uc(Br,e),Cl.forEach(i),Dl.forEach(i);for(var s=0;s<qr.length;s++){var l=qr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qr.length&&(s=qr[0],s.blockedOn===null);)Z_(s),s.blockedOn===null&&qr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[Ae]||null;if(typeof d=="function")v||tv(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ae]||null)T=v.formAction;else if(Xd(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),tv(s)}}}function Zd(e){this._internalRoot=e}zc.prototype.render=Zd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=_n();K_(s,l,e,i,null,null)},zc.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Ks(),K_(e.current,2,null,e,null,null),bc(),i[Ai]=null}};function zc(e){this._internalRoot=e}zc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Iu();e={blockedOn:null,target:e,priority:i};for(var s=0;s<qr.length&&i!==0&&i<qr[s].priority;s++);qr.splice(s,0,e),s===0&&Z_(e)}};var ev=t.version;if(ev!=="19.0.0")throw Error(a(527,ev,"19.0.0"));ct.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=rt(i),e=e!==null?pt(e):null,e=e===null?null:e.stateNode,e};var uS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Bn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{ur=Bc.inject(uS),Ge=Bc}catch{}}return Ml.createRoot=function(e,i){if(!o(e))throw Error(a(299));var s=!1,l="",h=_y,d=vy,v=Ey,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=G_(e,1,!1,null,null,s,l,h,d,v,T,null),e[Ai]=i.current,kd(e.nodeType===8?e.parentNode:e),new Zd(i)},Ml.hydrateRoot=function(e,i,s){if(!o(e))throw Error(a(299));var l=!1,h="",d=_y,v=vy,T=Ey,D=null,j=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(j=s.formState)),i=G_(e,1,!0,i,s??null,l,h,d,v,T,D,j),i.context=$_(null),s=i.current,l=_n(),h=xr(l),h.callback=null,Or(s,h,l),i.current.lanes=l,de(i,l),fi(i),e[Ai]=i.current,kd(e),new zc(i)},Ml.version="19.0.0",Ml}var hv;function ES(){if(hv)return em.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),em.exports=vS(),em.exports}var TS=ES(),Vl={},fv;function bS(){if(fv)return Vl;fv=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.parse=f,Vl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,I){const M=new u,H=w.length;if(H<2)return M;const P=(I==null?void 0:I.decode)||E;let $=0;do{const Q=w.indexOf("=",$);if(Q===-1)break;const L=w.indexOf(";",$),W=L===-1?H:L;if(Q>W){$=w.lastIndexOf(";",Q-1)+1;continue}const nt=m(w,$,Q),st=p(w,Q,nt),O=w.slice(nt,st);if(M[O]===void 0){let R=m(w,Q+1,W),S=p(w,W,R);const N=P(w.slice(R,S));M[O]=N}$=W+1}while($<H);return M}function m(w,I,M){do{const H=w.charCodeAt(I);if(H!==32&&H!==9)return I}while(++I<M);return M}function p(w,I,M){for(;I>M;){const H=w.charCodeAt(--I);if(H!==32&&H!==9)return I+1}return M}function g(w,I,M){const H=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const P=H(I);if(!t.test(P))throw new TypeError(`argument val is invalid: ${I}`);let $=w+"="+P;if(!M)return $;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);$+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);$+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);$+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);$+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&($+="; HttpOnly"),M.secure&&($+="; Secure"),M.partitioned&&($+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return $}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return Vl}bS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dv="popstate";function AS(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=ns(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),_m("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Kl(u))}function a(o,u){jn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return wS(t,n,a,r)}function ee(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function jn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SS(){return Math.random().toString(36).substring(2,10)}function mv(r,t){return{usr:r.state,key:r.key,idx:t}}function _m(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ns(t):t,state:n,key:t&&t.key||a||SS()}}function Kl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ns(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function wS(r,t,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let P=E(),$=P==null?null:P-g;g=P,p&&p({action:m,location:H.location,delta:$})}function w(P,$){m="PUSH";let Q=_m(H.location,P,$);n&&n(Q,P),g=E()+1;let L=mv(Q,g),W=H.createHref(Q);try{f.pushState(L,"",W)}catch(nt){if(nt instanceof DOMException&&nt.name==="DataCloneError")throw nt;o.location.assign(W)}u&&p&&p({action:m,location:H.location,delta:1})}function I(P,$){m="REPLACE";let Q=_m(H.location,P,$);n&&n(Q,P),g=E();let L=mv(Q,g),W=H.createHref(Q);f.replaceState(L,"",W),u&&p&&p({action:m,location:H.location,delta:0})}function M(P){let $=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof P=="string"?P:Kl(P);return Q=Q.replace(/ $/,"%20"),ee($,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,$)}let H={get action(){return m},get location(){return r(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,A),p=P,()=>{o.removeEventListener(dv,A),p=null}},createHref(P){return t(o,P)},createURL:M,encodeLocation(P){let $=M(P);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:I,go(P){return f.go(P)}};return H}function Q0(r,t,n="/"){return RS(r,t,n,!1)}function RS(r,t,n,a){let o=typeof t=="string"?ns(t):t,u=na(o.pathname||"/",n);if(u==null)return null;let f=Y0(r);IS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=US(u);m=PS(f[p],g,a)}return m}function Y0(r,t=[],n=[],a=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Wi([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ee(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Y0(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:VS(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of X0(u.path))o(u,f,p)}),t}function X0(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=X0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function IS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:kS(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var CS=/^:[\w-]+$/,DS=3,NS=2,xS=1,OS=10,MS=-2,pv=r=>r==="*";function VS(r,t){let n=r.split("/"),a=n.length;return n.some(pv)&&(a+=MS),t&&(a+=NS),n.filter(o=>!pv(o)).reduce((o,u)=>o+(CS.test(u)?DS:u===""?xS:OS),a)}function kS(r,t){return r.length===t.length&&r.slice(0,-1).every((a,o)=>a===t[o])?r[r.length-1]-t[t.length-1]:0}function PS(r,t,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!A&&g&&n&&!a[a.length-1].route.index&&(A=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Wi([u,A.pathname]),pathnameBase:qS(Wi([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=Wi([u,A.pathnameBase]))}return f}function lh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=LS(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:A},w)=>{if(E==="*"){let M=m[w]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const I=m[w];return A&&!I?g[E]=void 0:g[E]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function LS(r,t=!1,n=!0){jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function US(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function na(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function jS(r,t="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?ns(r):r;return{pathname:n?n.startsWith("/")?n:zS(n,t):t,search:HS(a),hash:FS(o)}}function zS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ym(r){let t=BS(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Xm(r,t,n,a=!1){let o;typeof r=="string"?o=ns(r):(o={...r},ee(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!a&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?t[A]:"/"}let p=jS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Wi=r=>r.join("/").replace(/\/\/+/g,"/"),qS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),HS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,FS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function GS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var W0=["POST","PUT","PATCH","DELETE"];new Set(W0);var $S=["GET",...W0];new Set($S);var vo=q.createContext(null);vo.displayName="DataRouter";var Ch=q.createContext(null);Ch.displayName="DataRouterState";var Z0=q.createContext({isTransitioning:!1});Z0.displayName="ViewTransition";var KS=q.createContext(new Map);KS.displayName="Fetchers";var QS=q.createContext(null);QS.displayName="Await";var Yn=q.createContext(null);Yn.displayName="Navigation";var au=q.createContext(null);au.displayName="Location";var Xn=q.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Wm=q.createContext(null);Wm.displayName="RouteError";function YS(r,{relative:t}={}){ee(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=q.useContext(Yn),{hash:o,pathname:u,search:f}=su(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Wi([n,u])),a.createHref({pathname:m,search:f,hash:o})}function Eo(){return q.useContext(au)!=null}function ua(){return ee(Eo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(au).location}var J0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tE(r){q.useContext(Yn).static||q.useLayoutEffect(r)}function Dh(){let{isDataRoute:r}=q.useContext(Xn);return r?lw():XS()}function XS(){ee(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(vo),{basename:t,navigator:n}=q.useContext(Yn),{matches:a}=q.useContext(Xn),{pathname:o}=ua(),u=JSON.stringify(Ym(a)),f=q.useRef(!1);return tE(()=>{f.current=!0}),q.useCallback((p,g={})=>{if(jn(f.current,J0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Xm(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Wi([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}q.createContext(null);function eE(){let{matches:r}=q.useContext(Xn),t=r[r.length-1];return t?t.params:{}}function su(r,{relative:t}={}){let{matches:n}=q.useContext(Xn),{pathname:a}=ua(),o=JSON.stringify(Ym(n));return q.useMemo(()=>Xm(r,JSON.parse(o),a,t==="path"),[r,o,a,t])}function WS(r,t){return nE(r,t)}function nE(r,t,n,a){var Q;ee(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(Yn),{matches:f}=q.useContext(Xn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let L=A&&A.path||"";iE(g,!A||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let w=ua(),I;if(t){let L=typeof t=="string"?ns(t):t;ee(E==="/"||((Q=L.pathname)==null?void 0:Q.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${L.pathname}" was given in the \`location\` prop.`),I=L}else I=w;let M=I.pathname||"/",H=M;if(E!=="/"){let L=E.replace(/^\//,"").split("/");H="/"+M.replace(/^\//,"").split("/").slice(L.length).join("/")}let P=!u&&n&&n.matches&&n.matches.length>0?n.matches:Q0(r,{pathname:H});jn(A||P!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),jn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=nw(P&&P.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:Wi([E,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?E:Wi([E,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),f,n,a);return t&&$?q.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},$):$}function ZS(){let r=ow(),t=GS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:o},n):null,f)}var JS=q.createElement(ZS,null),tw=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?q.createElement(Xn.Provider,{value:this.props.routeContext},q.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ew({routeContext:r,match:t,children:n}){let a=q.useContext(vo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(Xn.Provider,{value:r},n)}function nw(r,t=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,w=!1,I=null,M=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||JS,f&&(m<0&&E===0?(iE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):m===E&&(w=!0,M=g.route.hydrateFallbackElement||null)));let H=t.concat(o.slice(0,E+1)),P=()=>{let $;return A?$=I:w?$=M:g.route.Component?$=q.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,q.createElement(ew,{match:g,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?q.createElement(tw,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:P(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):P()},null)}function Zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iw(r){let t=q.useContext(vo);return ee(t,Zm(r)),t}function rw(r){let t=q.useContext(Ch);return ee(t,Zm(r)),t}function aw(r){let t=q.useContext(Xn);return ee(t,Zm(r)),t}function Jm(r){let t=aw(r),n=t.matches[t.matches.length-1];return ee(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function sw(){return Jm("useRouteId")}function ow(){var a;let r=q.useContext(Wm),t=rw("useRouteError"),n=Jm("useRouteError");return r!==void 0?r:(a=t.errors)==null?void 0:a[n]}function lw(){let{router:r}=iw("useNavigate"),t=Jm("useNavigate"),n=q.useRef(!1);return tE(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{jn(n.current,J0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var gv={};function iE(r,t,n){!t&&!gv[r]&&(gv[r]=!0,jn(!1,n))}q.memo(uw);function uw({routes:r,future:t,state:n}){return nE(r,void 0,n,t)}function cw({to:r,replace:t,state:n,relative:a}){ee(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Yn);jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Xn),{pathname:f}=ua(),m=Dh(),p=Xm(r,Ym(u),f,a==="path"),g=JSON.stringify(p);return q.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:a})},[m,g,a,t,n]),null}function Gr(r){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hw({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){ee(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ns(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:w="default"}=n,I=q.useMemo(()=>{let M=na(p,f);return M==null?null:{location:{pathname:M,search:g,hash:E,state:A,key:w},navigationType:a}},[f,p,g,E,A,w,a]);return jn(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:q.createElement(Yn.Provider,{value:m},q.createElement(au.Provider,{children:t,value:I}))}function fw({children:r,location:t}){return WS(vm(r),t)}function vm(r,t=[]){let n=[];return q.Children.forEach(r,(a,o)=>{if(!q.isValidElement(a))return;let u=[...t,o];if(a.type===q.Fragment){n.push.apply(n,vm(a.props.children,u));return}ee(a.type===Gr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=vm(a.props.children,u)),n.push(f)}),n}var Xc="get",Wc="application/x-www-form-urlencoded";function Nh(r){return r!=null&&typeof r.tagName=="string"}function dw(r){return Nh(r)&&r.tagName.toLowerCase()==="button"}function mw(r){return Nh(r)&&r.tagName.toLowerCase()==="form"}function pw(r){return Nh(r)&&r.tagName.toLowerCase()==="input"}function gw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yw(r,t){return r.button===0&&(!t||t==="_self")&&!gw(r)}var qc=null;function _w(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var vw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(r){return r!=null&&!vw.has(r)?(jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):r}function Ew(r,t){let n,a,o,u,f;if(mw(r)){let m=r.getAttribute("action");a=m?na(m,t):null,n=r.getAttribute("method")||Xc,o=sm(r.getAttribute("enctype"))||Wc,u=new FormData(r)}else if(dw(r)||pw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?na(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=sm(r.getAttribute("formenctype"))||sm(m.getAttribute("enctype"))||Wc,u=new FormData(m,r),!_w()){let{name:g,type:E,value:A}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(Nh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,a=null,o=Wc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function tp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Tw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Aw(r,t,n){let a=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Tw(u,n);return f.links?f.links():[]}return[]}));return Iw(a.flat(1).filter(bw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yv(r,t,n,a,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var A;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Sw(r,t,{includeHydrateFallback:n}={}){return ww(r.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ww(r){return[...new Set(r)]}function Rw(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function Iw(r,t){let n=new Set;return new Set(t),r.reduce((a,o)=>{let u=JSON.stringify(Rw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function Cw(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Dw(){let r=q.useContext(vo);return tp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Nw(){let r=q.useContext(Ch);return tp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ep=q.createContext(void 0);ep.displayName="FrameworkContext";function rE(){let r=q.useContext(ep);return tp(r,"You must render this element inside a <HydratedRouter> element"),r}function xw(r,t){let n=q.useContext(ep),[a,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=t,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let H=$=>{$.forEach(Q=>{f(Q.isIntersecting)})},P=new IntersectionObserver(H,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[r]),q.useEffect(()=>{if(a){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[a]);let I=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:kl(m,I),onBlur:kl(p,M),onMouseEnter:kl(g,I),onMouseLeave:kl(E,M),onTouchStart:kl(A,I)}]:[!1,w,{}]}function kl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Ow({page:r,...t}){let{router:n}=Dw(),a=q.useMemo(()=>Q0(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?q.createElement(Vw,{page:r,matches:a,...t}):null}function Mw(r){let{manifest:t,routeModules:n}=rE(),[a,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Aw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),a}function Vw({page:r,matches:t,...n}){let a=ua(),{manifest:o,routeModules:u}=rE(),{loaderData:f,matches:m}=Nw(),p=q.useMemo(()=>yv(r,t,m,o,a,"data"),[r,t,m,o,a]),g=q.useMemo(()=>yv(r,t,m,o,a,"assets"),[r,t,m,o,a]),E=q.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let I=new Set,M=!1;if(t.forEach(P=>{var Q;let $=o.routes[P.route.id];!$||!$.hasLoader||(!p.some(L=>L.route.id===P.route.id)&&P.route.id in f&&((Q=u[P.route.id])!=null&&Q.shouldRevalidate)||$.hasClientLoader?M=!0:I.add(P.route.id))}),I.size===0)return[];let H=Cw(r);return M&&I.size>0&&H.searchParams.set("_routes",t.filter(P=>I.has(P.route.id)).map(P=>P.route.id).join(",")),[H.pathname+H.search]},[f,a,o,p,t,r,u]),A=q.useMemo(()=>Sw(g,o),[g,o]),w=Mw(g);return q.createElement(q.Fragment,null,E.map(I=>q.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>q.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),w.map(({key:I,link:M})=>q.createElement("link",{key:I,...M})))}function kw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aE&&(window.__reactRouterVersion="7.2.0")}catch{}function Pw({basename:r,children:t,window:n}){let a=q.useRef();a.current==null&&(a.current=AS({window:n,v5Compat:!0}));let o=a.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>f(p))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(hw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var sE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=q.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...w},I){let{basename:M}=q.useContext(Yn),H=typeof g=="string"&&sE.test(g),P,$=!1;if(typeof g=="string"&&H&&(P=g,aE))try{let S=new URL(window.location.href),N=g.startsWith("//")?new URL(S.protocol+g):new URL(g),V=na(N.pathname,M);N.origin===S.origin&&V!=null?g=V+N.search+N.hash:$=!0}catch{jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=YS(g,{relative:o}),[L,W,nt]=xw(a,w),st=zw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function O(S){t&&t(S),S.defaultPrevented||st(S)}let R=q.createElement("a",{...w,...nt,href:P||Q,onClick:$||u?t:O,ref:kw(I,W),target:p,"data-discover":!H&&n==="render"?"true":void 0});return L&&!H?q.createElement(q.Fragment,null,R,q.createElement(Ow,{page:Q})):R});hn.displayName="Link";var Lw=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=su(f,{relative:g.relative}),w=ua(),I=q.useContext(Ch),{navigator:M,basename:H}=q.useContext(Yn),P=I!=null&&Gw(A)&&m===!0,$=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,Q=w.pathname,L=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),L=L?L.toLowerCase():null,$=$.toLowerCase()),L&&H&&(L=na(L,H)||L);const W=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let nt=Q===$||!o&&Q.startsWith($)&&Q.charAt(W)==="/",st=L!=null&&(L===$||!o&&L.startsWith($)&&L.charAt($.length)==="/"),O={isActive:nt,isPending:st,isTransitioning:P},R=nt?t:void 0,S;typeof a=="function"?S=a(O):S=[a,nt?"active":null,st?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(O):u;return q.createElement(hn,{...g,"aria-current":R,className:S,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(O):p)});Lw.displayName="NavLink";var Uw=q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Xc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...w},I)=>{let M=Hw(),H=Fw(m,{relative:g}),P=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&sE.test(m),Q=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let W=L.nativeEvent.submitter,nt=(W==null?void 0:W.getAttribute("formmethod"))||f;M(W||L.currentTarget,{fetcherKey:t,method:nt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return q.createElement("form",{ref:I,method:P,action:H,onSubmit:a?p:Q,...w,"data-discover":!$&&r==="render"?"true":void 0})});Uw.displayName="Form";function jw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(r){let t=q.useContext(vo);return ee(t,jw(r)),t}function zw(r,{target:t,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Dh(),p=ua(),g=su(r,{relative:u});return q.useCallback(E=>{if(yw(E,t)){E.preventDefault();let A=n!==void 0?n:Kl(p)===Kl(g);m(r,{replace:A,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,a,t,r,o,u,f])}var Bw=0,qw=()=>`__${String(++Bw)}__`;function Hw(){let{router:r}=oE("useSubmit"),{basename:t}=q.useContext(Yn),n=sw();return q.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Ew(a,t);if(o.navigate===!1){let E=o.fetcherKey||qw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function Fw(r,{relative:t}={}){let{basename:n}=q.useContext(Yn),a=q.useContext(Xn);ee(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...su(r||".",{relative:t})},f=ua();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wi([n,u.pathname])),Kl(u)}function Gw(r,t={}){let n=q.useContext(Z0);ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=oE("useViewTransitionState"),o=su(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=na(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=na(n.nextLocation.pathname,a)||n.nextLocation.pathname;return lh(o.pathname,f)!=null||lh(o.pathname,u)!=null}new TextEncoder;function lE(r){var t,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(n=lE(r[t]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function Ka(){for(var r,t,n=0,a="",o=arguments.length;n<o;n++)(r=arguments[n])&&(t=lE(r))&&(a&&(a+=" "),a+=t);return a}function $w(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}$w(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ou=r=>typeof r=="number"&&!isNaN(r),Qa=r=>typeof r=="string",tr=r=>typeof r=="function",Kw=r=>Qa(r)||ou(r),Em=r=>Qa(r)||tr(r)?r:null,Qw=(r,t)=>r===!1||ou(r)&&r>0?r:t,Tm=r=>q.isValidElement(r)||Qa(r)||tr(r)||ou(r);function Yw(r,t,n=300){let{scrollHeight:a,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=a+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function Xw({enter:r,exit:t,appendPosition:n=!1,collapse:a=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:A}){let w=n?`${r}--${f}`:r,I=n?`${t}--${f}`:t,M=q.useRef(0);return q.useLayoutEffect(()=>{let H=g.current,P=w.split(" "),$=Q=>{Q.target===g.current&&(A(),H.removeEventListener("animationend",$),H.removeEventListener("animationcancel",$),M.current===0&&Q.type!=="animationcancel"&&H.classList.remove(...P))};H.classList.add(...P),H.addEventListener("animationend",$),H.addEventListener("animationcancel",$)},[]),q.useEffect(()=>{let H=g.current,P=()=>{H.removeEventListener("animationend",P),a?Yw(H,p,o):p()};E||(m?P():(M.current=1,H.className+=` ${I}`,H.addEventListener("animationend",P)))},[E]),te.createElement(te.Fragment,null,u)}}function _v(r,t){return{content:uE(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function uE(r,t,n=!1){return q.isValidElement(r)&&!Qa(r.type)?q.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):tr(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):r}function Ww({closeToast:r,theme:t,ariaLabel:n="close"}){return te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),r(!0)},"aria-label":n},te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Zw({delay:r,isRunning:t,closeToast:n,type:a="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:E}){let A=o||f&&m===0,w={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};f&&(w.transform=`scaleX(${m})`);let I=Ka("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":p}),M=tr(u)?u({rtl:p,type:a,defaultClassName:I}):Ka(I,u),H={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${a}`}),te.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:M,style:w,...H}))}var Jw=1,cE=()=>`${Jw++}`;function tR(r,t,n){let a=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,E=Q=>(g.add(Q),()=>g.delete(Q)),A=()=>{f=Array.from(p.values()),g.forEach(Q=>Q())},w=({containerId:Q,toastId:L,updateId:W})=>{let nt=Q?Q!==r:r!==1,st=p.has(L)&&W==null;return nt||st},I=(Q,L)=>{p.forEach(W=>{var nt;(L==null||L===W.props.toastId)&&((nt=W.toggle)==null||nt.call(W,Q))})},M=Q=>{var L,W;(W=(L=Q.props)==null?void 0:L.onClose)==null||W.call(L,Q.removalReason),Q.isActive=!1},H=Q=>{if(Q==null)p.forEach(M);else{let L=p.get(Q);L&&M(L)}A()},P=()=>{o-=u.length,u=[]},$=Q=>{var L,W;let{toastId:nt,updateId:st}=Q.props,O=st==null;Q.staleId&&p.delete(Q.staleId),Q.isActive=!0,p.set(nt,Q),A(),n(_v(Q,O?"added":"updated")),O&&((W=(L=Q.props).onOpen)==null||W.call(L))};return{id:r,props:m,observe:E,toggle:I,removeToast:H,toasts:p,clearQueue:P,buildToast:(Q,L)=>{if(w(L))return;let{toastId:W,updateId:nt,data:st,staleId:O,delay:R}=L,S=nt==null;S&&o++;let N={...m,style:m.toastStyle,key:a++,...Object.fromEntries(Object.entries(L).filter(([z,x])=>x!=null)),toastId:W,updateId:nt,data:st,isIn:!1,className:Em(L.className||m.toastClassName),progressClassName:Em(L.progressClassName||m.progressClassName),autoClose:L.isLoading?!1:Qw(L.autoClose,m.autoClose),closeToast(z){p.get(W).removalReason=z,H(W)},deleteToast(){let z=p.get(W);if(z!=null){if(n(_v(z,"removed")),p.delete(W),o--,o<0&&(o=0),u.length>0){$(u.shift());return}A()}}};N.closeButton=m.closeButton,L.closeButton===!1||Tm(L.closeButton)?N.closeButton=L.closeButton:L.closeButton===!0&&(N.closeButton=Tm(m.closeButton)?m.closeButton:!0);let V={content:Q,props:N,staleId:O};m.limit&&m.limit>0&&o>m.limit&&S?u.push(V):ou(R)?setTimeout(()=>{$(V)},R):$(V)},setProps(Q){m=Q},setToggle:(Q,L)=>{let W=p.get(Q);W&&(W.toggle=L)},isToastActive:Q=>{var L;return(L=p.get(Q))==null?void 0:L.isActive},getSnapshot:()=>f}}var sn=new Map,Ql=[],bm=new Set,eR=r=>bm.forEach(t=>t(r)),hE=()=>sn.size>0;function nR(){Ql.forEach(r=>dE(r.content,r.options)),Ql=[]}var iR=(r,{containerId:t})=>{var n;return(n=sn.get(t||1))==null?void 0:n.toasts.get(r)};function fE(r,t){var n;if(t)return!!((n=sn.get(t))!=null&&n.isToastActive(r));let a=!1;return sn.forEach(o=>{o.isToastActive(r)&&(a=!0)}),a}function rR(r){if(!hE()){Ql=Ql.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||Kw(r))sn.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=sn.get(r.containerId);t?t.removeToast(r.id):sn.forEach(n=>{n.removeToast(r.id)})}}var aR=(r={})=>{sn.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function dE(r,t){Tm(r)&&(hE()||Ql.push({content:r,options:t}),sn.forEach(n=>{n.buildToast(r,t)}))}function sR(r){var t;(t=sn.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function mE(r,t){sn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(r,t==null?void 0:t.id)})}function oR(r){let t=r.containerId||1;return{subscribe(n){let a=tR(t,r,eR);sn.set(t,a);let o=a.observe(n);return nR(),()=>{o(),sn.delete(t)}},setProps(n){var a;(a=sn.get(t))==null||a.setProps(n)},getSnapshot(){var n;return(n=sn.get(t))==null?void 0:n.getSnapshot()}}}function lR(r){return bm.add(r),()=>{bm.delete(r)}}function uR(r){return r&&(Qa(r.toastId)||ou(r.toastId))?r.toastId:cE()}function lu(r,t){return dE(r,t),t.toastId}function xh(r,t){return{...t,type:t&&t.type||r,toastId:uR(t)}}function Oh(r){return(t,n)=>lu(t,xh(r,n))}function xt(r,t){return lu(r,xh("default",t))}xt.loading=(r,t)=>lu(r,xh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function cR(r,{pending:t,error:n,success:a},o){let u;t&&(u=Qa(t)?xt.loading(t,o):xt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,A)=>{if(E==null){xt.dismiss(u);return}let w={type:g,...f,...o,data:A},I=Qa(E)?{render:E}:E;return u?xt.update(u,{...w,...I}):xt(I.render,{...w,...I}),A},p=tr(r)?r():r;return p.then(g=>m("success",a,g)).catch(g=>m("error",n,g)),p}xt.promise=cR;xt.success=Oh("success");xt.info=Oh("info");xt.error=Oh("error");xt.warning=Oh("warning");xt.warn=xt.warning;xt.dark=(r,t)=>lu(r,xh("default",{theme:"dark",...t}));function hR(r){rR(r)}xt.dismiss=hR;xt.clearWaitingQueue=aR;xt.isActive=fE;xt.update=(r,t={})=>{let n=iR(r,t);if(n){let{props:a,content:o}=n,u={delay:100,...a,...t,toastId:t.toastId||r,updateId:cE()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,lu(f,u)}};xt.done=r=>{xt.update(r,{progress:1})};xt.onChange=lR;xt.play=r=>mE(!0,r);xt.pause=r=>mE(!1,r);function fR(r){var t;let{subscribe:n,getSnapshot:a,setProps:o}=q.useRef(oR(r)).current;o(r);let u=(t=q.useSyncExternalStore(n,a,a))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:fE,count:u==null?void 0:u.length}}function dR(r){let[t,n]=q.useState(!1),[a,o]=q.useState(!1),u=q.useRef(null),f=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:A}=r;sR({id:r.toastId,containerId:r.containerId,fn:n}),q.useEffect(()=>{if(r.pauseOnFocusLoss)return w(),()=>{I()}},[r.pauseOnFocusLoss]);function w(){document.hasFocus()||$(),window.addEventListener("focus",P),window.addEventListener("blur",$)}function I(){window.removeEventListener("focus",P),window.removeEventListener("blur",$)}function M(O){if(r.draggable===!0||r.draggable===O.pointerType){Q();let R=u.current;f.canCloseOnClick=!0,f.canDrag=!0,R.style.transition="none",r.draggableDirection==="x"?(f.start=O.clientX,f.removalDistance=R.offsetWidth*(r.draggablePercent/100)):(f.start=O.clientY,f.removalDistance=R.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function H(O){let{top:R,bottom:S,left:N,right:V}=u.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&r.pauseOnHover&&O.clientX>=N&&O.clientX<=V&&O.clientY>=R&&O.clientY<=S?$():P()}function P(){n(!0)}function $(){n(!1)}function Q(){f.didMove=!1,document.addEventListener("pointermove",W),document.addEventListener("pointerup",nt)}function L(){document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",nt)}function W(O){let R=u.current;if(f.canDrag&&R){f.didMove=!0,t&&$(),r.draggableDirection==="x"?f.delta=O.clientX-f.start:f.delta=O.clientY-f.start,f.start!==O.clientX&&(f.canCloseOnClick=!1);let S=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;R.style.transform=`translate3d(${S},0)`,R.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function nt(){L();let O=u.current;if(f.canDrag&&f.didMove&&O){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let st={onPointerDown:M,onPointerUp:H};return m&&p&&(st.onMouseEnter=$,r.stacked||(st.onMouseLeave=P)),A&&(st.onClick=O=>{E&&E(O),f.canCloseOnClick&&g(!0)}),{playToast:P,pauseToast:$,isRunning:t,preventExitTransition:a,toastRef:u,eventHandlers:st}}var mR=typeof window<"u"?q.useLayoutEffect:q.useEffect,Mh=({theme:r,type:t,isLoading:n,...a})=>te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function pR(r){return te.createElement(Mh,{...r},te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function gR(r){return te.createElement(Mh,{...r},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function yR(r){return te.createElement(Mh,{...r},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function _R(r){return te.createElement(Mh,{...r},te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function vR(){return te.createElement("div",{className:"Toastify__spinner"})}var Am={info:gR,warning:pR,success:yR,error:_R,spinner:vR},ER=r=>r in Am;function TR({theme:r,type:t,isLoading:n,icon:a}){let o=null,u={theme:r,type:t};return a===!1||(tr(a)?o=a({...u,isLoading:n}):q.isValidElement(a)?o=q.cloneElement(a,u):n?o=Am.spinner():ER(t)&&(o=Am[t](u))),o}var bR=r=>{let{isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:o,playToast:u}=dR(r),{closeButton:f,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:A,closeToast:w,transition:I,position:M,className:H,style:P,progressClassName:$,updateId:Q,role:L,progress:W,rtl:nt,toastId:st,deleteToast:O,isIn:R,isLoading:S,closeOnClick:N,theme:V,ariaLabel:z}=r,x=Ka("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":nt},{"Toastify__toast--close-on-click":N}),fe=tr(H)?H({rtl:nt,position:M,type:E,defaultClassName:x}):Ka(x,H),ne=TR(r),ot=!!W||!p,_t={closeToast:w,type:E,theme:V},dt=null;return f===!1||(tr(f)?dt=f(_t):q.isValidElement(f)?dt=q.cloneElement(f,_t):dt=Ww(_t)),te.createElement(I,{isIn:R,done:O,position:M,preventExitTransition:n,nodeRef:a,playToast:u},te.createElement("div",{id:st,tabIndex:0,onClick:g,"data-in":R,className:fe,...o,style:P,ref:a,...R&&{role:L,"aria-label":z}},ne!=null&&te.createElement("div",{className:Ka("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},ne),uE(m,r,!t),dt,!r.customProgressBar&&te.createElement(Zw,{...Q&&!ot?{key:`p-${Q}`}:{},rtl:nt,theme:V,delay:p,isRunning:t,isIn:R,closeToast:w,hide:A,type:E,className:$,controlledProgress:ot,progress:W||0})))},AR=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),SR=Xw(AR("bounce",!0)),wR={position:"top-right",transition:SR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function RR(r){let t={...wR,...r},n=r.stacked,[a,o]=q.useState(!0),u=q.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=fR(t),{className:g,style:E,rtl:A,containerId:w,hotKeys:I}=t;function M(P){let $=Ka("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":A});return tr(g)?g({position:P,rtl:A,defaultClassName:$}):Ka($,Em(g))}function H(){n&&(o(!0),xt.play())}return mR(()=>{var P;if(n){let $=u.current.querySelectorAll('[data-in="true"]'),Q=12,L=(P=t.position)==null?void 0:P.includes("top"),W=0,nt=0;Array.from($).reverse().forEach((st,O)=>{let R=st;R.classList.add("Toastify__toast--stacked"),O>0&&(R.dataset.collapsed=`${a}`),R.dataset.pos||(R.dataset.pos=L?"top":"bot");let S=W*(a?.2:1)+(a?0:Q*O);R.style.setProperty("--y",`${L?S:S*-1}px`),R.style.setProperty("--g",`${Q}`),R.style.setProperty("--s",`${1-(a?nt:0)}`),W+=R.offsetHeight,nt+=.025})}},[a,p,n]),q.useEffect(()=>{function P($){var Q;let L=u.current;I($)&&((Q=L.querySelector('[tabIndex="0"]'))==null||Q.focus(),o(!1),xt.pause()),$.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(o(!0),xt.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[I]),te.createElement("section",{ref:u,className:"Toastify",id:w,onMouseEnter:()=>{n&&(o(!1),xt.pause())},onMouseLeave:H,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((P,$)=>{let Q=$.length?{...E}:{...E,pointerEvents:"none"};return te.createElement("div",{tabIndex:-1,className:M(P),"data-stacked":n,style:Q,key:`c-${P}`},$.map(({content:L,props:W})=>te.createElement(bR,{...W,stacked:n,collapseAll:H,isIn:m(W.toastId,W.containerId),key:`t-${W.key}`},L)))}))}const uu=q.createContext();function IR({children:r}){const[t,n]=q.useState(()=>{const m=localStorage.getItem("carrito");return m?JSON.parse(m):[]});q.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(t))},[t]);const a=m=>{n(p=>p.find(E=>E.id===m.id&&E.colorSeleccionado===m.colorSeleccionado&&E.tallaSeleccionada===m.tallaSeleccionada)?(xt.success("Se actualizó la cantidad del producto"),p.map(E=>E.id===m.id&&E.colorSeleccionado===m.colorSeleccionado&&E.tallaSeleccionada===m.tallaSeleccionada?{...E,cantidad:E.cantidad+1}:E)):(xt.success("Producto agregado al carrito"),[...p,m]))},o=(m,p,g)=>{n(E=>{const A=E.filter(w=>!(w.id===m&&w.colorSeleccionado===p&&w.tallaSeleccionada===g));return xt.info("Producto eliminado del carrito"),A})},u=(m,p,g,E)=>{E<1||(n(A=>A.map(w=>w.id===m&&w.colorSeleccionado===p&&w.tallaSeleccionada===g?{...w,cantidad:E}:w)),xt.success("Cantidad actualizada"))},f=()=>t.reduce((m,p)=>m+p.cantidad,0);return C.jsx(uu.Provider,{value:{carrito:t,agregarAlCarrito:a,eliminarDelCarrito:o,actualizarCantidad:u,getTotalItems:f},children:r})}function CR(){const{getTotalItems:r}=q.useContext(uu),t=r();return C.jsxs("nav",{className:"navbar",children:[C.jsx("div",{className:"navbar-logo",children:C.jsx("h1",{children:C.jsx(hn,{to:"/",children:"Urban Style"})})}),C.jsx("div",{className:"navbar-categories",children:C.jsxs("ul",{children:[C.jsx("li",{children:C.jsx(hn,{to:"/categoria/gorras",children:"Gorras"})}),C.jsx("li",{children:C.jsx(hn,{to:"/categoria/ropa-mujer",children:"Ropa mujer"})}),C.jsx("li",{children:C.jsx(hn,{to:"/categoria/ropa-hombre",children:"Ropa Hombre"})}),C.jsx("li",{children:C.jsx(hn,{to:"/sobre-nosotros",children:"Sobre Nosotros"})})]})}),C.jsx("div",{className:"navbar-cart",children:C.jsxs(hn,{to:"/carrito",children:["🛒",t>0&&C.jsx("span",{className:"cart-count",children:t})]})})]})}function DR(){return C.jsx("div",{className:"top-banner",children:C.jsx("p",{children:"🛍️ Pague solo al recibirlo - Envíos Gratis a todo puerto la cruz"})})}function NR(){return C.jsx("section",{className:"hero",children:C.jsx("div",{className:"hero-image",children:C.jsxs("div",{className:"hero-content",children:[C.jsx("h2",{children:"Estilo Urbano"}),C.jsx("h3",{children:"Todo lo que amas en un lugar"}),C.jsx("p",{children:"la mejor forma de comprar sin colas,sin espera."})]})})})}function xR(){return C.jsxs("section",{className:"categories",id:"categories",children:[C.jsx("h2",{className:"categories-title",children:"Nuestras Categorías"}),C.jsx("div",{className:"categories-container",children:C.jsxs("div",{className:"categories-grid",children:[C.jsx("div",{className:"category-card",children:C.jsx(hn,{to:"/categoria/gorras",children:C.jsx("img",{src:"./img/categories/img1.svg",alt:"Gorras"})})}),C.jsx("div",{className:"category-card",children:C.jsx(hn,{to:"/categoria/ropa-mujer",children:C.jsx("img",{src:"./img/categories/img1.svg",alt:"Ropa Mujer"})})}),C.jsx("div",{className:"category-card",children:C.jsx(hn,{to:"/categoria/ropa-hombre",children:C.jsx("img",{src:"./img/categories/img1.svg",alt:"Ropa Hombre"})})})]})})]})}const OR=()=>{};var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},MR=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,I=g&63;p||(I=64,f||(w=64)),a.push(n[E],n[A],n[w],n[I])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(pE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):MR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new VR;const w=u<<2|m>>4;if(a.push(w),g!==64){const I=m<<4&240|g>>2;if(a.push(I),A!==64){const M=g<<6&192|A;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class VR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(r){const t=pE(r);return gE.encodeByteArray(t,!0)},uh=function(r){return kR(r).replace(/\./g,"")},yE=function(r){try{return gE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>PR().__FIREBASE_DEFAULTS__,UR=()=>{if(typeof process>"u"||typeof vv>"u")return;const r=vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&yE(r[1]);return t&&JSON.parse(t)},Vh=()=>{try{return OR()||LR()||UR()||jR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_E=r=>{var t,n;return(n=(t=Vh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},zR=r=>{const t=_E(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},vE=()=>{var r;return(r=Vh())===null||r===void 0?void 0:r.config},EE=r=>{var t;return(t=Vh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function FR(){var r;const t=(r=Vh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $R(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function KR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QR(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function YR(){return!FR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XR(){try{return typeof indexedDB=="object"}catch{return!1}}function WR(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="FirebaseError";class ar extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=ZR,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?JR(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ar(o,m,a)}}function JR(r,t){return r.replace(t1,(n,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const t1=/\{\$([^}]+)}/g;function e1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ya(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=t[o];if(Ev(u)&&Ev(f)){if(!Ya(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Ev(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Pl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ll(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function n1(r,t){const n=new i1(r,t);return n.subscribe.bind(n)}class i1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let o;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");r1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:a},o.next===void 0&&(o.next=om),o.error===void 0&&(o.error=om),o.complete===void 0&&(o.complete=om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(r){return r&&r._delegate?r._delegate:r}class Xa{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new BR;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(o1(t))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fa){return this.instances.has(t)}getOptions(t=Fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(t,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:s1(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fa){return this.component?this.component.multipleInstances?t:Fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s1(r){return r===Fa?void 0:r}function o1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new a1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const u1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},c1=Ot.INFO,h1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},f1=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=h1[t];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class np{constructor(t){this.name=t,this._logLevel=c1,this._logHandler=f1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?u1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const d1=(r,t)=>t.some(n=>r instanceof n);let Tv,bv;function m1(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,Sm=new WeakMap,bE=new WeakMap,lm=new WeakMap,ip=new WeakMap;function g1(r){const t=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Wr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&TE.set(n,r)}).catch(()=>{}),ip.set(t,r),t}function y1(r){if(Sm.has(r))return;const t=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Sm.set(r,t)}let wm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Sm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||bE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function _1(r){wm=r(wm)}function v1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(um(this),t,...n);return bE.set(a,t.sort?t.sort():[t]),Wr(a)}:p1().includes(r)?function(...t){return r.apply(um(this),t),Wr(TE.get(this))}:function(...t){return Wr(r.apply(um(this),t))}}function E1(r){return typeof r=="function"?v1(r):(r instanceof IDBTransaction&&y1(r),d1(r,m1())?new Proxy(r,wm):r)}function Wr(r){if(r instanceof IDBRequest)return g1(r);if(lm.has(r))return lm.get(r);const t=E1(r);return t!==r&&(lm.set(r,t),ip.set(t,r)),t}const um=r=>ip.get(r);function T1(r,t,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Wr(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Wr(f.result),p.oldVersion,p.newVersion,Wr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const b1=["get","getKey","getAll","getAllKeys","count"],A1=["put","add","delete","clear"],cm=new Map;function Av(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(cm.get(t))return cm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,o=A1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||b1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return cm.set(t,u),u}_1(r=>({...r,get:(t,n,a)=>Av(t,n)||r.get(t,n,a),has:(t,n)=>!!Av(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function w1(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rm="@firebase/app",Sv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new np("@firebase/app"),R1="@firebase/app-compat",I1="@firebase/analytics-compat",C1="@firebase/analytics",D1="@firebase/app-check-compat",N1="@firebase/app-check",x1="@firebase/auth",O1="@firebase/auth-compat",M1="@firebase/database",V1="@firebase/data-connect",k1="@firebase/database-compat",P1="@firebase/functions",L1="@firebase/functions-compat",U1="@firebase/installations",j1="@firebase/installations-compat",z1="@firebase/messaging",B1="@firebase/messaging-compat",q1="@firebase/performance",H1="@firebase/performance-compat",F1="@firebase/remote-config",G1="@firebase/remote-config-compat",$1="@firebase/storage",K1="@firebase/storage-compat",Q1="@firebase/firestore",Y1="@firebase/vertexai",X1="@firebase/firestore-compat",W1="firebase",Z1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",J1={[Rm]:"fire-core",[R1]:"fire-core-compat",[C1]:"fire-analytics",[I1]:"fire-analytics-compat",[N1]:"fire-app-check",[D1]:"fire-app-check-compat",[x1]:"fire-auth",[O1]:"fire-auth-compat",[M1]:"fire-rtdb",[V1]:"fire-data-connect",[k1]:"fire-rtdb-compat",[P1]:"fire-fn",[L1]:"fire-fn-compat",[U1]:"fire-iid",[j1]:"fire-iid-compat",[z1]:"fire-fcm",[B1]:"fire-fcm-compat",[q1]:"fire-perf",[H1]:"fire-perf-compat",[F1]:"fire-rc",[G1]:"fire-rc-compat",[$1]:"fire-gcs",[K1]:"fire-gcs-compat",[Q1]:"fire-fst",[X1]:"fire-fst-compat",[Y1]:"fire-vertex","fire-js":"fire-js",[W1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,tI=new Map,Cm=new Map;function wv(r,t){try{r.container.addComponent(t)}catch(n){er.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function uo(r){const t=r.name;if(Cm.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;Cm.set(t,r);for(const n of ch.values())wv(n,r);for(const n of tI.values())wv(n,r);return!0}function rp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ln(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new cu("app","Firebase",eI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=Z1;function AE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Im,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=vE()),!n)throw Zr.create("no-options");const u=ch.get(o);if(u){if(Ya(n,u.options)&&Ya(a,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new l1(o);for(const p of Cm.values())f.addComponent(p);const m=new nI(n,a,f);return ch.set(o,m),m}function SE(r=Im){const t=ch.get(r);if(!t&&r===Im&&vE())return AE();if(!t)throw Zr.create("no-app",{appName:r});return t}function Jr(r,t,n){var a;let o=(a=J1[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(m.join(" "));return}uo(new Xa(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="firebase-heartbeat-database",rI=1,Yl="firebase-heartbeat-store";let hm=null;function wE(){return hm||(hm=T1(iI,rI,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),hm}async function aI(r){try{const n=(await wE()).transaction(Yl),a=await n.objectStore(Yl).get(RE(r));return await n.done,a}catch(t){if(t instanceof ar)er.warn(t.message);else{const n=Zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});er.warn(n.message)}}}async function Rv(r,t){try{const a=(await wE()).transaction(Yl,"readwrite");await a.objectStore(Yl).put(t,RE(r)),await a.done}catch(n){if(n instanceof ar)er.warn(n.message);else{const a=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(a.message)}}}function RE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=1024,oI=30;class lI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Iv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>oI){const f=hI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){er.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iv(),{heartbeatsToSend:a,unsentEntries:o}=uI(this._heartbeatsCache.heartbeats),u=uh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return er.warn(n),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function uI(r,t=sI){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Cv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Cv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class cI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XR()?WR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Cv(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function hI(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(r){uo(new Xa("platform-logger",t=>new S1(t),"PRIVATE")),uo(new Xa("heartbeat",t=>new lI(t),"PRIVATE")),Jr(Rm,Sv,r),Jr(Rm,Sv,"esm2017"),Jr("fire-js","")}fI("");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,IE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function S(){}S.prototype=R.prototype,O.D=R.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(N,V,z){for(var x=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)x[fe-2]=arguments[fe];return R.prototype[V].apply(N,x)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,S){S||(S=0);var N=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)N[V]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(V=0;16>V;++V)N[V]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=O.g[0],S=O.g[1],V=O.g[2];var z=O.g[3],x=R+(z^S&(V^z))+N[0]+3614090360&4294967295;R=S+(x<<7&4294967295|x>>>25),x=z+(V^R&(S^V))+N[1]+3905402710&4294967295,z=R+(x<<12&4294967295|x>>>20),x=V+(S^z&(R^S))+N[2]+606105819&4294967295,V=z+(x<<17&4294967295|x>>>15),x=S+(R^V&(z^R))+N[3]+3250441966&4294967295,S=V+(x<<22&4294967295|x>>>10),x=R+(z^S&(V^z))+N[4]+4118548399&4294967295,R=S+(x<<7&4294967295|x>>>25),x=z+(V^R&(S^V))+N[5]+1200080426&4294967295,z=R+(x<<12&4294967295|x>>>20),x=V+(S^z&(R^S))+N[6]+2821735955&4294967295,V=z+(x<<17&4294967295|x>>>15),x=S+(R^V&(z^R))+N[7]+4249261313&4294967295,S=V+(x<<22&4294967295|x>>>10),x=R+(z^S&(V^z))+N[8]+1770035416&4294967295,R=S+(x<<7&4294967295|x>>>25),x=z+(V^R&(S^V))+N[9]+2336552879&4294967295,z=R+(x<<12&4294967295|x>>>20),x=V+(S^z&(R^S))+N[10]+4294925233&4294967295,V=z+(x<<17&4294967295|x>>>15),x=S+(R^V&(z^R))+N[11]+2304563134&4294967295,S=V+(x<<22&4294967295|x>>>10),x=R+(z^S&(V^z))+N[12]+1804603682&4294967295,R=S+(x<<7&4294967295|x>>>25),x=z+(V^R&(S^V))+N[13]+4254626195&4294967295,z=R+(x<<12&4294967295|x>>>20),x=V+(S^z&(R^S))+N[14]+2792965006&4294967295,V=z+(x<<17&4294967295|x>>>15),x=S+(R^V&(z^R))+N[15]+1236535329&4294967295,S=V+(x<<22&4294967295|x>>>10),x=R+(V^z&(S^V))+N[1]+4129170786&4294967295,R=S+(x<<5&4294967295|x>>>27),x=z+(S^V&(R^S))+N[6]+3225465664&4294967295,z=R+(x<<9&4294967295|x>>>23),x=V+(R^S&(z^R))+N[11]+643717713&4294967295,V=z+(x<<14&4294967295|x>>>18),x=S+(z^R&(V^z))+N[0]+3921069994&4294967295,S=V+(x<<20&4294967295|x>>>12),x=R+(V^z&(S^V))+N[5]+3593408605&4294967295,R=S+(x<<5&4294967295|x>>>27),x=z+(S^V&(R^S))+N[10]+38016083&4294967295,z=R+(x<<9&4294967295|x>>>23),x=V+(R^S&(z^R))+N[15]+3634488961&4294967295,V=z+(x<<14&4294967295|x>>>18),x=S+(z^R&(V^z))+N[4]+3889429448&4294967295,S=V+(x<<20&4294967295|x>>>12),x=R+(V^z&(S^V))+N[9]+568446438&4294967295,R=S+(x<<5&4294967295|x>>>27),x=z+(S^V&(R^S))+N[14]+3275163606&4294967295,z=R+(x<<9&4294967295|x>>>23),x=V+(R^S&(z^R))+N[3]+4107603335&4294967295,V=z+(x<<14&4294967295|x>>>18),x=S+(z^R&(V^z))+N[8]+1163531501&4294967295,S=V+(x<<20&4294967295|x>>>12),x=R+(V^z&(S^V))+N[13]+2850285829&4294967295,R=S+(x<<5&4294967295|x>>>27),x=z+(S^V&(R^S))+N[2]+4243563512&4294967295,z=R+(x<<9&4294967295|x>>>23),x=V+(R^S&(z^R))+N[7]+1735328473&4294967295,V=z+(x<<14&4294967295|x>>>18),x=S+(z^R&(V^z))+N[12]+2368359562&4294967295,S=V+(x<<20&4294967295|x>>>12),x=R+(S^V^z)+N[5]+4294588738&4294967295,R=S+(x<<4&4294967295|x>>>28),x=z+(R^S^V)+N[8]+2272392833&4294967295,z=R+(x<<11&4294967295|x>>>21),x=V+(z^R^S)+N[11]+1839030562&4294967295,V=z+(x<<16&4294967295|x>>>16),x=S+(V^z^R)+N[14]+4259657740&4294967295,S=V+(x<<23&4294967295|x>>>9),x=R+(S^V^z)+N[1]+2763975236&4294967295,R=S+(x<<4&4294967295|x>>>28),x=z+(R^S^V)+N[4]+1272893353&4294967295,z=R+(x<<11&4294967295|x>>>21),x=V+(z^R^S)+N[7]+4139469664&4294967295,V=z+(x<<16&4294967295|x>>>16),x=S+(V^z^R)+N[10]+3200236656&4294967295,S=V+(x<<23&4294967295|x>>>9),x=R+(S^V^z)+N[13]+681279174&4294967295,R=S+(x<<4&4294967295|x>>>28),x=z+(R^S^V)+N[0]+3936430074&4294967295,z=R+(x<<11&4294967295|x>>>21),x=V+(z^R^S)+N[3]+3572445317&4294967295,V=z+(x<<16&4294967295|x>>>16),x=S+(V^z^R)+N[6]+76029189&4294967295,S=V+(x<<23&4294967295|x>>>9),x=R+(S^V^z)+N[9]+3654602809&4294967295,R=S+(x<<4&4294967295|x>>>28),x=z+(R^S^V)+N[12]+3873151461&4294967295,z=R+(x<<11&4294967295|x>>>21),x=V+(z^R^S)+N[15]+530742520&4294967295,V=z+(x<<16&4294967295|x>>>16),x=S+(V^z^R)+N[2]+3299628645&4294967295,S=V+(x<<23&4294967295|x>>>9),x=R+(V^(S|~z))+N[0]+4096336452&4294967295,R=S+(x<<6&4294967295|x>>>26),x=z+(S^(R|~V))+N[7]+1126891415&4294967295,z=R+(x<<10&4294967295|x>>>22),x=V+(R^(z|~S))+N[14]+2878612391&4294967295,V=z+(x<<15&4294967295|x>>>17),x=S+(z^(V|~R))+N[5]+4237533241&4294967295,S=V+(x<<21&4294967295|x>>>11),x=R+(V^(S|~z))+N[12]+1700485571&4294967295,R=S+(x<<6&4294967295|x>>>26),x=z+(S^(R|~V))+N[3]+2399980690&4294967295,z=R+(x<<10&4294967295|x>>>22),x=V+(R^(z|~S))+N[10]+4293915773&4294967295,V=z+(x<<15&4294967295|x>>>17),x=S+(z^(V|~R))+N[1]+2240044497&4294967295,S=V+(x<<21&4294967295|x>>>11),x=R+(V^(S|~z))+N[8]+1873313359&4294967295,R=S+(x<<6&4294967295|x>>>26),x=z+(S^(R|~V))+N[15]+4264355552&4294967295,z=R+(x<<10&4294967295|x>>>22),x=V+(R^(z|~S))+N[6]+2734768916&4294967295,V=z+(x<<15&4294967295|x>>>17),x=S+(z^(V|~R))+N[13]+1309151649&4294967295,S=V+(x<<21&4294967295|x>>>11),x=R+(V^(S|~z))+N[4]+4149444226&4294967295,R=S+(x<<6&4294967295|x>>>26),x=z+(S^(R|~V))+N[11]+3174756917&4294967295,z=R+(x<<10&4294967295|x>>>22),x=V+(R^(z|~S))+N[2]+718787259&4294967295,V=z+(x<<15&4294967295|x>>>17),x=S+(z^(V|~R))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+z&4294967295}a.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var S=R-this.blockSize,N=this.B,V=this.h,z=0;z<R;){if(V==0)for(;z<=S;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(N[V++]=O.charCodeAt(z++),V==this.blockSize){o(this,N),V=0;break}}else for(;z<R;)if(N[V++]=O[z++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=R},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var S=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=S&255,S/=256;for(this.u(O),O=Array(16),R=S=0;4>R;++R)for(var N=0;32>N;N+=8)O[S++]=this.g[R]>>>N&255;return O};function u(O,R){var S=m;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=R(O)}function f(O,R){this.h=R;for(var S=[],N=!0,V=O.length-1;0<=V;V--){var z=O[V]|0;N&&z==R||(S[V]=z,N=!1)}this.g=S}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return P(g(-O));for(var R=[],S=1,N=0;O>=S;N++)R[N]=O/S|0,S*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return P(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(R,8)),N=A,V=0;V<O.length;V+=8){var z=Math.min(8,O.length-V),x=parseInt(O.substring(V,V+z),R);8>z?(z=g(Math.pow(R,z)),N=N.j(z).add(g(x))):(N=N.j(S),N=N.add(g(x)))}return N}var A=p(0),w=p(1),I=p(16777216);r=f.prototype,r.m=function(){if(H(this))return-P(this).m();for(var O=0,R=1,S=0;S<this.g.length;S++){var N=this.i(S);O+=(0<=N?N:4294967296+N)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if(H(this))return"-"+P(this).toString(O);for(var R=g(Math.pow(O,6)),S=this,N="";;){var V=W(S,R).g;S=$(S,V.j(R));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=V,M(S))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function H(O){return O.h==-1}r.l=function(O){return O=$(this,O),H(O)?-1:M(O)?0:1};function P(O){for(var R=O.g.length,S=[],N=0;N<R;N++)S[N]=~O.g[N];return new f(S,~O.h).add(w)}r.abs=function(){return H(this)?P(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],N=0,V=0;V<=R;V++){var z=N+(this.i(V)&65535)+(O.i(V)&65535),x=(z>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);N=x>>>16,z&=65535,x&=65535,S[V]=x<<16|z}return new f(S,S[S.length-1]&-2147483648?-1:0)};function $(O,R){return O.add(P(R))}r.j=function(O){if(M(this)||M(O))return A;if(H(this))return H(O)?P(this).j(P(O)):P(P(this).j(O));if(H(O))return P(this.j(P(O)));if(0>this.l(I)&&0>O.l(I))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,S=[],N=0;N<2*R;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<O.g.length;V++){var z=this.i(N)>>>16,x=this.i(N)&65535,fe=O.i(V)>>>16,ne=O.i(V)&65535;S[2*N+2*V]+=x*ne,Q(S,2*N+2*V),S[2*N+2*V+1]+=z*ne,Q(S,2*N+2*V+1),S[2*N+2*V+1]+=x*fe,Q(S,2*N+2*V+1),S[2*N+2*V+2]+=z*fe,Q(S,2*N+2*V+2)}for(N=0;N<R;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=R;N<2*R;N++)S[N]=0;return new f(S,0)};function Q(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function L(O,R){this.g=O,this.h=R}function W(O,R){if(M(R))throw Error("division by zero");if(M(O))return new L(A,A);if(H(O))return R=W(P(O),R),new L(P(R.g),P(R.h));if(H(R))return R=W(O,P(R)),new L(P(R.g),R.h);if(30<O.g.length){if(H(O)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var S=w,N=R;0>=N.l(O);)S=nt(S),N=nt(N);var V=st(S,1),z=st(N,1);for(N=st(N,2),S=st(S,2);!M(N);){var x=z.add(N);0>=x.l(O)&&(V=V.add(S),z=x),N=st(N,1),S=st(S,1)}return R=$(O,V.j(R)),new L(V,R)}for(V=A;0<=O.l(R);){for(S=Math.max(1,Math.floor(O.m()/R.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=g(S),x=z.j(R);H(x)||0<x.l(O);)S-=N,z=g(S),x=z.j(R);M(z)&&(z=w),V=V.add(z),O=$(O,x)}return new L(V,O)}r.A=function(O){return W(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],N=0;N<R;N++)S[N]=this.i(N)&O.i(N);return new f(S,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],N=0;N<R;N++)S[N]=this.i(N)|O.i(N);return new f(S,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],N=0;N<R;N++)S[N]=this.i(N)^O.i(N);return new f(S,this.h^O.h)};function nt(O){for(var R=O.g.length+1,S=[],N=0;N<R;N++)S[N]=O.i(N)<<1|O.i(N-1)>>>31;return new f(S,O.h)}function st(O,R){var S=R>>5;R%=32;for(var N=O.g.length-S,V=[],z=0;z<N;z++)V[z]=0<R?O.i(z+S)>>>R|O.i(z+S+1)<<32-R:O.i(z+S);return new f(V,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,IE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ta=f}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CE,Ul,DE,Zc,Dm,NE,xE,OE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)t:{var _=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var F=c[b];if(!(F in _))break t;_=_[F]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,F={next:function(){if(!b&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,b),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function I(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,F,Y){for(var at=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)at[Pt-2]=arguments[Pt];return y.prototype[F].apply(b,at)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const F=c.length||0,Y=b.length||0;c.length=F+Y;for(let at=0;at<Y;at++)c[F+at]=b[at]}else c.push(b)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var nt=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function st(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(_ in b)c[_]=b[_];for(let Y=0;Y<S.length;Y++)_=S[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Ft;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,_){const b=ne.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new $(()=>new ot,c=>c.reset());class ot{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,dt=!1,Ft=new fe,k=()=>{const c=m.Promise.resolve(void 0);_t=()=>{c.then(rt)}};var rt=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){z(_)}var y=ne;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}dt=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function It(c,y){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(nt){t:{try{W(y.nodeName);var F=!0;break t}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}M(It,ut);var wt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),zt=0;function oe(c,y,_,b,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=F,this.key=++zt,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Je(c){this.src=c,this.g={},this.h=0}Je.prototype.add=function(c,y,_,b,F){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var at=En(c,y,b,F);return-1<at?(y=c[at],_||(y.fa=!1)):(y=new oe(y,this.src,Y,!!b,F),y.fa=_,c.push(y)),y};function Ei(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],F=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(b,F,1),Y&&(Kt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function En(c,y,_,b){for(var F=0;F<c.length;++F){var Y=c[F];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==b)return F}return-1}var or="closure_lm_"+(1e6*Math.random()|0),lr={};function Ti(c,y,_,b,F){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ti(c,y[Y],_,b,F);return null}return _=Tu(_),c&&c[ge]?c.K(y,_,g(b)?!!b.capture:!1,F):Io(c,y,_,!1,b,F)}function Io(c,y,_,b,F,Y){if(!y)throw Error("Invalid event type");var at=g(F)?!!F.capture:!!F,Pt=Co(c);if(Pt||(c[or]=Pt=new Je(c)),_=Pt.add(y,_,b,at,Y),_.proxy)return _;if(b=us(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ct||(F=at),F===void 0&&(F=!1),c.addEventListener(y.toString(),b,F);else if(c.attachEvent)c.attachEvent(hs(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function us(){function c(_){return y.call(c.src,c.listener,_)}const y=tf;return c}function cs(c,y,_,b,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)cs(c,y[Y],_,b,F);else b=g(b)?!!b.capture:!!b,_=Tu(_),c&&c[ge]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=En(Y,_,b,F),-1<_&&(Kt(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Co(c))&&(y=c.g[y.toString()],c=-1,y&&(c=En(y,_,b,F)),(_=-1<c?y[c]:null)&&fa(_))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ge])Ei(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(hs(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Co(y))?(Ei(_,c),_.h==0&&(_.src=null,y[or]=null)):Kt(c)}}}function hs(c){return c in lr?lr[c]:lr[c]="on"+c}function tf(c,y){if(c.da)c=!0;else{y=new It(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&fa(c),c=_.call(b,y)}return c}function Co(c){return c=c[or],c instanceof Je?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tu(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function be(){pt.call(this),this.i=new Je(this),this.M=this,this.F=null}M(be,pt),be.prototype[ge]=!0,be.prototype.removeEventListener=function(c,y,_,b){cs(this,c,y,_,b)};function Ne(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ut(y,c);else if(y instanceof ut)y.target=y.target||c;else{var F=y;y=new ut(b,c),N(y,F)}if(F=!0,_)for(var Y=_.length-1;0<=Y;Y--){var at=y.g=_[Y];F=bi(at,b,!0,y)&&F}if(at=y.g=c,F=bi(at,b,!0,y)&&F,F=bi(at,b,!1,y)&&F,_)for(Y=0;Y<_.length;Y++)at=y.g=_[Y],F=bi(at,b,!1,y)&&F}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Kt(_[b]);delete c.g[y],c.h--}}this.F=null},be.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},be.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function bi(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Y=0;Y<y.length;++Y){var at=y[Y];if(at&&!at.da&&at.capture==_){var Pt=at.listener,Se=at.ha||at.src;at.fa&&Ei(c.i,at),F=Pt.call(Se,b)!==!1&&F}}return F&&!b.defaultPrevented}function bu(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Do(c){c.g=bu(()=>{c.g=null,c.i&&(c.i=!1,Do(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ef extends pt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(c){pt.call(this),this.h=c,this.g={}}M(da,pt);var ur=[];function Ge(c){st(c.g,function(y,_){this.g.hasOwnProperty(_)&&fa(y)},c),c.g={}}da.prototype.N=function(){da.aa.N.call(this),Ge(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var No=m.JSON.stringify,Wn=m.JSON.parse,tn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function Au(c){return c.h||(c.h=c.i())}function Su(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){ut.call(this,"d")}M(cr,ut);function zn(){ut.call(this,"c")}M(zn,ut);var Tn={},hr=null;function fs(){return hr=hr||new be}Tn.La="serverreachability";function Oo(c){ut.call(this,Tn.La,c)}M(Oo,ut);function fr(c){const y=fs();Ne(y,new Oo(y))}Tn.STAT_EVENT="statevent";function ds(c,y){ut.call(this,Tn.STAT_EVENT,c),this.stat=y}M(ds,ut);function de(c){const y=fs();Ne(y,new ds(y,c))}Tn.Ma="timingevent";function wu(c,y){ut.call(this,Tn.Ma,c),this.size=y}M(wu,ut);function dr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function mr(){this.g=!0}mr.prototype.xa=function(){this.g=!1};function Ru(c,y,_,b,F,Y){c.info(function(){if(c.g)if(Y)for(var at="",Pt=Y.split("&"),Se=0;Se<Pt.length;Se++){var Lt=Pt[Se].split("=");if(1<Lt.length){var Me=Lt[0];Lt=Lt[1];var we=Me.split("_");at=2<=we.length&&we[1]=="type"?at+(Me+"="+Lt+"&"):at+(Me+"=redacted&")}}else at=null;else at=Y;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+y+`
`+_+`
`+at})}function Iu(c,y,_,b,F,Y,at){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+y+`
`+_+`
`+Y+" "+at})}function pr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xe(c,_)+(b?" "+b:"")})}function Jn(c,y){c.info(function(){return"TIMEOUT: "+y})}mr.prototype.info=function(){};function xe(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var F=b[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var at=1;at<F.length;at++)F[at]=""}}}}return No(_)}catch{return y}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ma;function ms(){}M(ms,xo),ms.prototype.g=function(){return new XMLHttpRequest},ms.prototype.i=function(){return{}},ma=new ms;function ti(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mo}function Mo(){this.i=null,this.g="",this.h=!1}var gr={},pa={};function Bn(c,y,_){c.L=1,c.v=_a(le(y)),c.m=_,c.P=!0,Si(c,null)}function Si(c,y){c.F=Date.now(),ie(c),c.A=le(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Ii(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Mo,c.g=Bu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ef(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(ur[0]=F.toString()),F=ur);for(var Y=0;Y<F.length;Y++){var at=Ti(_,F[Y],b||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),fr(),Ru(c.i,c.u,c.A,c.l,c.R,c.m)}ti.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)t:{const we=Rn(this.g);var y=this.g.Ba();const xi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||Mu(this.g)))){this.J||we!=4||y==7||(y==8||0>=xi?fr(3):fr(2)),ps(this);var _=this.g.Z();this.X=_;e:if(yr(this)){var b=Mu(this.g);c="";var F=b.length,Y=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),fn(this);var at="";break e}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Y&&y==F-1)});b.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Iu(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Se=this.g;if((Pt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Pt)){var Lt=Pt;break e}}Lt=null}if(_=Lt)pr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dn(this,_);else{this.o=!1,this.s=3,de(12),ln(this),fn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<at.length;)if(Ue=_r(this,at),Ue==pa){we==4&&(this.s=4,de(14),_=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==gr){this.s=4,de(15),pr(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else pr(this.i,this.l,Ue,null),dn(this,Ue);if(yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||at.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)pr(this.i,this.l,at,"[Invalid Chunked Response]"),ln(this),fn(this);else if(0<at.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),wa(Me),Me.M=!0,de(11))}}else pr(this.i,this.l,at,null),dn(this,at);we==4&&ln(this),this.o&&!this.J&&(we==4?Uu(this.j,this):(this.o=!1,ie(this)))}else lf(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),ln(this),fn(this)}}}catch{}finally{}};function yr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _r(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?pa:(_=Number(y.substring(_,b)),isNaN(_)?gr:(b+=1,b+_>y.length?pa:(y=y.slice(b,b+_),c.C=b+_,y)))}ti.prototype.cancel=function(){this.J=!0,ln(this)};function ie(c){c.S=Date.now()+c.I,Vo(c,c.I)}function Vo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=dr(w(c.ba,c),y)}function ps(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ti.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jn(this.i,this.A),this.L!=2&&(fr(),de(17)),ln(this),this.s=2,fn(this)):Vo(this,this.S-c)};function fn(c){c.j.G==0||c.J||Uu(c.j,c)}function ln(c){ps(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ge(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function dn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||vr(_.h,c))){if(!c.K&&vr(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ws(_),As(_);else break t;Go(_),de(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=dr(w(_.Za,_),6e3));if(1>=Cu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ni(_,11)}else if((c.K||_.g==c)&&ws(_),!Q(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Lt=F[y];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const Me=Lt[3];Me!=null&&(_.la=Me,_.j.info("VER="+_.la));const we=Lt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const xi=Lt[5];xi!=null&&typeof xi=="number"&&0<xi&&(b=1.5*xi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ue=c.g;if(Ue){const oi=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var Y=b.h;Y.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Er(Y,Y.h),Y.h=null))}if(b.D){const Ko=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(b.ya=Ko,Bt(b.I,b.D,Ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var at=c;if(b.qa=zu(b,b.J?b.ia:null,b.W),at.K){bn(b.h,at);var Pt=at,Se=b.L;Se&&(Pt.I=Se),Pt.B&&(ps(Pt),ie(Pt)),b.g=at}else Pu(b);0<_.i.length&&Ss(_)}else Lt[0]!="stop"&&Lt[0]!="close"||Ni(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Ni(_,7):Ho(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}fr(4)}catch{}}var nf=class{constructor(c,y){this.g=c,this.map=y}};function ko(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Cu(c){return c.h?1:c.g?c.g.size:0}function vr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Er(c,y){c.g?c.g.add(y):c.h=y}function bn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ko.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function en(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function Du(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function rf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function ga(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=rf(c),b=Du(c),F=b.length,Y=0;Y<F;Y++)y.call(void 0,b[Y],_&&_[Y],c)}var Lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gs(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),F=null;if(0<=b){var Y=c[_].substring(0,b);F=c[_].substring(b+1)}else Y=c[_];y(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wi){this.h=c.h,Tr(this,c.j),this.o=c.o,this.g=c.g,ya(this,c.s),this.l=c.l;var y=c.i,_=new ei;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ys(this,_),this.m=c.m}else c&&(y=String(c).match(Lo))?(this.h=!1,Tr(this,y[1]||"",!0),this.o=br(y[2]||""),this.g=br(y[3]||"",!0),ya(this,y[4]),this.l=br(y[5]||"",!0),ys(this,y[6]||"",!0),this.m=br(y[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}wi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(An(y,Uo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(An(y,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(An(_,_.charAt(0)=="/"?jo:Nu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",An(_,of)),c.join("")};function le(c){return new wi(c)}function Tr(c,y,_){c.j=_?br(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ya(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ys(c,y,_){y instanceof ei?(c.i=y,zo(c.i,c.h)):(_||(y=An(y,sf)),c.i=new ei(y,c.h))}function Bt(c,y,_){c.i.set(y,_)}function _a(c){return Bt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function br(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function An(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,af),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function af(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,Nu=/[#\?:]/g,jo=/[#\?]/g,sf=/[#\?@]/g,of=/#/g;function ei(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&gs(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ei.prototype,r.add=function(c,y){Sn(this),this.i=null,c=Ci(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function _s(c,y){Sn(c),y=Ci(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ri(c,y){return Sn(c),y=Ci(c,y),c.g.has(y)}r.forEach=function(c,y){Sn(this),this.g.forEach(function(_,b){_.forEach(function(F){c.call(y,F,b,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const F=c[b];for(let Y=0;Y<F.length;Y++)_.push(y[b])}return _},r.V=function(c){Sn(this);let y=[];if(typeof c=="string")Ri(this,c)&&(y=y.concat(this.g.get(Ci(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Sn(this),this.i=null,c=Ci(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ii(c,y,_){_s(c,y),0<_.length&&(c.i=null,c.g.set(Ci(c,y),H(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Y=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var F=Y;at[b]!==""&&(F+="="+encodeURIComponent(String(at[b]))),c.push(F)}}return this.i=c.join("&")};function Ci(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zo(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,b){var F=b.toLowerCase();b!=F&&(_s(this,b),Ii(this,F,_))},c)),c.j=y}function xu(c,y){const _=new mr;if(m.Image){const b=new Image;b.onload=I(wn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=I(wn,_,"TestLoadImage: error",!1,y,b),b.onabort=I(wn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=I(wn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function va(c,y){const _=new mr,b=new AbortController,F=setTimeout(()=>{b.abort(),wn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(F),Y.ok?wn(_,"TestPingServer: ok",!0,y):wn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),wn(_,"TestPingServer: error",!1,y)})}function wn(c,y,_,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(_)}catch{}}function Ea(){this.g=new tn}function ni(c,y,_){const b=_||"";try{ga(c,function(F,Y){let at=F;g(F)&&(at=No(F)),y.push(b+Y+"="+encodeURIComponent(at))})}catch(F){throw y.push(b+"type="+encodeURIComponent("_badmap")),F}}function Ar(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Ar,xo),Ar.prototype.g=function(){return new Di(this.l,this.j)},Ar.prototype.i=function(c){return function(){return c}}({});function Di(c,y){be.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Di,be),r=Di.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Bo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},r.Qa=function(c){this.g&&(this.response=c,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let y="";return st(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Oe(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Bt(c,y,_))}function Gt(c){be.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Gt,be);var vs=/^https?$/i,Ta=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ma.g(),this.v=this.o?Au(this.o):Au(ma),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Ou(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)_.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ta,y,void 0))||b||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,at]of _)this.g.setRequestHeader(Y,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Ou(this,Y)}};function Ou(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Es(c),ai(c)}function Es(c){c.A||(c.A=!0,Ne(c,"complete"),Ne(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ne(this,"complete"),Ne(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ts(this):this.bb())},r.bb=function(){Ts(this)};function Ts(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)bu(c.Ea,0,c);else if(Ne(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=at===0){var F=String(c.D).match(Lo)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),b=!vs.test(F?F.toLowerCase():"")}_=b}if(_)Ne(c,"complete"),Ne(c,"success");else{c.m=6;try{var Y=2<Rn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Es(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){ba(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ne(c,"ready");try{_.onreadystatechange=b}catch{}}}function ba(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wn(y)}};function Mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lf(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Q(c[b]))continue;var _=V(c[b]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[F]||[];y[F]=Y,Y.push(_)}O(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function bs(c){this.Aa=0,this.i=[],this.j=new mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,c),this.cb=Aa("retryDelaySeedMs",1e4,c),this.Wa=Aa("forwardChannelMaxRetries",2,c),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ko(c&&c.concurrentRequestLimit),this.Da=new Ea,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=bs.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){de(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=zu(this,null,this.W),Ss(this)};function Ho(c){if(Vu(c),c.G==3){var y=c.U++,_=le(c.I);if(Bt(_,"SID",c.K),Bt(_,"RID",y),Bt(_,"TYPE","terminate"),Sa(c,_),y=new ti(c,c.j,y),y.L=2,y.v=_a(le(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ie(y)}ju(c)}function As(c){c.g&&(wa(c),c.g.cancel(),c.g=null)}function Vu(c){As(c),c.u&&(m.clearTimeout(c.u),c.u=null),ws(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ss(c){if(!Po(c.h)&&!c.s){c.s=!0;var y=c.Ga;_t||k(),dt||(_t(),dt=!0),Ft.add(y,c),c.B=0}}function uf(c,y){return Cu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=dr(w(c.Ga,c,y),$o(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new ti(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),N(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=ku(this,F,y),_=le(this.I),Bt(_,"RID",c),Bt(_,"CVER",22),this.D&&Bt(_,"X-HTTP-Session-Id",this.D),Sa(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(qo(Y)))+"&"+y:this.m&&Oe(_,this.m,Y)),Er(this.h,F),this.Ua&&Bt(_,"TYPE","init"),this.P?(Bt(_,"$req",y),Bt(_,"SID","null"),F.T=!0,Bn(F,_,null)):Bn(F,_,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||Po(this.h)||Fo(this))};function Fo(c,y){var _;y?_=y.l:_=c.U++;const b=le(c.I);Bt(b,"SID",c.K),Bt(b,"RID",_),Bt(b,"AID",c.T),Sa(c,b),c.m&&c.o&&Oe(b,c.m,c.o),_=new ti(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ku(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Er(c.h,_),Bn(_,b,y)}function Sa(c,y){c.H&&st(c.H,function(_,b){Bt(y,b,_)}),c.l&&ga({},function(_,b){Bt(y,b,_)})}function ku(c,y,_){_=Math.min(c.i.length,_);var b=c.l?w(c.l.Na,c.l,c):null;t:{var F=c.i;let Y=-1;for(;;){const at=["count="+_];Y==-1?0<_?(Y=F[0].g,at.push("ofs="+Y)):Y=0:at.push("ofs="+Y);let Pt=!0;for(let Se=0;Se<_;Se++){let Lt=F[Se].g;const Me=F[Se].map;if(Lt-=Y,0>Lt)Y=Math.max(0,F[Se].g-100),Pt=!1;else try{ni(Me,at,"req"+Lt+"_")}catch{b&&b(Me)}}if(Pt){b=at.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Pu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_t||k(),dt||(_t(),dt=!0),Ft.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=dr(w(c.Fa,c),$o(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=dr(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),As(this),Lu(this))};function wa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Lu(c){c.g=new ti(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=le(c.qa);Bt(y,"RID","rpc"),Bt(y,"SID",c.K),Bt(y,"AID",c.T),Bt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Bt(y,"TO",c.ja),Bt(y,"TYPE","xmlhttp"),Sa(c,y),c.m&&c.o&&Oe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_a(le(y)),_.m=null,_.P=!0,Si(_,c)}r.Za=function(){this.C!=null&&(this.C=null,As(this),Go(this),de(19))};function ws(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Uu(c,y){var _=null;if(c.g==y){ws(c),wa(c),c.g=null;var b=2}else if(vr(c.h,y))_=y.D,bn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;b=fs(),Ne(b,new wu(b,_)),Ss(c)}else Pu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(b==1&&uf(c,y)||b==2&&Go(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function $o(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ni(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),b=c.Xa;const F=!b;b=new wi(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Tr(b,"https"),_a(b),F?xu(b.toString(),_):va(b.toString(),_)}else de(2);c.G=0,c.l&&c.l.sa(y),ju(c),Vu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function ju(c){if(c.G=0,c.ka=[],c.l){const y=en(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function zu(c,y,_){var b=_ instanceof wi?le(_):new wi(_);if(b.g!="")y&&(b.g=y+"."+b.g),ya(b,b.s);else{var F=m.location;b=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Y=new wi(null);b&&Tr(Y,b),y&&(Y.g=y),F&&ya(Y,F),_&&(Y.l=_),b=Y}return _=c.D,y=c.ya,_&&y&&Bt(b,_,y),Bt(b,"VER",c.la),Sa(c,b),b}function Bu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Gt(new Ar({eb:_})):new Gt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Rs(){}Rs.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){be.call(this),this.g=new bs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}M(nn,be),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ho(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=No(c),c=_);y.i.push(new nf(y.Ya++,c)),y.G==3&&Ss(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,nn.aa.N.call(this)};function Hu(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Hu,cr);function Fu(){zn.call(this),this.status=1}M(Fu,zn);function si(c){this.g=c}M(si,qu),si.prototype.ua=function(){Ne(this.g,"a")},si.prototype.ta=function(c){Ne(this.g,new Hu(c))},si.prototype.sa=function(c){Ne(this.g,new Fu)},si.prototype.ra=function(){Ne(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,OE=function(){return new Rs},xE=function(){return fs()},NE=Tn,Dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Zc=Ae,Ai.COMPLETE="complete",DE=Ai,Su.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",be.prototype.listen=be.prototype.K,Ul=Su,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,CE=Gt}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore",xv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new np("@firebase/firestore");function Js(){return Wa.logLevel}function ht(r,...t){if(Wa.logLevel<=Ot.DEBUG){const n=t.map(ap);Wa.debug(`Firestore (${bo}): ${r}`,...n)}}function nr(r,...t){if(Wa.logLevel<=Ot.ERROR){const n=t.map(ap);Wa.error(`Firestore (${bo}): ${r}`,...n)}}function co(r,...t){if(Wa.logLevel<=Ot.WARN){const n=t.map(ap);Wa.warn(`Firestore (${bo}): ${r}`,...n)}}function ap(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r="Unexpected state"){const t=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+r;throw nr(t),new Error(t)}function $t(r,t){r||Tt()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ar{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class mI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pI{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string"),new ME(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new Ye(t)}}class gI{constructor(t,n,a){this.l=t,this.h=n,this.P=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yI{constructor(t,n,a){this.l=t,this.h=n,this.P=a}getToken(){return Promise.resolve(new gI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _I{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ln(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0);const a=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ov(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new Ov(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=vI(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=t.charAt(o[u]%62))}return a}}function kt(r,t){return r<t?-1:r>t?1:0}function ho(r,t,n){return r.length===t.length&&r.every((a,o)=>n(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=-62135596800,Vv=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*Vv);return new Ce(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Mv)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vv}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Mv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Ce(0,0))}static max(){return new bt(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="__name__";class di{constructor(t,n,a){n===void 0?n=0:n>t.length&&Tt(),a===void 0?a=t.length-n:a>t.length-n&&Tt(),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach(a=>{n.push(a)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let o=0;o<a;o++){const u=di.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Math.sign(t.length-n.length)}static compareSegments(t,n){const a=di.isNumericId(t),o=di.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?di.extractNumericId(t).compare(di.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ta.fromString(t.substring(4,t.length-2))}}class Jt extends di{construct(t,n,a){return new Jt(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const EI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends di{construct(t,n,a){return new He(t,n,a)}static isValidIdentifier(t){return EI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kv}static keyField(){return new He([kv])}static fromServerFormat(t){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(n)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(Jt.fromString(t))}static fromName(t){return new yt(Jt.fromString(t).popFirst(5))}static empty(){return new yt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function TI(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(a===1e9?new Ce(n+1,0):new Ce(n,a));return new ia(o,yt.empty(),t)}function bI(r){return new ia(r.readTime,r.key,Xl)}class ia{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new ia(bt.min(),yt.empty(),Xl)}static max(){return new ia(bt.max(),yt.empty(),Xl)}}function AI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==SI)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):et.reject(n)}static resolve(t){return new et((n,a)=>{n(t)})}static reject(t){return new et((n,a)=>{a(t)})}static waitFor(t){return new et((n,a)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(t){let n=et.resolve(!1);for(const a of t)n=n.next(o=>o?et.resolve(o):a());return n}static forEach(t,n){const a=[];return t.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(t,n){return new et((a,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(t,n){return new et((a,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):a()};u()})}}function RI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=-1;function Ph(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function II(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="";function CI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Pv(t)),t=DI(r.get(n),t);return Pv(t)}function DI(r,t){let n=t;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case kE:n+="";break;default:n+=u}}return n}function Pv(r){return r+kE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function is(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function PE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.comparator=t,this.root=n||qe.EMPTY}insert(t,n){return new se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,a)=>(t(n,a),!1))}toString(){const t=[];return this.inorderTraversal((n,a)=>(t.push(`${n}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fc(this.root,t,this.comparator,!0)}}class Fc{constructor(t,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?a(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,n,a,o,u){this.key=t,this.value=n,this.color=a??qe.RED,this.left=o??qe.EMPTY,this.right=u??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,o,u){return new qe(t??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const t=this.left.check();if(t!==this.right.check())throw Tt();return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(t,n,a,o,u){return this}insert(t,n,a){return new qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,a)=>(t(n),!1))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(t){return new Uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(a=>{n=n.add(a)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class Uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new $n([])}unionWith(t){let n=new De(He.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new $n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new LE("Invalid base64 string: "+u):u}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const NI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(r){if($t(!!r),typeof r=="string"){let t=0;const n=NI.exec(r);if($t(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function aa(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="server_timestamp",jE="__type__",zE="__previous_value__",BE="__local_write_time__";function Lh(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[jE])===null||n===void 0?void 0:n.stringValue)===UE}function Uh(r){const t=r.mapValue.fields[zE];return Lh(t)?Uh(t):t}function Wl(r){const t=ra(r.mapValue.fields[BE].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n,a,o,u,f,m,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const fh="(default)";class Zl{constructor(t,n){this.projectId=t,this.database=n||fh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(t){return t instanceof Zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__type__",OI="__max__",Gc={mapValue:{}},HE="__vector__",dh="value";function sa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lh(r)?4:VI(r)?9007199254740991:MI(r)?10:11:Tt()}function vi(r,t){if(r===t)return!0;const n=sa(r);if(n!==sa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Wl(r).isEqual(Wl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ra(o.timestampValue),m=ra(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return aa(o.bytesValue).isEqual(aa(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?hh(f)===hh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return ho(r.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Lv(f)!==Lv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!vi(f[p],m[p])))return!1;return!0}(r,t);default:return Tt()}}function Jl(r,t){return(r.values||[]).find(n=>vi(n,t))!==void 0}function fo(r,t){if(r===t)return 0;const n=sa(r),a=sa(t);if(n!==a)return kt(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return jv(r.timestampValue,t.timestampValue);case 4:return jv(Wl(r),Wl(t));case 5:return kt(r.stringValue,t.stringValue);case 6:return function(u,f){const m=aa(u),p=aa(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=kt(m[g],p[g]);if(E!==0)return E}return kt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=kt(pe(u.latitude),pe(f.latitude));return m!==0?m:kt(pe(u.longitude),pe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return zv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},w=f.fields||{},I=(m=A[dh])===null||m===void 0?void 0:m.arrayValue,M=(p=w[dh])===null||p===void 0?void 0:p.arrayValue,H=kt(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:zv(I,M)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Gc.mapValue&&f===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(f===Gc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const w=kt(p[A],E[A]);if(w!==0)return w;const I=fo(m[p[A]],g[E[A]]);if(I!==0)return I}return kt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Tt()}}function jv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const n=ra(r),a=ra(t),o=kt(n.seconds,a.seconds);return o!==0?o:kt(n.nanos,a.nanos)}function zv(r,t){const n=r.values||[],a=t.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=fo(n[o],a[o]);if(u)return u}return kt(n.length,a.length)}function mo(r){return Nm(r)}function Nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=ra(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return aa(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return yt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Nm(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"}(r.mapValue):Tt()}function Jc(r){switch(sa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uh(r);return t?16+Jc(t):16;case 5:return 2*r.stringValue.length;case 6:return aa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Jc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return is(a.fields,(u,f)=>{o+=u.length+Jc(f)}),o}(r.mapValue);default:throw Tt()}}function mh(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function xm(r){return!!r&&"integerValue"in r}function op(r){return!!r&&"arrayValue"in r}function Bv(r){return!!r&&"nullValue"in r}function qv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function MI(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[qE])===null||n===void 0?void 0:n.stringValue)===HE}function ql(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return is(r.mapValue.fields,(n,a)=>t.mapValue.fields[n]=ql(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ql(r.arrayValue.values[n]);return t}return Object.assign({},r)}function VI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===OI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!th(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ql(n)}setAll(t){let n=He.emptyPath(),a={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(t){const n=this.field(t.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=n.mapValue.fields[t.get(a)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,a){is(n,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new Un(ql(this.value))}}function FE(r){const t=[];return is(r.fields,(n,a)=>{const o=new He([n]);if(th(a)){const u=FE(a.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new $n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,a,o,u,f,m){this.key=t,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Xe(t,0,bt.min(),bt.min(),bt.min(),Un.empty(),0)}static newFoundDocument(t,n,a,o){return new Xe(t,1,n,bt.min(),a,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,bt.min(),bt.min(),Un.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,bt.min(),bt.min(),Un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,n){this.position=t,this.inclusive=n}}function Hv(r,t,n){let a=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?a=yt.comparator(yt.fromName(f.referenceValue),n.key):a=fo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Fv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!vi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t,n="asc"){this.field=t,this.dir=n}}function kI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{}class Te extends GE{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new LI(t,n,a):n==="array-contains"?new zI(t,a):n==="in"?new BI(t,a):n==="not-in"?new qI(t,a):n==="array-contains-any"?new HI(t,a):new Te(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new UI(t,a):new jI(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fo(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends GE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Kn(t,n)}matches(t){return $E(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $E(r){return r.op==="and"}function KE(r){return PI(r)&&$E(r)}function PI(r){for(const t of r.filters)if(t instanceof Kn)return!1;return!0}function Om(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(KE(r))return r.filters.map(t=>Om(t)).join(",");{const t=r.filters.map(n=>Om(n)).join(",");return`${r.op}(${t})`}}function QE(r,t){return r instanceof Te?function(a,o){return o instanceof Te&&a.op===o.op&&a.field.isEqual(o.field)&&vi(a.value,o.value)}(r,t):r instanceof Kn?function(a,o){return o instanceof Kn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&QE(f,o.filters[m]),!0):!1}(r,t):void Tt()}function YE(r){return r instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(r):r instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(YE).join(" ,")+"}"}(r):"Filter"}class LI extends Te{constructor(t,n,a){super(t,n,a),this.key=yt.fromName(a.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class UI extends Te{constructor(t,n){super(t,"in",n),this.keys=XE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class jI extends Te{constructor(t,n){super(t,"not-in",n),this.keys=XE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function XE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>yt.fromName(a.referenceValue))}class zI extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return op(n)&&Jl(n.arrayValue,this.value)}}class BI extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class qI extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Jl(this.value.arrayValue,n)}}class HI extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Jl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,n=null,a=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Gv(r,t=null,n=[],a=[],o=null,u=null,f=null){return new FI(r,t,n,a,o,u,f)}function lp(r){const t=St(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(a=>Om(a)).join(","),n+="|ob:",n+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Ph(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>mo(a)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>mo(a)).join(",")),t.le=n}return t.le}function up(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!kI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!QE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Fv(r.startAt,t.startAt)&&Fv(r.endAt,t.endAt)}function Mm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function GI(r,t,n,a,o,u,f,m){return new rs(r,t,n,a,o,u,f,m)}function cp(r){return new rs(r)}function $v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hp(r){return r.collectionGroup!==null}function ro(r){const t=St(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(He.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new tu(u,a))}),n.has(He.keyField().canonicalString())||t.he.push(new tu(He.keyField(),a))}return t.he}function mi(r){const t=St(r);return t.Pe||(t.Pe=$I(t,ro(r))),t.Pe}function $I(r,t){if(r.limitType==="F")return Gv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new tu(o.field,u)});const n=r.endAt?new po(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new po(r.startAt.position,r.startAt.inclusive):null;return Gv(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function Vm(r,t){const n=r.filters.concat([t]);return new rs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ph(r,t,n){return new rs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function jh(r,t){return up(mi(r),mi(t))&&r.limitType===t.limitType}function WE(r){return`${lp(mi(r))}|lt:${r.limitType}`}function to(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>YE(o)).join(", ")}]`),Ph(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>mo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>mo(o)).join(",")),`Target(${a})`}(mi(r))}; limitType=${r.limitType})`}function zh(r,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):yt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,t)&&function(a,o){for(const u of ro(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(a,o){return!(a.startAt&&!function(f,m,p){const g=Hv(f,m,p);return f.inclusive?g<=0:g<0}(a.startAt,ro(a),o)||a.endAt&&!function(f,m,p){const g=Hv(f,m,p);return f.inclusive?g>=0:g>0}(a.endAt,ro(a),o))}(r,t)}function KI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ZE(r){return(t,n)=>{let a=!1;for(const o of ro(r)){const u=QI(o,t,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function QI(r,t,n){const a=r.field.isKeyField()?yt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?fo(p,g):Tt()}(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){is(this.inner,(n,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new se(yt.comparator);function ir(){return YI}const JE=new se(yt.comparator);function jl(...r){let t=JE;for(const n of r)t=t.insert(n.key,n);return t}function tT(r){let t=JE;return r.forEach((n,a)=>t=t.insert(n,a.overlayedDocument)),t}function Ga(){return Hl()}function eT(){return Hl()}function Hl(){return new as(r=>r.toString(),(r,t)=>r.isEqual(t))}const XI=new se(yt.comparator),WI=new De(yt.comparator);function Mt(...r){let t=WI;for(const n of r)t=t.add(n);return t}const ZI=new De(kt);function JI(){return ZI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(t)?"-0":t}}function nT(r){return{integerValue:""+r}}function tC(r,t){return II(t)?nT(t):fp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function eC(r,t,n){return r instanceof gh?function(o,u){const f={fields:{[jE]:{stringValue:UE},[BE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lh(u)&&(u=Uh(u)),u&&(f.fields[zE]=u),{mapValue:f}}(n,t):r instanceof eu?rT(r,t):r instanceof nu?aT(r,t):function(o,u){const f=iT(o,u),m=Kv(f)+Kv(o.Ie);return xm(f)&&xm(o.Ie)?nT(m):fp(o.serializer,m)}(r,t)}function nC(r,t,n){return r instanceof eu?rT(r,t):r instanceof nu?aT(r,t):n}function iT(r,t){return r instanceof yh?function(a){return xm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class gh extends Bh{}class eu extends Bh{constructor(t){super(),this.elements=t}}function rT(r,t){const n=sT(t);for(const a of r.elements)n.some(o=>vi(o,a))||n.push(a);return{arrayValue:{values:n}}}class nu extends Bh{constructor(t){super(),this.elements=t}}function aT(r,t){let n=sT(t);for(const a of r.elements)n=n.filter(o=>!vi(o,a));return{arrayValue:{values:n}}}class yh extends Bh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Kv(r){return pe(r.integerValue||r.doubleValue)}function sT(r){return op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function iC(r,t){return r.field.isEqual(t.field)&&function(a,o){return a instanceof eu&&o instanceof eu||a instanceof nu&&o instanceof nu?ho(a.elements,o.elements,vi):a instanceof yh&&o instanceof yh?vi(a.Ie,o.Ie):a instanceof gh&&o instanceof gh}(r.transform,t.transform)}class rC{constructor(t,n){this.version=t,this.transformResults=n}}class pi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pi}static exists(t){return new pi(void 0,t)}static updateTime(t){return new pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function eh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class qh{}function oT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new dp(r.key,pi.none()):new fu(r.key,r.data,pi.none());{const n=r.data,a=Un.empty();let o=new De(He.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ss(r.key,a,new $n(o.toArray()),pi.none())}}function aC(r,t,n){r instanceof fu?function(o,u,f){const m=o.value.clone(),p=Yv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof ss?function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Yv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(lT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Fl(r,t,n,a){return r instanceof fu?function(u,f,m,p){if(!eh(u.precondition,f))return m;const g=u.value.clone(),E=Xv(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,a):r instanceof ss?function(u,f,m,p){if(!eh(u.precondition,f))return m;const g=Xv(u.fieldTransforms,p,f),E=f.data;return E.setAll(lT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,t,n,a):function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function sC(r,t){let n=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),u=iT(a.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(a.field,u))}return n||null}function Qv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ho(a,o,(u,f)=>iC(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class fu extends qh{constructor(t,n,a,o=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ss extends qh{constructor(t,n,a,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}}),t}function Yv(r,t,n){const a=new Map;$t(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);a.set(u.field,nC(f,m,n[o]))}return a}function Xv(r,t,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,eC(u,f,t))}return a}class dp extends qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oC extends qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t,n,a,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&aC(u,t,a[o])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=Fl(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=Fl(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=eT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=oT(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())}),a}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,(n,a)=>Qv(n,a))&&ho(this.baseMutations,t.baseMutations,(n,a)=>Qv(n,a))}}class mp{constructor(t,n,a,o){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(t,n,a){$t(t.mutations.length===a.length);let o=function(){return XI}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new mp(t,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,jt;function hC(r){switch(r){case J.OK:return Tt();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Tt()}}function uT(r){if(r===void 0)return nr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ee.OK:return J.OK;case Ee.CANCELLED:return J.CANCELLED;case Ee.UNKNOWN:return J.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return J.INTERNAL;case Ee.UNAVAILABLE:return J.UNAVAILABLE;case Ee.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ee.NOT_FOUND:return J.NOT_FOUND;case Ee.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ee.ABORTED:return J.ABORTED;case Ee.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ee.DATA_LOSS:return J.DATA_LOSS;default:return Tt()}}(jt=Ee||(Ee={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new ta([4294967295,4294967295],0);function Wv(r){const t=fC().encode(r),n=new IE;return n.update(t),new Uint8Array(n.digest())}function Zv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ta([n,a],0),new ta([o,u],0)]}class pp{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=ta.fromNumber(this.Ee)}Ae(t,n,a){let o=t.add(n.multiply(ta.fromNumber(a)));return o.compare(dC)===1&&(o=new ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Wv(t),[a,o]=Zv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new pp(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=Wv(t),[a,o]=Zv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,n,a,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const o=new Map;return o.set(t,du.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Hh(bt.min(),o,new se(kt),ir(),Mt())}}class du{constructor(t,n,a,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new du(a,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n,a,o){this.me=t,this.removedTargetIds=n,this.key=a,this.fe=o}}class cT{constructor(t,n){this.targetId=t,this.ge=n}}class hT{constructor(t,n,a=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=o}}class Jv{constructor(){this.pe=0,this.ye=t0(),this.we=Fe.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Mt(),n=Mt(),a=Mt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Tt()}}),new du(this.we,this.be,t,n,a)}Me(){this.Se=!1,this.ye=t0()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class mC{constructor(t){this.ke=t,this.qe=new Map,this.Qe=ir(),this.$e=$c(),this.Ke=$c(),this.Ue=new se(kt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const a=this.He(n);switch(t.state){case 0:this.Je(n)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(t.resumeToken));break;default:Tt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,a=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Mm(u))if(a===0){const f=new yt(u.path);this.ze(n,f,Xe.newNoDocument(f,bt.min()))}else $t(a===1);else{const f=this.et(n);if(f!==a){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=aa(a).toUint8Array()}catch(p){if(p instanceof LE)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new pp(f,o,u)}catch(p){return co(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,a){return n.ge.count===a-this.st(t,n.targetId)?0:2}st(t,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Mm(m.target)){const p=new yt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Xe.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=Mt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new Hh(t,n,this.Ue,this.Qe,a);return this.Qe=ir(),this.$e=$c(),this.Ke=$c(),this.Ue=new se(kt),o}Ge(t,n){if(!this.Je(t))return;const a=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Jv,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new De(kt),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new De(kt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Jv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function $c(){return new se(yt.comparator)}function t0(){return new se(yt.comparator)}const pC={asc:"ASCENDING",desc:"DESCENDING"},gC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yC={and:"AND",or:"OR"};class _C{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function km(r,t){return r.useProto3Json||Ph(t)?t:{value:t}}function _h(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function vC(r,t){return _h(r,t.toTimestamp())}function gi(r){return $t(!!r),bt.fromTimestamp(function(n){const a=ra(n);return new Ce(a.seconds,a.nanos)}(r))}function gp(r,t){return Pm(r,t).canonicalString()}function Pm(r,t){const n=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function dT(r){const t=Jt.fromString(r);return $t(_T(t)),t}function Lm(r,t){return gp(r.databaseId,t.path)}function fm(r,t){const n=dT(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(pT(n))}function mT(r,t){return gp(r.databaseId,t)}function EC(r){const t=dT(r);return t.length===4?Jt.emptyPath():pT(t)}function Um(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pT(r){return $t(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function e0(r,t,n){return{name:Lm(r,t),fields:n.value.mapValue.fields}}function TC(r,t){let n;if("targetChange"in t){t.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($t(E===void 0||typeof E=="string"),Fe.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?J.UNKNOWN:uT(g.code);return new lt(E,g.message||"")}(f);n=new hT(a,o,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=fm(r,a.document.name),u=gi(a.document.updateTime),f=a.document.createTime?gi(a.document.createTime):bt.min(),m=new Un({mapValue:{fields:a.document.fields}}),p=Xe.newFoundDocument(o,u,f,m),g=a.targetIds||[],E=a.removedTargetIds||[];n=new nh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=fm(r,a.document),u=a.readTime?gi(a.readTime):bt.min(),f=Xe.newNoDocument(o,u),m=a.removedTargetIds||[];n=new nh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=fm(r,a.document),u=a.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in t))return Tt();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new cC(o,u),m=a.targetId;n=new cT(m,f)}}return n}function bC(r,t){let n;if(t instanceof fu)n={update:e0(r,t.key,t.value)};else if(t instanceof dp)n={delete:Lm(r,t.key)};else if(t instanceof ss)n={update:e0(r,t.key,t.data),updateMask:xC(t.fieldMask)};else{if(!(t instanceof oC))return Tt();n={verify:Lm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Tt()}(0,a))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:vC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt()}(r,t.precondition)),n}function AC(r,t){return r&&r.length>0?($t(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?gi(o.updateTime):gi(u);return f.isEqual(bt.min())&&(f=gi(u)),new rC(f,o.transformResults||[])}(n,t))):[]}function SC(r,t){return{documents:[mT(r,t.path)]}}function wC(r,t){const n={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=mT(r,o);const u=function(g){if(g.length!==0)return yT(Kn.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:eo(w.field),direction:CC(w.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=km(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:n,parent:o}}function RC(r){let t=EC(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){$t(a===1);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const w=gT(A);return w instanceof Kn&&KE(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(w=>function(M){return new tu(no(M.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(A){let w;return w=typeof A=="object"?A.value:A,Ph(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(A){const w=!!A.before,I=A.values||[];return new po(I,w)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const w=!A.before,I=A.values||[];return new po(I,w)}(n.endAt)),GI(t,o,f,u,m,"F",p,g)}function IC(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function gT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=no(n.unaryFilter.field);return Te.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Te.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(r):r.fieldFilter!==void 0?function(n){return Te.create(no(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(a=>gT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt()}}(n.compositeFilter.op))}(r):Tt()}function CC(r){return pC[r]}function DC(r){return gC[r]}function NC(r){return yC[r]}function eo(r){return{fieldPath:r.canonicalString()}}function no(r){return He.fromServerFormat(r.fieldPath)}function yT(r){return r instanceof Te?function(n){if(n.op==="=="){if(qv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(Bv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(Bv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:DC(n.op),value:n.value}}}(r):r instanceof Kn?function(n){const a=n.getFilters().map(o=>yT(o));return a.length===1?a[0]:{compositeFilter:{op:NC(n.op),filters:a}}}(r):Tt()}function xC(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function _T(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,n,a,o,u=bt.min(),f=bt.min(),m=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.Tt=t}}function MC(r){const t=RC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ph(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.Tn=new kC}addToCollectionParentIndex(t,n){return this.Tn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(ia.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(ia.min())}updateCollectionGroup(t,n,a){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class kC{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n]||new De(Jt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(t){return(this.index[t]||new De(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(vT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new go(0)}static Un(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="LruGarbageCollector",PC=1048576;function r0([r,t],[n,a]){const o=kt(r,n);return o===0?kt(t,a):o}class LC{constructor(t){this.Hn=t,this.buffer=new De(r0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();r0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UC{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ht(i0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ht(i0,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.er(3e5)})}}class jC{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(a=>Math.floor(n/100*a))}nthSequenceNumber(t,n){if(n===0)return et.resolve(kh.ae);const a=new LC(n);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,n,a){return this.tr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(n0)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let a,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(a=A,m=Date.now(),this.removeTargets(t,a,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(A=>(g=Date.now(),Js()<=Ot.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function zC(r,t){return new jC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.changes=new as(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?et.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,n,a,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(a!==null&&Fl(a.mutation,o,$n.empty(),Ce.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.getLocalViewOfDocuments(t,a,Mt()).next(()=>a))}getLocalViewOfDocuments(t,n,a=Mt()){const o=Ga();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,a).next(u=>{let f=jl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const a=Ga();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,Mt()))}populateOverlays(t,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,a,o){let u=ir();const f=Hl(),m=function(){return Hl()}();return n.forEach((p,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ss)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Fl(E.mutation,g,E.mutation.getFieldMask(),Ce.now())):f.set(g.key,$n.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new qC(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,n){const a=Hl();let o=new se((f,m)=>f-m),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=a.get(p)||$n.empty();E=m.applyToLocalView(g,E),a.set(p,E);const A=(o.get(m.batchId)||Mt()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=eT();E.forEach(w=>{if(!u.has(w)){const I=oT(n.get(w),a.get(w));I!==null&&A.set(w,I),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return et.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,n,a,o){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):hp(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,o):this.getDocumentsMatchingCollectionQuery(t,n,a,o)}getNextDocuments(t,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,o-u.size):et.resolve(Ga());let m=Xl,p=u;return f.next(g=>et.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Mt())).next(E=>({batchId:m,changes:tT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(a=>{let o=jl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,a,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(t,u).next(m=>et.forEach(m,p=>{const g=function(A,w){return new rs(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next(E=>{E.forEach((A,w)=>{f=f.insert(A,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xe.newInvalidDocument(E)))});let m=jl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Fl(E.mutation,g,$n.empty(),Ce.now()),zh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return et.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}}(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:MC(o.bundledQuery),readTime:gi(o.readTime)}}(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.overlays=new se(yt.comparator),this.Rr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Ga();return et.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,n,a){return a.forEach((o,u)=>{this.Et(t,n,u)}),et.resolve()}removeOverlaysForBatchId(t,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),et.resolve()}getOverlaysForCollection(t,n,a){const o=Ga(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,a,o){let u=new se((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=Ga(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ga(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return et.resolve(m)}Et(t,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new uC(n,a));let u=this.Rr.get(n);u===void 0&&(u=Mt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.Vr=new De(Le.mr),this.gr=new De(Le.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const a=new Le(t,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,n){t.forEach(a=>this.addReference(a,n))}removeReference(t,n){this.wr(new Le(t,n))}br(t,n){t.forEach(a=>this.removeReference(a,n))}Sr(t){const n=new yt(new Jt([])),a=new Le(n,t),o=new Le(n,t+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new yt(new Jt([])),a=new Le(n,t),o=new Le(n,t+1);let u=Mt();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Le(t,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return yt.comparator(t.key,n.key)||kt(t.Cr,n.Cr)}static pr(t,n){return kt(t.Cr,n.Cr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new De(Le.mr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new lC(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Le(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?sp:this.Fr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Le(n,0),o=new Le(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const m=this.Or(f.Cr);u.push(m)}),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new De(kt);return n.forEach(o=>{const u=new Le(o,0),f=new Le(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),et.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,o=a.length+1;let u=a;yt.isDocumentKey(u)||(u=u.child(""));const f=new Le(new yt(u),0);let m=new De(kt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),et.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){$t(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return et.forEach(n.mutations,o=>{const u=new Le(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,n){const a=new Le(n,0),o=this.Mr.firstAfterOrEqual(a);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t){this.kr=t,this.docs=function(){return new se(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return et.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let a=ir();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))}),et.resolve(a)}getDocumentsMatchingQuery(t,n,a,o){let u=ir();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||AI(bI(E),a)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,a,o){Tt()}qr(t,n){return et.forEach(this.docs,a=>n(a))}newChangeBuffer(t){return new YC(this)}getSize(t){return et.resolve(this.size)}}class YC extends BC{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),et.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.persistence=t,this.Qr=new as(n=>lp(n),up),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new yp,this.targetCount=0,this.Ur=go.Kn()}forEachTarget(t,n){return this.Qr.forEach((a,o)=>n(o)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),et.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new go(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.zn(n),et.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,a){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),et.waitFor(u).next(()=>o)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const a=this.Qr.get(n)||null;return et.resolve(a)}addMatchingKeys(t,n,a){return this.Kr.yr(n,a),et.resolve()}removeMatchingKeys(t,n,a){this.Kr.br(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const a=this.Kr.vr(n);return et.resolve(a)}containsKey(t,n){return et.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new kh(0),this.zr=!1,this.zr=!0,this.jr=new $C,this.referenceDelegate=t(this),this.Hr=new XC(this),this.indexManager=new VC,this.remoteDocumentCache=function(o){return new QC(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new OC(n),this.Yr=new FC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new GC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.Wr[t.toKey()];return a||(a=new KC(n,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,a){ht("MemoryPersistence","Starting transaction:",t);const o=new WC(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return et.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,n)))}}class WC extends wI{constructor(t){super(),this.currentSequenceNumber=t}}class _p{constructor(t){this.persistence=t,this.ti=new yp,this.ni=null}static ri(t){return new _p(t)}get ii(){if(this.ni)return this.ni;throw Tt()}addReference(t,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),et.resolve()}removeReference(t,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),et.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.ii,a=>{const o=yt.fromPath(a);return this.si(t,o).next(u=>{u||n.removeEntry(o,bt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return et.or([()=>et.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class vh{constructor(t,n){this.persistence=t,this.oi=new as(a=>CI(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=zC(this,n)}static ri(t,n){return new vh(t,n)}Zr(){}Xr(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>n.next(o=>a+o))}sr(t){let n=0;return this.rr(t,a=>{n++}).next(()=>n)}rr(t,n){return et.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(u=>u?et.resolve():n(o)))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(a++,u.removeEntry(f,bt.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.oi.set(a,t.currentSequenceNumber),et.resolve()}removeReference(t,n,a){return this.oi.set(a,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),et.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Jc(t.data.value)),n}ar(t,n,a){return et.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return et.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t,n,a,o){this.targetId=t,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(t,n){let a=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vp(t,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return YR()?8:RI(We())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,a,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new ZC;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,a,o){return a.documentReadCount<this.es?(Js()<=Ot.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),et.resolve()):(Js()<=Ot.DEBUG&&ht("QueryEngine","Query:",to(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Js()<=Ot.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mi(n))):et.resolve())}rs(t,n){if($v(n))return et.resolve(null);let a=mi(n);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ph(n,null,"F"),a=mi(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const f=Mt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,a).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(t,ph(n,null,"F")):this.hs(t,g,n,p)}))})))}ss(t,n,a,o){return $v(n)||o.isEqual(bt.min())?et.resolve(null):this.ns.getDocuments(t,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?et.resolve(null):(Js()<=Ot.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.hs(t,f,n,TI(o,Xl)).next(m=>m))})}cs(t,n){let a=new De(ZE(t));return n.forEach((o,u)=>{zh(t,u)&&(a=a.add(u))}),a}ls(t,n,a,o){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,a){return Js()<=Ot.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",to(n)),this.ns.getDocumentsMatchingQuery(t,n,ia.min(),a)}hs(t,n,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="LocalStore",t2=3e8;class e2{constructor(t,n,a,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new se(kt),this.Is=new as(u=>lp(u),up),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function n2(r,t,n,a){return new e2(r,t,n,a)}async function TT(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=Mt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function i2(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,w=A.keys();let I=et.resolve();return w.forEach(M=>{I=I.next(()=>E.getEntry(p,M)).next(H=>{const P=g.docVersions.get(M);$t(P!==null),H.version.compareTo(P)<0&&(A.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),E.addEntry(H)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,a,t,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Mt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(a,o))})}function bT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function r2(r,t){const n=St(r),a=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((E,A)=>{const w=o.get(A);if(!w)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let I=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?I=I.withResumeToken(Fe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,a)),o=o.insert(A,I),function(H,P,$){return H.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=t2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(w,I,E)&&m.push(n.Hr.updateTargetData(u,I))});let p=ir(),g=Mt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(a2(u,f,t.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!a.isEqual(bt.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return et.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function a2(r,t,n){let a=Mt(),o=Mt();return n.forEach(u=>a=a.add(u)),t.getEntries(r,a).next(u=>{let f=ir();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(Ep,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function s2(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=sp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function o2(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,t).next(u=>u?(o=u,et.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new Xr(t,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(t,a.targetId)),a})}async function jm(r,t,n){const a=St(r),o=a.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!So(f))throw f;ht(Ep,`Failed to update sequence numbers for target ${t}: ${f}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function a0(r,t,n){const a=St(r);let o=bt.min(),u=Mt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=St(p),w=A.Is.get(E);return w!==void 0?et.resolve(A.Ts.get(w)):A.Hr.getTargetData(g,E)}(a,f,mi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:Mt())).next(m=>(l2(a,KI(t),m),{documents:m,gs:u})))}function l2(r,t,n){let a=r.Es.get(t)||bt.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Es.set(t,a)}class s0{constructor(){this.activeTargetIds=JI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class u2{constructor(){this.ho=new s0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,a){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new s0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="ConnectivityMonitor";class l0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ht(o0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ht(o0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function zm(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",h2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f2{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===fh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}bo(t,n,a,o,u){const f=zm(),m=this.So(t,n.toUriEncodedString());ht(dm,`Sending RPC '${t}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,a).then(g=>(ht(dm,`Received RPC '${t}' ${f}: `,g),g),g=>{throw co(dm,`RPC '${t}' ${f} failed with error: `,g,"url: ",m,"request:",a),g})}Co(t,n,a,o,u,f){return this.bo(t,n,a,o,u)}Do(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}So(t,n){const a=h2[t];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class m2 extends f2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,a,o){const u=zm();return new Promise((f,m)=>{const p=new CE;p.setWithCredentials(!0),p.listenOnce(DE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const E=p.getResponseJson();ht(Qe,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case Zc.TIMEOUT:ht(Qe,`RPC '${t}' ${u} timed out`),m(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const A=p.getStatus();if(ht(Qe,`RPC '${t}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w==null?void 0:w.error;if(I&&I.status&&I.message){const M=function(P){const $=P.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(I.status);m(new lt(M,I.message))}else m(new lt(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new lt(J.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{ht(Qe,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ht(Qe,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",g,a,15)})}Wo(t,n,a){const o=zm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=OE(),m=xE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ht(Qe,`Creating RPC '${t}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let w=!1,I=!1;const M=new d2({Fo:P=>{I?ht(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(w||(ht(Qe,`Opening RPC '${t}' stream ${o} transport.`),A.open(),w=!0),ht(Qe,`RPC '${t}' stream ${o} sending:`,P),A.send(P))},Mo:()=>A.close()}),H=(P,$,Q)=>{P.listen($,L=>{try{Q(L)}catch(W){setTimeout(()=>{throw W},0)}})};return H(A,Ul.EventType.OPEN,()=>{I||(ht(Qe,`RPC '${t}' stream ${o} transport opened.`),M.Qo())}),H(A,Ul.EventType.CLOSE,()=>{I||(I=!0,ht(Qe,`RPC '${t}' stream ${o} transport closed`),M.Ko())}),H(A,Ul.EventType.ERROR,P=>{I||(I=!0,co(Qe,`RPC '${t}' stream ${o} transport errored:`,P),M.Ko(new lt(J.UNAVAILABLE,"The operation could not be completed")))}),H(A,Ul.EventType.MESSAGE,P=>{var $;if(!I){const Q=P.data[0];$t(!!Q);const L=Q,W=(L==null?void 0:L.error)||(($=L[0])===null||$===void 0?void 0:$.error);if(W){ht(Qe,`RPC '${t}' stream ${o} received error:`,W);const nt=W.status;let st=function(S){const N=Ee[S];if(N!==void 0)return uT(N)}(nt),O=W.message;st===void 0&&(st=J.INTERNAL,O="Unknown error status: "+nt+" with message "+W.message),I=!0,M.Ko(new lt(st,O)),A.close()}else ht(Qe,`RPC '${t}' stream ${o} received:`,Q),M.Uo(Q)}}),H(m,NE.STAT_EVENT,P=>{P.stat===Dm.PROXY?ht(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):P.stat===Dm.NOPROXY&&ht(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(r){return new _C(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n,a=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="PersistentStream";class ST{constructor(t,n,a,o,u,f,m,p){this.Ti=t,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new AT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{t(()=>{const o=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,n){const a=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ht(u0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ht(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p2 extends ST{constructor(t,n,a,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=TC(this.serializer,t),a=function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?gi(f.readTime):bt.min()}(t);return this.listener.p_(n,a)}y_(t){const n={};n.database=Um(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Mm(p)?{documents:SC(u,p)}:{query:wC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=fT(u,f.resumeToken);const g=km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const g=km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const a=IC(this.serializer,t);a&&(n.labels=a),this.I_(n)}w_(t){const n={};n.database=Um(this.serializer),n.removeTarget=t,this.I_(n)}}class g2 extends ST{constructor(t,n,a,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=AC(t.writeResults,t.commitTime),a=gi(t.commitTime);return this.listener.v_(a,n)}C_(){const t={};t.database=Um(this.serializer),this.I_(t)}S_(t){const n={streamToken:this.lastStreamToken,writes:t.map(a=>bC(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{}class _2 extends y2{constructor(t,n,a,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(t,Pm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(J.UNKNOWN,u.toString())})}Co(t,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Pm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class v2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nr(n),this.N_=!1):ht("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class E2{constructor(t,n,a,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{os(this)&&(ht(Za,"Restarting streams for network reachability change."),await async function(p){const g=St(p);g.W_.add(4),await mu(g),g.j_.set("Unknown"),g.W_.delete(4),await Gh(g)}(this))})}),this.j_=new v2(a,o)}}async function Gh(r){if(os(r))for(const t of r.G_)await t(!0)}async function mu(r){for(const t of r.G_)await t(!1)}function wT(r,t){const n=St(r);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Sp(n)?Ap(n):wo(n).c_()&&bp(n,t))}function Tp(r,t){const n=St(r),a=wo(n);n.U_.delete(t),a.c_()&&RT(n,t),n.U_.size===0&&(a.c_()?a.P_():os(n)&&n.j_.set("Unknown"))}function bp(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wo(r).y_(t)}function RT(r,t){r.H_.Ne(t),wo(r).w_(t)}function Ap(r){r.H_=new mC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.j_.B_()}function Sp(r){return os(r)&&!wo(r).u_()&&r.U_.size>0}function os(r){return St(r).W_.size===0}function IT(r){r.H_=void 0}async function T2(r){r.j_.set("Online")}async function b2(r){r.U_.forEach((t,n)=>{bp(r,t)})}async function A2(r,t){IT(r),Sp(r)?(r.j_.q_(t),Ap(r)):r.j_.set("Unknown")}async function S2(r,t,n){if(r.j_.set("Online"),t instanceof hT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(a){ht(Za,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Eh(r,a)}else if(t instanceof nh?r.H_.We(t):t instanceof cT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(bt.min()))try{const a=await bT(r.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),RT(u,p);const A=new Xr(E.target,p,g,E.sequenceNumber);bp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){ht(Za,"Failed to raise snapshot:",a),await Eh(r,a)}}async function Eh(r,t,n){if(!So(t))throw t;r.W_.add(1),await mu(r),r.j_.set("Offline"),n||(n=()=>bT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ht(Za,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Gh(r)})}function CT(r,t){return t().catch(n=>Eh(r,n,t))}async function $h(r){const t=St(r),n=oa(t);let a=t.K_.length>0?t.K_[t.K_.length-1].batchId:sp;for(;w2(t);)try{const o=await s2(t.localStore,a);if(o===null){t.K_.length===0&&n.P_();break}a=o.batchId,R2(t,o)}catch(o){await Eh(t,o)}DT(t)&&NT(t)}function w2(r){return os(r)&&r.K_.length<10}function R2(r,t){r.K_.push(t);const n=oa(r);n.c_()&&n.b_&&n.S_(t.mutations)}function DT(r){return os(r)&&!oa(r).u_()&&r.K_.length>0}function NT(r){oa(r).start()}async function I2(r){oa(r).C_()}async function C2(r){const t=oa(r);for(const n of r.K_)t.S_(n.mutations)}async function D2(r,t,n){const a=r.K_.shift(),o=mp.from(a,t,n);await CT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await $h(r)}async function N2(r,t){t&&oa(r).b_&&await async function(a,o){if(function(f){return hC(f)&&f!==J.ABORTED}(o.code)){const u=a.K_.shift();oa(a).h_(),await CT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $h(a)}}(r,t),DT(r)&&NT(r)}async function c0(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),ht(Za,"RemoteStore received new credentials");const a=os(n);n.W_.add(3),await mu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Gh(n)}async function x2(r,t){const n=St(r);t?(n.W_.delete(2),await Gh(n)):t||(n.W_.add(2),await mu(n),n.j_.set("Unknown"))}function wo(r){return r.J_||(r.J_=function(n,a,o){const u=St(n);return u.M_(),new p2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:T2.bind(null,r),No:b2.bind(null,r),Lo:A2.bind(null,r),p_:S2.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Sp(r)?Ap(r):r.j_.set("Unknown")):(await r.J_.stop(),IT(r))})),r.J_}function oa(r){return r.Y_||(r.Y_=function(n,a,o){const u=St(n);return u.M_(),new g2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:I2.bind(null,r),Lo:N2.bind(null,r),D_:C2.bind(null,r),v_:D2.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await $h(r)):(await r.Y_.stop(),r.K_.length>0&&(ht(Za,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,n,a,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,o,u){const f=Date.now()+a,m=new wp(t,n,f,o,u);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rp(r,t){if(nr("AsyncQueue",`${t}: ${r}`),So(r))return new lt(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||yt.comparator(n.key,a.key):(n,a)=>yt.comparator(n.key,a.key),this.keyedMap=jl(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,a)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new ao;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.Z_=new se(yt.comparator)}track(t){const n=t.doc.key,a=this.Z_.get(n);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(n):t.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Tt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,a)=>{t.push(a)}),t}}class yo{constructor(t,n,a,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new yo(t,n,ao.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class M2{constructor(){this.queries=f0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=St(n),u=o.queries;o.queries=f0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(a)})})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function f0(){return new as(r=>WE(r),jh)}async function xT(r,t){const n=St(r);let a=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(a=2):(u=new O2,a=t.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Rp(f,`Initialization of query '${to(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Ip(n)}async function OT(r,t){const n=St(r),a=t.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function V2(r,t){const n=St(r);let a=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(a=!0);f.ea=o}}a&&Ip(n)}function k2(r,t,n){const a=St(r),o=a.queries.get(t);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(t)}function Ip(r){r.ia.forEach(t=>{t.next()})}var Bm,d0;(d0=Bm||(Bm={}))._a="default",d0.Cache="cache";class MT{constructor(t,n,a){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new yo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t){this.key=t}}class kT{constructor(t){this.key=t}}class P2{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Mt(),this.mutatedKeys=Mt(),this.ya=ZE(t),this.wa=new ao(this.ya)}get ba(){return this.fa}Sa(t,n){const a=n?n.Da:new h0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const w=o.get(E),I=zh(this.query,A)?A:null,M=!!w&&this.mutatedKeys.has(w.key),H=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;w&&I?w.data.isEqual(I.data)?M!==H&&(a.track({type:3,doc:I}),P=!0):this.va(w,I)||(a.track({type:2,doc:I}),P=!0,(p&&this.ya(I,p)>0||g&&this.ya(I,g)<0)&&(m=!0)):!w&&I?(a.track({type:0,doc:I}),P=!0):w&&!I&&(a.track({type:1,doc:w}),P=!0,(p||g)&&(m=!0)),P&&(I?(f=f.add(I),u=H?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,A)=>function(I,M){const H=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return H(I)-H(M)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(a),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new yo(this.query,t.wa,u,f,t.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new h0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Mt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return t.forEach(a=>{this.pa.has(a)||n.push(new kT(a))}),this.pa.forEach(a=>{t.has(a)||n.push(new VT(a))}),n}Oa(t){this.fa=t.gs,this.pa=Mt();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cp="SyncEngine";class L2{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class U2{constructor(t){this.key=t,this.Ba=!1}}class j2{constructor(t,n,a,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new as(m=>WE(m),jh),this.qa=new Map,this.Qa=new Set,this.$a=new se(yt.comparator),this.Ka=new Map,this.Ua=new yp,this.Wa={},this.Ga=new Map,this.za=go.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function z2(r,t,n=!0){const a=BT(r);let o;const u=a.ka.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await PT(a,t,n,!0),o}async function B2(r,t){const n=BT(r);await PT(n,t,!0,!1)}async function PT(r,t,n,a){const o=await o2(r.localStore,mi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await q2(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&wT(r.remoteStore,o),m}async function q2(r,t,n,a,o){r.Ha=(A,w,I)=>async function(H,P,$,Q){let L=P.view.Sa($);L.ls&&(L=await a0(H.localStore,P.query,!1).then(({documents:O})=>P.view.Sa(O,L)));const W=Q&&Q.targetChanges.get(P.targetId),nt=Q&&Q.targetMismatches.get(P.targetId)!=null,st=P.view.applyChanges(L,H.isPrimaryClient,W,nt);return p0(H,P.targetId,st.Ma),st.snapshot}(r,A,w,I);const u=await a0(r.localStore,t,!0),f=new P2(t,u.gs),m=f.Sa(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);p0(r,n,g.Ma);const E=new L2(t,n,f);return r.ka.set(t,E),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),g.snapshot}async function H2(r,t,n){const a=St(r),o=a.ka.get(t),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!jh(f,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Tp(a.remoteStore,o.targetId),qm(a,o.targetId)}).catch(Ao)):(qm(a,o.targetId),await jm(a.localStore,o.targetId,!0))}async function F2(r,t){const n=St(r),a=n.ka.get(t),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Tp(n.remoteStore,a.targetId))}async function G2(r,t,n){const a=Z2(r);try{const o=await function(f,m){const p=St(f),g=Ce.now(),E=m.reduce((I,M)=>I.add(M.key),Mt());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=ir(),H=Mt();return p.ds.getEntries(I,E).next(P=>{M=P,M.forEach(($,Q)=>{Q.isValidDocument()||(H=H.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,M)).next(P=>{A=P;const $=[];for(const Q of m){const L=sC(Q,A.get(Q.key).overlayedDocument);L!=null&&$.push(new ss(Q.key,L,FE(L.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,$,m)}).next(P=>{w=P;const $=P.applyToLocalDocumentSet(A,H);return p.documentOverlayCache.saveOverlays(I,P.batchId,$)})}).then(()=>({batchId:w.batchId,changes:tT(A)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new se(kt)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(a,o.batchId,n),await pu(a,o.changes),await $h(a.remoteStore)}catch(o){const u=Rp(o,"Failed to persist write");n.reject(u)}}async function LT(r,t){const n=St(r);try{const a=await r2(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$t(f.Ba):o.removedDocuments.size>0&&($t(f.Ba),f.Ba=!1))}),await pu(n,a,t)}catch(a){await Ao(a)}}function m0(r,t,n){const a=St(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=St(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const w of A.ta)w.sa(m)&&(g=!0)}),g&&Ip(p)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function $2(r,t,n){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",n);const o=a.Ka.get(t),u=o&&o.key;if(u){let f=new se(yt.comparator);f=f.insert(u,Xe.newNoDocument(u,bt.min()));const m=Mt().add(u),p=new Hh(bt.min(),new Map,new se(kt),f,m);await LT(a,p),a.$a=a.$a.remove(u),a.Ka.delete(t),Dp(a)}else await jm(a.localStore,t,!1).then(()=>qm(a,t,n)).catch(Ao)}async function K2(r,t){const n=St(r),a=t.batch.batchId;try{const o=await i2(n.localStore,t);jT(n,a,null),UT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await pu(n,o)}catch(o){await Ao(o)}}async function Q2(r,t,n){const a=St(r);try{const o=await function(f,m){const p=St(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>($t(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(a.localStore,t);jT(a,t,n),UT(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await pu(a,o)}catch(o){await Ao(o)}}function UT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function jT(r,t,n){const a=St(r);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function qm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.qa.get(t))r.ka.delete(a),n&&r.La.Ja(a,n);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(a=>{r.Ua.containsKey(a)||zT(r,a)})}function zT(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Tp(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ka.delete(n),Dp(r))}function p0(r,t,n){for(const a of n)a instanceof VT?(r.Ua.addReference(a.key,t),Y2(r,a)):a instanceof kT?(ht(Cp,"Document no longer in limbo: "+a.key),r.Ua.removeReference(a.key,t),r.Ua.containsKey(a.key)||zT(r,a.key)):Tt()}function Y2(r,t){const n=t.key,a=n.path.canonicalString();r.$a.get(n)||r.Qa.has(a)||(ht(Cp,"New document in limbo: "+n),r.Qa.add(a),Dp(r))}function Dp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new yt(Jt.fromString(t)),a=r.za.next();r.Ka.set(a,new U2(n)),r.$a=r.$a.insert(n,a),wT(r.remoteStore,new Xr(mi(cp(n.path)),a,"TargetPurposeLimboResolution",kh.ae))}}async function pu(r,t,n){const a=St(r),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{f.push(a.Ha(p,t,n).then(g=>{var E;if((g||n)&&a.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=vp.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(f),a.La.p_(o),await async function(p,g){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>et.forEach(g,w=>et.forEach(w.Hi,I=>E.persistence.referenceDelegate.addReference(A,w.targetId,I)).next(()=>et.forEach(w.Ji,I=>E.persistence.referenceDelegate.removeReference(A,w.targetId,I)))))}catch(A){if(!So(A))throw A;ht(Ep,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const I=E.Ts.get(w),M=I.snapshotVersion,H=I.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(w,H)}}}(a.localStore,u))}async function X2(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){ht(Cp,"User change. New user:",t.toKey());const a=await TT(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new lt(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await pu(n,a.Rs)}}function W2(r,t){const n=St(r),a=n.Ka.get(t);if(a&&a.Ba)return Mt().add(a.key);{let o=Mt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function BT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=W2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$2.bind(null,t),t.La.p_=V2.bind(null,t.eventManager),t.La.Ja=k2.bind(null,t.eventManager),t}function Z2(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Q2.bind(null,t),t}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return n2(this.persistence,new JC,t.initialUser,this.serializer)}Xa(t){return new ET(_p.ri,this.serializer)}Za(t){return new u2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class J2 extends Th{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){$t(this.persistence.referenceDelegate instanceof vh);const a=this.persistence.referenceDelegate.garbageCollector;return new UC(a,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new ET(a=>vh.ri(a,n),this.serializer)}}class Hm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>m0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=X2.bind(null,this.syncEngine),await x2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new M2}()}createDatastore(t){const n=Fh(t.databaseInfo.databaseId),a=function(u){return new m2(u)}(t.databaseInfo);return function(u,f,m,p){return new _2(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return function(a,o,u,f,m){return new E2(a,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>m0(this.syncEngine,n,0),function(){return l0.D()?new l0:new c2}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const A=new j2(o,u,f,m,p,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=St(o);ht(Za,"RemoteStore shutting down."),u.W_.add(5),await mu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class tD{constructor(t,n,a,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=VE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ht(la,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ht(la,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=Rp(n,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function pm(r,t){r.asyncQueue.verifyOperationInProgress(),ht(la,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await TT(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function g0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await eD(r);ht(la,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(a=>c0(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>c0(t.remoteStore,o)),r._onlineComponents=t}async function eD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(la,"Using user provided OfflineComponentProvider");try{await pm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await pm(r,new Th)}}else ht(la,"Using default OfflineComponentProvider"),await pm(r,new J2(void 0));return r._offlineComponents}async function HT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(la,"Using user provided OnlineComponentProvider"),await g0(r,r._uninitializedComponentsProvider._online)):(ht(la,"Using default OnlineComponentProvider"),await g0(r,new Hm))),r._onlineComponents}function nD(r){return HT(r).then(t=>t.syncEngine)}async function FT(r){const t=await HT(r),n=t.eventManager;return n.onListen=z2.bind(null,t.syncEngine),n.onUnlisten=H2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=B2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=F2.bind(null,t.syncEngine),n}function iD(r,t,n={}){const a=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new qT({next:w=>{E.su(),f.enqueueAndForget(()=>OT(u,A));const I=w.docs.has(m);!I&&w.fromCache?g.reject(new lt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&p&&p.source==="server"?g.reject(new lt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new MT(cp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return xT(u,A)}(await FT(r),r.asyncQueue,t,n,a)),a.promise}function rD(r,t,n={}){const a=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new qT({next:w=>{E.su(),f.enqueueAndForget(()=>OT(u,A)),w.fromCache&&p.source==="server"?g.reject(new lt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new MT(m,E,{includeMetadataChanges:!0,Ta:!0});return xT(u,A)}(await FT(r),r.asyncQueue,t,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r,t,n){if(!n)throw new lt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function aD(r,t,n,a){if(t===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function _0(r){if(!yt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function v0(r){if(yt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt()}function Ja(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firestore.googleapis.com",E0=!0;class T0{constructor(t){var n,a;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KT,this.ssl=E0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:E0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PC)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GT((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qh{constructor(t,n,a,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new dI;switch(a.type){case"firstParty":return new yI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=y0.get(n);a&&(ht("ComponentProvider","Removing Datastore"),y0.delete(n),a.terminate())}(this),Promise.resolve()}}function sD(r,t,n,a={}){var o;const u=(r=Ja(r,Qh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==KT&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!Ya(p,f)&&(r._setSettings(p),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=Ye.MOCK_USER;else{g=qR(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ye(A)}r._authCredentials=new mI(new ME(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new sr(this.firestore,t,this._query)}}class vn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vn(this.firestore,t,this._key)}}class ea extends sr{constructor(t,n,a){super(t,n,cp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vn(this.firestore,null,new yt(t))}withConverter(t){return new ea(this.firestore,t,this._path)}}function $a(r,t,...n){if(r=Ze(r),$T("collection","path",t),r instanceof Qh){const a=Jt.fromString(t,...n);return v0(a),new ea(r,null,a)}{if(!(r instanceof vn||r instanceof ea))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Jt.fromString(t,...n));return v0(a),new ea(r.firestore,null,a)}}function Np(r,t,...n){if(r=Ze(r),arguments.length===1&&(t=VE.newId()),$T("doc","path",t),r instanceof Qh){const a=Jt.fromString(t,...n);return _0(a),new vn(r,null,new yt(a))}{if(!(r instanceof vn||r instanceof ea))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Jt.fromString(t,...n));return _0(a),new vn(r.firestore,r instanceof ea?r.converter:null,new yt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="AsyncQueue";class A0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new AT(this,"async_queue_retry"),this.bu=()=>{const a=mm();a&&ht(b0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=t;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Zi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!So(t))throw t;ht(b0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw nr("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(t,n,a){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=wp.createAndSchedule(this,t,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Tt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class gu extends Qh{constructor(t,n,a,o){super(t,n,a,o),this.type="firestore",this._queue=new A0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new A0(t),this._firestoreClient=void 0,await t}}}function oD(r,t){const n=typeof r=="object"?r:SE(),a=typeof r=="string"?r:fh,o=rp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=zR("firestore");u&&sD(o,...u)}return o}function xp(r){if(r._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lD(r),r._firestoreClient}function lD(r){var t,n,a;const o=r._freezeSettings(),u=function(m,p,g,E){return new xI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,GT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new tD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _o(Fe.fromBase64String(t))}catch(n){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new _o(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^__.*__$/;class cD{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new ss(t,this.data,this.fieldMask,n,this.fieldTransforms):new fu(t,this.data,n,this.fieldTransforms)}}function YT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class kp{constructor(t,n,a,o,u,f){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new kp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Ku(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return bh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(YT(this.Lu)&&uD.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class hD{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Fh(t)}ju(t,n,a,o=!1){return new kp({Lu:t,methodName:n,zu:a,path:He.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pp(r){const t=r._freezeSettings(),n=Fh(r._databaseId);return new hD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function fD(r,t,n,a,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);JT("Data must be an object, but it was:",f,a);const m=WT(a,f);let p,g;if(u.merge)p=new $n(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=dD(t,A,n);if(!f.contains(w))throw new lt(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);pD(E,w)||E.push(w)}p=new $n(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new cD(new Un(m),p,g)}function XT(r,t,n,a=!1){return Lp(n,r.ju(a?4:3,t))}function Lp(r,t){if(ZT(r=Ze(r)))return JT("Unsupported field value:",t,r),WT(r,t);if(r instanceof QT)return function(a,o){if(!YT(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=Lp(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(a,o){if((a=Ze(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ce.fromDate(a);return{timestampValue:_h(o.serializer,u)}}if(a instanceof Ce){const u=new Ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(a instanceof Mp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof _o)return{bytesValue:fT(o.serializer,a._byteString)};if(a instanceof vn){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Vp)return function(f,m){return{mapValue:{fields:{[qE]:{stringValue:HE},[dh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return fp(m.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Kh(a)}`)}(r,t)}function WT(r,t){const n={};return PE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(r,(a,o)=>{const u=Lp(o,t.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function ZT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ce||r instanceof Mp||r instanceof _o||r instanceof vn||r instanceof QT||r instanceof Vp)}function JT(r,t,n){if(!ZT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Kh(n);throw a==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+a)}}function dD(r,t,n){if((t=Ze(t))instanceof Op)return t._internalPath;if(typeof t=="string")return tb(r,t);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const mD=new RegExp("[~\\*/\\[\\]]");function tb(r,t,n){if(t.search(mD)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Op(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,t,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new lt(J.INVALID_ARGUMENT,m+r+p)}function pD(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n,a,o,u){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(jp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gD extends Up{data(){return super.data()}}function jp(r,t){return typeof t=="string"?tb(r,t):t instanceof Op?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zp{}class Yh extends zp{}function S0(r,t,...n){let a=[];t instanceof zp&&a.push(t),a=a.concat(n),function(u){const f=u.filter(p=>p instanceof qp).length,m=u.filter(p=>p instanceof Bp).length;if(f>1||f>0&&m>0)throw new lt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Bp extends Yh{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new Bp(t,n,a)}_apply(t){const n=this._parse(t);return eb(t._query,n),new sr(t.firestore,t.converter,Vm(t._query,n))}_parse(t){const n=Pp(t.firestore);return function(u,f,m,p,g,E,A){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){C0(A,E);const M=[];for(const H of A)M.push(I0(p,u,H));w={arrayValue:{values:M}}}else w=I0(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||C0(A,E),w=XT(m,f,A,E==="in"||E==="not-in");return Te.create(g,E,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class qp extends zp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new qp(t,n)}_parse(t){const n=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)eb(f,p),f=Vm(f,p)}(t._query,n),new sr(t.firestore,t.converter,Vm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hp extends Yh{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Hp(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new lt(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,f)}(t._query,this._field,this._direction);return new sr(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new rs(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function w0(r,t="asc"){const n=t,a=jp("orderBy",r);return Hp._create(a,n)}class Fp extends Yh{constructor(t,n,a){super(),this.type=t,this._limit=n,this._limitType=a}static _create(t,n,a){return new Fp(t,n,a)}_apply(t){return new sr(t.firestore,t.converter,ph(t._query,this._limit,this._limitType))}}function R0(r){return Fp._create("limit",r,"F")}class Gp extends Yh{constructor(t,n,a){super(),this.type=t,this._docOrFields=n,this._inclusive=a}static _create(t,n,a){return new Gp(t,n,a)}_apply(t){const n=vD(t,this.type,this._docOrFields,this._inclusive);return new sr(t.firestore,t.converter,function(o,u){return new rs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(t._query,n))}}function _D(...r){return Gp._create("startAfter",r,!1)}function vD(r,t,n,a){if(n[0]=Ze(n[0]),n[0]instanceof Up)return function(u,f,m,p,g){if(!p)throw new lt(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const E=[];for(const A of ro(u))if(A.field.isKeyField())E.push(mh(f,p.key));else{const w=p.data.field(A.field);if(Lh(w))throw new lt(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const I=A.field.canonicalString();throw new lt(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}E.push(w)}return new po(E,g)}(r._query,r.firestore._databaseId,t,n[0]._document,a);{const o=Pp(r.firestore);return function(f,m,p,g,E,A){const w=f.explicitOrderBy;if(E.length>w.length)throw new lt(J.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let M=0;M<E.length;M++){const H=E[M];if(w[M].field.isKeyField()){if(typeof H!="string")throw new lt(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof H}`);if(!hp(f)&&H.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${H}' contains a slash.`);const P=f.path.child(Jt.fromString(H));if(!yt.isDocumentKey(P))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const $=new yt(P);I.push(mh(m,$))}else{const P=XT(p,g,H);I.push(P)}}return new po(I,A)}(r._query,r.firestore._databaseId,o,t,n,a)}}function I0(r,t,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new lt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hp(t)&&n.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(Jt.fromString(n));if(!yt.isDocumentKey(a))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return mh(r,new yt(a))}if(n instanceof vn)return mh(r,n._key);throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function C0(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eb(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ED{convertValue(t,n="none"){switch(sa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(aa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return is(t,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(t){var n,a,o;const u=(o=(a=(n=t.fields)===null||n===void 0?void 0:n[dh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new Vp(u)}convertGeoPoint(t){return new Mp(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Uh(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Wl(t));default:return null}}convertTimestamp(t){const n=ra(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=Jt.fromString(t);$t(_T(a));const o=new Zl(a.get(1),a.get(3)),u=new yt(a.popFirst(5));return o.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(r,t,n){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nb extends Up{constructor(t,n,a,o,u,f){super(t,n,a,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(jp("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class ih extends nb{data(t={}){return super.data(t)}}class bD{constructor(t,n,a,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(a=>{t.call(n,new ih(this._firestore,this._userDataWriter,a.key,a,new Bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:AD(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(r){r=Ja(r,vn);const t=Ja(r.firestore,gu);return iD(xp(t),r._key).then(n=>ID(t,r,n))}class ib extends ED{constructor(t){super(),this.firestore=t}convertBytes(t){return new _o(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function Gl(r){r=Ja(r,sr);const t=Ja(r.firestore,gu),n=xp(t),a=new ib(t);return yD(r._query),rD(n,r._query).then(o=>new bD(t,a,r,o))}function wD(r){return rb(Ja(r.firestore,gu),[new dp(r._key,pi.none())])}function RD(r,t){const n=Ja(r.firestore,gu),a=Np(r),o=TD(r.converter,t);return rb(n,[fD(Pp(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,pi.exists(!1))]).then(()=>a)}function rb(r,t){return function(a,o){const u=new Zi;return a.asyncQueue.enqueueAndForget(async()=>G2(await nD(a),o,u)),u.promise}(xp(r),t)}function ID(r,t,n){const a=n.docs.get(t._key),o=new ib(r);return new nb(r,o,t._key,a,new Bl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){bo=o})(To),uo(new Xa("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new gu(new pI(a.getProvider("auth-internal")),new _I(f,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Jr(Nv,xv,t),Jr(Nv,xv,"esm2017")})();var CD="firebase",DD="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(CD,DD,"app");function $p(r,t){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ND=ab,sb=new cu("auth","Firebase",ab());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new np("@firebase/auth");function xD(r,...t){Ah.logLevel<=Ot.WARN&&Ah.warn(`Auth (${To}): ${r}`,...t)}function rh(r,...t){Ah.logLevel<=Ot.ERROR&&Ah.error(`Auth (${To}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...t){throw Kp(r,...t)}function yi(r,...t){return Kp(r,...t)}function ob(r,t,n){const a=Object.assign(Object.assign({},ND()),{[t]:n});return new cu("auth","Firebase",a).create(t,{appName:r.name})}function Ji(r){return ob(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return sb.create(r,...t)}function Et(r,t,...n){if(!r)throw Kp(t,...n)}function Qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw rh(t),new Error(t)}function rr(r,t){r||Qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function OD(){return D0()==="http:"||D0()==="https:"}function D0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OD()||$R()||"connection"in navigator)?navigator.onLine:!0}function VD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n){this.shortDelay=t,this.longDelay=n,rr(n>t,"Short delay should be less than long delay!"),this.isMobile=HR()||KR()}get(){return MD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r,t){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new yu(3e4,6e4);function ca(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function ha(r,t,n,a,o={}){return ub(r,o,async()=>{let u={},f={};a&&(t==="GET"?f=a:u={body:JSON.stringify(a)});const m=hu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return GR()||(g.referrerPolicy="no-referrer"),lb.fetch()(cb(r,r.config.apiHost,n,m),g)})}async function ub(r,t,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},kD),t);try{const o=new UD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Qc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Qc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Qc(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ob(r,E,g);Qn(r,E)}}catch(o){if(o instanceof ar)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function _u(r,t,n,a,o={}){const u=await ha(r,t,n,a,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function cb(r,t,n,a){const o=`${t}${n}?${a}`;return r.config.emulator?Qp(r.config,o):`${r.config.apiScheme}://${o}`}function LD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(yi(this.auth,"network-request-failed")),PD.get())})}}function Qc(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=yi(r,t,a);return o.customData._tokenResponse=n,o}function N0(r){return r!==void 0&&r.enterprise!==void 0}class jD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return LD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zD(r,t){return ha(r,"GET","/v2/recaptchaConfig",ca(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(r,t){return ha(r,"POST","/v1/accounts:delete",t)}async function hb(r,t){return ha(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qD(r,t=!1){const n=Ze(r),a=await n.getIdToken(t),o=Yp(a);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:$l(gm(o.auth_time)),issuedAtTime:$l(gm(o.iat)),expirationTime:$l(gm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gm(r){return Number(r)*1e3}function Yp(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=yE(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function x0(r){const t=Yp(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof ar&&HD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function HD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(r){var t;const n=r.auth,a=await r.getIdToken(),o=await iu(r,hb(n,{idToken:a}));Et(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?fb(u.providerUserInfo):[],m=$D(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Gm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function GD(r){const t=Ze(r);await Sh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $D(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function fb(r){return r.map(t=>{var{providerId:n}=t,a=$p(t,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(r,t){const n=await ub(r,{},async()=>{const a=hu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=cb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",lb.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QD(r,t){return ha(r,"POST","/v2/accounts:revokeToken",ca(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):x0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=x0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await KD(t,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new so;return a&&(Et(typeof a=="string","internal-error",{appName:t}),f.refreshToken=a),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Yi{constructor(t){var{uid:n,auth:a,stsTokenManager:o}=t,u=$p(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await iu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return qD(this,t)}reload(){return GD(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Yi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await iu(this,BD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var a,o,u,f,m,p,g,E;const A=(a=n.displayName)!==null&&a!==void 0?a:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,I=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(m=n.tenantId)!==null&&m!==void 0?m:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Q=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:L,emailVerified:W,isAnonymous:nt,providerData:st,stsTokenManager:O}=n;Et(L&&O,t,"internal-error");const R=so.fromJSON(this.name,O);Et(typeof L=="string",t,"internal-error"),Fr(A,t.name),Fr(w,t.name),Et(typeof W=="boolean",t,"internal-error"),Et(typeof nt=="boolean",t,"internal-error"),Fr(I,t.name),Fr(M,t.name),Fr(H,t.name),Fr(P,t.name),Fr($,t.name),Fr(Q,t.name);const S=new Yi({uid:L,auth:t,email:w,emailVerified:W,displayName:A,isAnonymous:nt,photoURL:M,phoneNumber:I,tenantId:H,stsTokenManager:R,createdAt:$,lastLoginAt:Q});return st&&Array.isArray(st)&&(S.providerData=st.map(N=>Object.assign({},N))),P&&(S._redirectEventId=P),S}static async _fromIdTokenResponse(t,n,a=!1){const o=new so;o.updateFromServerResponse(n);const u=new Yi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Sh(u),u}static async _fromGetAccountInfoResponse(t,n,a){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new so;m.updateFromIdToken(a);const p=new Yi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;function Xi(r){rr(r instanceof Function,"Expected a class definition");let t=O0.get(r);return t?(rr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,O0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}db.type="NONE";const M0=db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r,t,n){return`firebase:${r}:${t}:${n}`}class oo{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Yi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new oo(Xi(M0),t,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Xi(M0);const f=ah(a,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){const A=Yi._fromJSON(t,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,t,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new oo(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vb(t))return"Blackberry";if(Eb(t))return"Webos";if(pb(t))return"Safari";if((t.includes("chrome/")||gb(t))&&!t.includes("edge/"))return"Chrome";if(_b(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function mb(r=We()){return/firefox\//i.test(r)}function pb(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gb(r=We()){return/crios\//i.test(r)}function yb(r=We()){return/iemobile/i.test(r)}function _b(r=We()){return/android/i.test(r)}function vb(r=We()){return/blackberry/i.test(r)}function Eb(r=We()){return/webos/i.test(r)}function Xp(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function YD(r=We()){var t;return Xp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function XD(){return QR()&&document.documentMode===10}function Tb(r=We()){return Xp(r)||_b(r)||Eb(r)||vb(r)||/windows phone/i.test(r)||yb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(r,t=[]){let n;switch(r){case"Browser":n=V0(We());break;case"Worker":n=`${V0(We())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(r,t={}){return ha(r,"GET","/v2/passwordPolicy",ca(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=6;class tN{constructor(t){var n,a,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:JD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,a,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t,n,a,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k0(this),this.idTokenSubscription=new k0(this),this.beforeStateQueue=new WD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await oo.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await hb(this,{idToken:t}),a=await Yi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ln(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Sh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Ji(this));const n=t?Ze(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZD(this),n=new tN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new cu("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await QD(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Xi(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&xD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ls(r){return Ze(r)}class k0{constructor(t){this.auth=t,this.observer=null,this.addObserver=n1(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nN(r){Xh=r}function Ab(r){return Xh.loadJS(r)}function iN(){return Xh.recaptchaEnterpriseScript}function rN(){return Xh.gapiScript}function aN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class sN{constructor(){this.enterprise=new oN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class oN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const lN="recaptcha-enterprise",Sb="NO_RECAPTCHA";class uN{constructor(t){this.type=lN,this.auth=ls(t)}async verify(t="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{zD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new jD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;N0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(Sb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&N0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=iN();p.length!==0&&(p+=m),Ab(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function P0(r,t,n,a=!1,o=!1){const u=new uN(r);let f;if(o)f=Sb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function $m(r,t,n,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await P0(r,t,n,n==="getOobCode");return a(r,f)}else return a(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await P0(r,t,n,n==="getOobCode");return a(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(r,t){const n=rp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ya(u,t??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:t})}function hN(r,t){const n=(t==null?void 0:t.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Xi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function fN(r,t,n){const a=ls(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=wb(t),{host:f,port:m}=dN(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(Ya(g,a.config.emulator)&&Ya(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,mN()}function wb(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function dN(r){const t=wb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:L0(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:L0(f)}}}function L0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function mN(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,n){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function pN(r,t){return ha(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(r,t){return _u(r,"POST","/v1/accounts:signInWithPassword",ca(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(r,t){return _u(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,t))}async function _N(r,t){return _u(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Wp{constructor(t,n,a,o=null){super("password",a),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new ru(t,n,"password")}static _fromEmailAndCode(t,n,a=null){return new ru(t,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(t,n,"signInWithPassword",gN);case"emailLink":return yN(t,{email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(t,a,"signUpPassword",pN);case"emailLink":return _N(t,{idToken:n,email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r,t){return _u(r,"POST","/v1/accounts:signInWithIdp",ca(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="http://localhost";class ts extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ts(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o}=n,u=$p(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new ts(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return lo(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,lo(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,lo(t,n)}buildRequest(){const t={requestUri:vN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=hu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TN(r){const t=Pl(Ll(r)).link,n=t?Pl(Ll(t)).deep_link_id:null,a=Pl(Ll(r)).deep_link_id;return(a?Pl(Ll(a)).link:null)||a||n||t||r}class Zp{constructor(t){var n,a,o,u,f,m;const p=Pl(Ll(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,A=EN((o=p.mode)!==null&&o!==void 0?o:null);Et(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=TN(t);try{return new Zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(t,n){return ru._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const a=Zp.parseLink(n);return Et(a,"argument-error"),ru._fromEmailAndCode(t,a.code,a.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Rb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends vu{constructor(){super("facebook.com")}static credential(t){return ts._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $r.credential(t.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ts._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Kr.credential(n,a)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends vu{constructor(){super("github.com")}static credential(t){return ts._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends vu{constructor(){super("twitter.com")}static credential(t,n){return ts._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Yr.credential(n,a)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(r,t){return _u(r,"POST","/v1/accounts:signUp",ca(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,o=!1){const u=await Yi._fromIdTokenResponse(t,a,o),f=U0(a);return new es({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const o=U0(a);return new es({user:t,providerId:o,_tokenResponse:a,operationType:n})}}function U0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends ar{constructor(t,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,o){return new wh(t,n,a,o)}}function Ib(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,u,t,a):u})}async function AN(r,t,n=!1){const a=await iu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return es._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(r,t,n=!1){const{auth:a}=r;if(Ln(a.app))return Promise.reject(Ji(a));const o="reauthenticate";try{const u=await iu(r,Ib(a,o,t,r),n);Et(u.idToken,a,"internal-error");const f=Yp(u.idToken);Et(f,a,"internal-error");const{sub:m}=f;return Et(r.uid===m,a,"user-mismatch"),es._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(r,t,n=!1){if(Ln(r.app))return Promise.reject(Ji(r));const a="signIn",o=await Ib(r,a,t),u=await es._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function wN(r,t){return Cb(ls(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(r){const t=ls(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function RN(r,t,n){if(Ln(r.app))return Promise.reject(Ji(r));const a=ls(r),f=await $m(a,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Db(r),p}),m=await es._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function IN(r,t,n){return Ln(r.app)?Promise.reject(Ji(r)):wN(Ze(r),Ro.credential(t,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Db(r),a})}function CN(r,t,n,a){return Ze(r).onIdTokenChanged(t,n,a)}function DN(r,t,n){return Ze(r).beforeAuthStateChanged(t,n)}function NN(r,t,n,a){return Ze(r).onAuthStateChanged(t,n,a)}function xN(r){return Ze(r).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=1e3,MN=10;class xb extends Nb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&t(n,o,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);XD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,MN):o()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}xb.type="LOCAL";const VN=xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends Nb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Ob.type="SESSION";const Mb=Ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const a=new Wh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await kN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function LN(r){_i().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function UN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zN(){return Vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebaseLocalStorageDb",BN=1,Ih="firebaseLocalStorage",Pb="fbase_key";class Eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(r,t){return r.transaction([Ih],t?"readwrite":"readonly").objectStore(Ih)}function qN(){const r=indexedDB.deleteDatabase(kb);return new Eu(r).toPromise()}function Km(){const r=indexedDB.open(kb,BN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Ih,{keyPath:Pb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Ih)?t(a):(a.close(),await qN(),t(await Km()))})})}async function j0(r,t,n){const a=Zh(r,!0).put({[Pb]:t,value:n});return new Eu(a).toPromise()}async function HN(r,t){const n=Zh(r,!1).get(t),a=await new Eu(n).toPromise();return a===void 0?null:a.value}function z0(r,t){const n=Zh(r,!0).delete(t);return new Eu(n).toPromise()}const FN=800,GN=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>GN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(zN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await UN(),!this.activeServiceWorker)return;this.sender=new PN(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Km();return await j0(t,Rh,"1"),await z0(t,Rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>j0(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>HN(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>z0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Zh(o,!1).getAll();return new Eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const $N=Lb;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(r,t){return t?Xi(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Wp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return lo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return lo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function QN(r){return Cb(r.auth,new tg(r),r.bypassAuthState)}function YN(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),SN(n,new tg(r),r.bypassAuthState)}async function XN(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),AN(n,new tg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,n,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QN;case"linkViaPopup":case"linkViaRedirect":return XN;case"reauthViaPopup":case"reauthViaRedirect":return YN;default:Qn(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new yu(2e3,1e4);class io extends Ub{constructor(t,n,a,o,u){super(t,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WN.get())};t()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="pendingRedirect",sh=new Map;class JN extends Ub{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=sh.get(this.auth._key());if(!t){try{const a=await tx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}sh.set(this.auth._key(),t)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tx(r,t){const n=ix(t),a=nx(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function ex(r,t){sh.set(r._key(),t)}function nx(r){return Xi(r._redirectPersistence)}function ix(r){return ah(ZN,r.config.apiKey,r.name)}async function rx(r,t,n=!1){if(Ln(r.app))return Promise.reject(Ji(r));const a=ls(r),o=KN(a,t),f=await new JN(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=10*60*1e3;class sx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ox(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var a;if(t.error&&!jb(t)){const o=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ax&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(t))}saveEventToCache(t){this.cachedEventUids.add(B0(t)),this.lastProcessedEventTime=Date.now()}}function B0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function jb({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ox(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(r,t={}){return ha(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cx=/^https?/;async function hx(r){if(r.config.emulator)return;const{authorizedDomains:t}=await lx(r);for(const n of t)try{if(fx(n))return}catch{}Qn(r,"unauthorized-domain")}function fx(r){const t=Fm(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!cx.test(n))return!1;if(ux.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new yu(3e4,6e4);function q0(){const r=_i().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mx(r){return new Promise((t,n)=>{var a,o,u;function f(){q0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{q0(),n(yi(r,"network-request-failed"))},timeout:dx.get()})}if(!((o=(a=_i().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=_i().gapi)===null||u===void 0)&&u.load)f();else{const m=aN("iframefcb");return _i()[m]=()=>{gapi.load?f():n(yi(r,"network-request-failed"))},Ab(`${rN()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw oh=null,t})}let oh=null;function px(r){return oh=oh||mx(r),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new yu(5e3,15e3),yx="__/auth/iframe",_x="emulator/auth/iframe",vx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ex=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tx(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Qp(t,_x):`https://${r.config.authDomain}/${yx}`,a={apiKey:t.apiKey,appName:r.name,v:To},o=Ex.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${hu(a).slice(1)}`}async function bx(r){const t=await px(r),n=_i().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:Tx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vx,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=yi(r,"network-request-failed"),m=_i().setTimeout(()=>{u(f)},gx.get());function p(){_i().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sx=500,wx=600,Rx="_blank",Ix="http://localhost";class H0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cx(r,t,n,a=Sx,o=wx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Ax),{width:a.toString(),height:o.toString(),top:u,left:f}),g=We().toLowerCase();n&&(m=gb(g)?Rx:n),mb(g)&&(t=t||Ix,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[I,M])=>`${w}${I}=${M},`,"");if(YD(g)&&m!=="_self")return Dx(t||"",m),new H0(null);const A=window.open(t||"",m,E);Et(A,r,"popup-blocked");try{A.focus()}catch{}return new H0(A)}function Dx(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__/auth/handler",xx="emulator/auth/handler",Ox=encodeURIComponent("fac");async function F0(r,t,n,a,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:To,eventId:o};if(t instanceof Rb){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",e1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof vu){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${Ox}=${encodeURIComponent(p)}`:"";return`${Mx(r)}?${hu(m).slice(1)}${g}`}function Mx({config:r}){return r.emulator?Qp(r,xx):`https://${r.authDomain}/${Nx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class Vx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mb,this._completeRedirectFn=rx,this._overrideRedirectResult=ex}async _openPopup(t,n,a,o){var u;rr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await F0(t,n,a,Fm(),o);return Cx(t,f,Jp())}async _openRedirect(t,n,a,o){await this._originValidation(t);const u=await F0(t,n,a,Fm(),o);return LN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await bx(t),a=new sx(t);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ym,{type:ym},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ym];f!==void 0&&n(!!f),Qn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hx(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tb()||pb()||Xp()}}const kx=Vx;var G0="@firebase/auth",$0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ux(r){uo(new Xa("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(r)},g=new eN(a,o,u,p);return hN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),uo(new Xa("auth-internal",t=>{const n=ls(t.getProvider("auth").getImmediate());return(a=>new Px(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(G0,$0,Lx(r)),Jr(G0,$0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=5*60,zx=EE("authIdTokenMaxAge")||jx;let K0=null;const Bx=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>zx)return;const o=n==null?void 0:n.token;K0!==o&&(K0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qx(r=SE()){const t=rp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=cN(r,{popupRedirectResolver:kx,persistence:[$N,VN,Mb]}),a=EE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=Bx(u.toString());DN(n,f,()=>f(n.currentUser)),CN(n,m=>f(m))}}const o=_E("auth");return o&&fN(n,`http://${o}`),n}function Hx(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}nN({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const u=yi("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",Hx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ux("Browser");const Fx={apiKey:"AIzaSyA0fiGGAPDwRC-tTvQLzP_p1ckM3qWBie8",authDomain:"tienda-online-45d1c.firebaseapp.com",projectId:"tienda-online-45d1c",storageBucket:"tienda-online-45d1c.firebasestorage.app",messagingSenderId:"99161079417",appId:"1:99161079417:web:5fca3cb0ae9b3525921ea8"},zb=AE(Fx),Ki=oD(zb),Yc=qx(zb);function Gx(){const[r,t]=q.useState([]),[n,a]=q.useState(!0),[o,u]=q.useState(null),[f,m]=q.useState(!0),{agregarAlCarrito:p}=q.useContext(uu),g=8,E=async(I=!1)=>{try{let M;if(!I)M=S0($a(Ki,"productos"),w0("nombre"),R0(g));else{if(!o)return;M=S0($a(Ki,"productos"),w0("nombre"),_D(o),R0(g))}const H=await Gl(M);if(H.empty){m(!1);return}const P=H.docs.map($=>({id:$.id,...$.data()}));u(H.docs[H.docs.length-1]),t(I?$=>[...$,...P]:P)}catch(M){console.error("Error:",M)}finally{a(!1)}};q.useEffect(()=>{E()},[]);const A=()=>{!n&&f&&(a(!0),E(!0))},w=I=>{p({...I,cantidad:1}),xt.success("¡Producto agregado!",{description:`${I.nombre} - $${I.precio}`,duration:2e3,icon:"🛍️"})};return C.jsxs("div",{children:[C.jsx("h1",{className:"products-title",children:"Productos"}),C.jsx("div",{className:"product-grid",children:r.map(I=>{var M;return C.jsxs("div",{className:"product-card",children:[C.jsxs(hn,{to:`/producto/${I.id}`,children:[C.jsx("img",{src:((M=I.imagenes)==null?void 0:M[0])||I.imagen,alt:I.nombre,onError:H=>{var P;console.log("Error cargando imagen:",(P=I.imagenes)==null?void 0:P[0]),H.target.src="ruta/a/imagen/por/defecto.jpg"}}),C.jsxs("div",{className:"product-info",children:[C.jsx("h3",{children:I.nombre}),C.jsxs("p",{className:"price",children:["$",I.precio]})]})]}),C.jsx("button",{className:"add-to-cart",onClick:()=>w(I),children:"Agregar al carrito"})]},I.id)})}),f&&C.jsx("div",{className:"load-more",children:C.jsx("button",{onClick:A,disabled:n,className:"load-more-button",children:n?"Cargando...":"Cargar más productos"})})]})}function $x(){return C.jsxs(C.Fragment,{children:[C.jsx(NR,{}),C.jsx(xR,{}),C.jsx(Gx,{})]})}function Kx(){const{carrito:r,eliminarDelCarrito:t,actualizarCantidad:n,limpiarCarrito:a}=q.useContext(uu),[o,u]=q.useState(!1),[f,m]=q.useState({nombre:"",telefono:"",direccion:"",comentarios:""}),p=()=>f.nombre.trim()?f.telefono.trim()?f.direccion.trim()?!0:(xt.error("Por favor ingresa tu dirección"),!1):(xt.error("Por favor ingresa tu teléfono"),!1):(xt.error("Por favor ingresa tu nombre"),!1),g=r.reduce((I,M)=>I+M.precio*M.cantidad,0),E=I=>{const{name:M,value:H}=I.target;m(P=>({...P,[M]:H}))},A=(I,M,H)=>{window.confirm("¿Estás seguro de que deseas eliminar este producto del carrito?")&&(t(I,M,H),xt.info("Producto eliminado del carrito",{icon:"🗑️"}))},w=I=>{if(I.preventDefault(),!!p()&&window.confirm("¿Estás seguro de enviar el pedido? Verifica que todos los datos sean correctos.")){const M=`¡Hola! Me gustaría hacer el siguiente pedido:

${r.map(H=>`- ${H.nombre}
  Cantidad: ${H.cantidad}
  Color: ${H.colorSeleccionado||"No especificado"}
  Talla: ${H.tallaSeleccionada||"No especificada"}
  Precio unitario: $${H.precio}
  Subtotal: $${(H.precio*H.cantidad).toFixed(2)}`).join(`

`)}

Total del pedido: $${g.toFixed(2)}

Datos de envío:
Nombre: ${f.nombre}
Teléfono: ${f.telefono}
Dirección: ${f.direccion}
Comentarios adicionales: ${f.comentarios||"Ninguno"}`;window.open(`https://wa.me/+5511949749057?text=${encodeURIComponent(M)}`),a(),u(!1),xt.success("¡Gracias por tu compra!",{description:"Tu pedido ha sido enviado",icon:"✨"})}};return r.length===0?C.jsxs("div",{className:"carrito-vacio",children:[C.jsx("h2",{children:"Tu carrito está vacío"}),C.jsx("p",{children:"¡Agrega algunos productos!"}),C.jsx(hn,{to:"/",children:"Ir a comprar"})]}):C.jsxs("div",{className:"container-carrito",children:[r.map(I=>C.jsxs("div",{className:"producto-in-carrito",children:[C.jsx("div",{className:"producto-in-carrito-img",children:C.jsx("img",{src:Array.isArray(I.imagenes)?I.imagenes[0]:I.imagen,alt:I.nombre})}),C.jsxs("div",{className:"producto-info",children:[C.jsx("h4",{children:I.nombre}),C.jsxs("p",{children:["Color: ",I.colorSeleccionado||"No especificado"]}),C.jsxs("p",{children:["Talla: ",I.tallaSeleccionada||"No especificada"]}),C.jsxs("p",{children:["$",I.precio]})]}),C.jsxs("div",{className:"botones-carrito",children:[C.jsx("button",{onClick:()=>n(I.id,I.colorSeleccionado,I.tallaSeleccionada,I.cantidad+1),children:"+"}),C.jsx("span",{children:I.cantidad}),C.jsx("button",{onClick:()=>n(I.id,I.colorSeleccionado,I.tallaSeleccionada,I.cantidad-1),children:"-"}),C.jsx("button",{onClick:()=>A(I.id,I.colorSeleccionado,I.tallaSeleccionada),className:"delete-btn",children:"Eliminar"})]})]},I.id)),C.jsxs("div",{className:"carrito-total",children:[C.jsxs("h3",{children:["Total: $",g.toFixed(2)]}),C.jsx("button",{onClick:()=>u(!0),children:"Finalizar Compra"})]}),o&&C.jsx("div",{className:"form-overlay",children:C.jsxs("div",{className:"whatsapp-form",children:[C.jsx("h3",{children:"Completa tus datos para el envío"}),C.jsxs("form",{onSubmit:w,children:[C.jsx("input",{type:"text",name:"nombre",placeholder:"Nombre completo",value:f.nombre,onChange:E,required:!0}),C.jsx("input",{type:"tel",name:"telefono",placeholder:"Número de teléfono",value:f.telefono,onChange:E,required:!0}),C.jsx("textarea",{name:"direccion",placeholder:"Dirección de envío",value:f.direccion,onChange:E,required:!0}),C.jsx("textarea",{name:"comentarios",placeholder:"Comentarios adicionales (opcional)",value:f.comentarios,onChange:E}),C.jsxs("div",{className:"form-buttons",children:[C.jsx("button",{type:"button",onClick:()=>u(!1),children:"Cancelar"}),C.jsx("button",{type:"submit",children:"Enviar por WhatsApp"})]})]})]})})]})}function Qx(){return C.jsx("div",{className:"about-us",children:C.jsxs("div",{className:"about-container",children:[C.jsx("h1",{children:"Sobre Nosotros"}),C.jsxs("section",{className:"about-section",children:[C.jsx("h2",{children:"¿Quiénes Somos?"}),C.jsx("p",{children:"Somos una tienda especializada en ropa y accesorios, comprometidos con ofrecer productos de alta calidad a precios accesibles."})]}),C.jsxs("section",{className:"about-section",children:[C.jsx("h2",{children:"Proceso de Compra"}),C.jsxs("div",{className:"process-steps",children:[C.jsxs("div",{className:"step",children:[C.jsx("h3",{children:"1. Selecciona tus productos"}),C.jsx("p",{children:"Explora nuestro catálogo y agrega los productos que desees al carrito."})]}),C.jsxs("div",{className:"step",children:[C.jsx("h3",{children:"2. Confirma tu pedido"}),C.jsx("p",{children:"Revisa tu carrito y confirma los productos seleccionados."})]}),C.jsxs("div",{className:"step",children:[C.jsx("h3",{children:"3. Entrega"}),C.jsx("p",{children:"Recibirás tu pedido en la dirección indicada y pagarás al momento de la entrega."})]})]})]}),C.jsxs("section",{className:"about-section",children:[C.jsx("h2",{children:"Política de Devoluciones"}),C.jsx("p",{children:"Aceptamos devoluciones dentro de los primeros 7 días después de la entrega. El producto debe estar en su estado original y sin usar."})]})]})})}const Jh=q.createContext();function Yx({children:r}){const[t,n]=q.useState(null),[a,o]=q.useState(!0),u=async(p,g)=>{try{const E=await IN(Yc,p,g);return n(E.user),E}catch(E){throw console.error("Error en login:",E),E}};q.useEffect(()=>{const p=NN(Yc,g=>{console.log("Estado de autenticación cambiado:",g),n(g),o(!1)});return()=>p()},[]);const f=(p,g)=>RN(Yc,p,g),m=()=>xN(Yc);return C.jsx(Jh.Provider,{value:{user:t,signup:f,login:u,logout:m,loading:a},children:!a&&r})}function Xx(){const[r,t]=q.useState(""),[n,a]=q.useState(""),[o,u]=q.useState(""),{login:f}=q.useContext(Jh),m=Dh(),p=async g=>{g.preventDefault();try{(await f(r,n)).user&&m("/admin")}catch{u("Credenciales incorrectas")}};return C.jsx("div",{className:"login-container",children:C.jsxs("form",{onSubmit:p,className:"login-form",children:[C.jsx("h2",{children:"Admin Login"}),o&&C.jsx("p",{className:"error",children:o}),C.jsx("div",{className:"form-group",children:C.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:g=>t(g.target.value)})}),C.jsx("div",{className:"form-group",children:C.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:g=>a(g.target.value)})}),C.jsx("button",{type:"submit",children:"Login"})]})})}function Wx(){const{user:r,logout:t}=q.useContext(Jh),n=Dh(),[a,o]=q.useState([]),[u,f]=q.useState({nombre:"",precio:"",imagenes:[""],categoria:"",marca:"",colores:[""],tallas:["unico"],especificaciones:[]}),m=()=>{f({...u,colores:[...u.colores,""]})},p=L=>{const W=u.colores.filter((nt,st)=>st!==L);f({...u,colores:W})},g=(L,W)=>{const nt=[...u.colores];nt[L]=W,f({...u,colores:nt})},E=()=>{f({...u,tallas:[...u.tallas,""]})},A=L=>{const W=u.tallas.filter((nt,st)=>st!==L);f({...u,tallas:W})},w=(L,W)=>{const nt=[...u.tallas];nt[L]=W,f({...u,tallas:nt})},I=(L,W)=>{const nt=[...u.imagenes];nt[L]=W,f({...u,imagenes:nt})},M=()=>{f({...u,imagenes:[...u.imagenes,""]})},H=L=>{const W=u.imagenes.filter((nt,st)=>st!==L);f({...u,imagenes:W})},P=async L=>{L.preventDefault();try{await RD($a(Ki,"productos"),{nombre:u.nombre,precio:Number(u.precio),imagenes:u.imagenes.filter(st=>st!==""),categoria:u.categoria,marca:u.marca,colores:u.colores.filter(st=>st!==""),tallas:u.tallas.filter(st=>st!==""),especificaciones:u.especificaciones}),f({nombre:"",precio:"",imagenes:[""],categoria:"",marca:"",colores:[""],tallas:["unico"],especificaciones:[]});const nt=(await Gl($a(Ki,"productos"))).docs.map(st=>({id:st.id,...st.data()}));o(nt),alert("Producto agregado con éxito")}catch(W){console.error("Error al agregar producto:",W),alert("Error al agregar producto")}},$=async()=>{try{await t(),n("/admin/login")}catch(L){console.error("Error al cerrar sesión:",L)}},Q=async L=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{await wD(Np(Ki,"productos",L));const nt=(await Gl($a(Ki,"productos"))).docs.map(st=>({id:st.id,...st.data()}));o(nt),alert("Producto eliminado con éxito")}catch(W){console.error("Error al eliminar producto:",W),alert("Error al eliminar el producto")}};return q.useEffect(()=>{(async()=>{const nt=(await Gl($a(Ki,"productos"))).docs.map(st=>({id:st.id,...st.data()}));o(nt)})()},[]),q.useEffect(()=>{r||n("/admin/login")},[r,n]),C.jsxs("div",{className:"admin-container",children:[C.jsxs("div",{className:"admin-header",children:[C.jsx("h2",{children:"Panel de Administración"}),C.jsx("button",{onClick:$,className:"logout-btn",children:"Cerrar Sesión"})]}),C.jsxs("div",{className:"admin-content",children:[C.jsxs("section",{className:"add-product",children:[C.jsx("h3",{children:"Añadir Nuevo Producto"}),C.jsxs("form",{onSubmit:P,children:[C.jsx("input",{type:"text",placeholder:"Nombre del producto",value:u.nombre,onChange:L=>f({...u,nombre:L.target.value}),required:!0}),C.jsx("input",{type:"number",placeholder:"Precio",value:u.precio,onChange:L=>f({...u,precio:L.target.value}),required:!0}),C.jsxs("div",{className:"imagenes-container",children:[C.jsx("h4",{children:"Imágenes del producto"}),u.imagenes.map((L,W)=>C.jsxs("div",{className:"imagen-input",children:[C.jsx("input",{type:"text",placeholder:`URL de la imagen ${W+1}`,value:L,onChange:nt=>I(W,nt.target.value),required:!0}),W>0&&C.jsx("button",{type:"button",onClick:()=>H(W),className:"delete-btn",children:"Eliminar"})]},W)),C.jsx("button",{type:"button",onClick:M,className:"add-btn",children:"Añadir otra imagen"})]}),C.jsxs("select",{value:u.categoria,onChange:L=>f({...u,categoria:L.target.value}),required:!0,children:[C.jsx("option",{value:"",children:"Seleccionar categoría"}),C.jsx("option",{value:"gorras",children:"Gorras"}),C.jsx("option",{value:"ropa-mujer",children:"Ropa Mujer"}),C.jsx("option",{value:"ropa-hombre",children:"Ropa Hombre"})]}),C.jsx("input",{type:"text",placeholder:"Marca",value:u.marca,onChange:L=>f({...u,marca:L.target.value}),required:!0}),C.jsxs("div",{className:"colores-container",children:[C.jsx("h4",{children:"Colores disponibles"}),u.colores.map((L,W)=>C.jsxs("div",{className:"color-input",children:[C.jsx("input",{type:"text",placeholder:`Color ${W+1}`,value:L,onChange:nt=>g(W,nt.target.value),required:!0}),W>0&&C.jsx("button",{type:"button",onClick:()=>p(W),className:"delete-btn",children:"Eliminar"})]},W)),C.jsx("button",{type:"button",onClick:m,className:"add-btn",children:"Añadir otro color"})]}),C.jsxs("div",{className:"tallas-container",children:[C.jsx("h4",{children:"Tallas disponibles"}),u.tallas.map((L,W)=>C.jsxs("div",{className:"talla-input",children:[C.jsx("input",{type:"text",placeholder:`Talla ${W+1}`,value:L,onChange:nt=>w(W,nt.target.value),required:!0}),W>0&&C.jsx("button",{type:"button",onClick:()=>A(W),className:"delete-btn",children:"Eliminar"})]},W)),C.jsx("button",{type:"button",onClick:E,className:"add-btn",children:"Añadir otra talla"})]}),C.jsx("textarea",{placeholder:"Especificaciones (una por línea)",value:u.especificaciones.join(`
`),onChange:L=>f({...u,especificaciones:L.target.value.split(`
`).filter(W=>W.trim()!=="")})}),C.jsx("button",{type:"submit",className:"submit-btn",children:"Añadir Producto"})]})]}),C.jsxs("section",{className:"product-list",children:[C.jsx("h3",{children:"Lista de Productos"}),C.jsx("div",{className:"products-grid",children:a.map(L=>C.jsxs("div",{className:"product-item",children:[C.jsx("img",{src:Array.isArray(L.imagenes)?L.imagenes[0]:L.imagen,alt:L.nombre}),C.jsx("h4",{children:L.nombre}),C.jsxs("p",{children:["$",L.precio]}),C.jsxs("p",{children:["Categoría: ",L.categoria]}),C.jsxs("p",{children:["Marca: ",L.marca]}),C.jsxs("p",{children:["Colores: ",Array.isArray(L.colores)?L.colores.join(", "):L.color]}),C.jsxs("p",{children:["Tallas: ",Array.isArray(L.tallas)?L.tallas.join(", "):L.talla]}),C.jsx("button",{className:"delete-btn",onClick:()=>Q(L.id),children:"Eliminar"})]},L.id))})]})]})]})}function Zx(){const{id:r}=eE(),[t,n]=q.useState(null),[a,o]=q.useState(""),[u,f]=q.useState(""),[m,p]=q.useState(0),{agregarAlCarrito:g}=q.useContext(uu);if(q.useEffect(()=>{(async()=>{const w=Np(Ki,"productos",r),I=await SD(w);I.exists()&&n({id:I.id,...I.data()})})()},[r]),!t)return C.jsx("div",{children:"Cargando..."});const E=()=>{if(!a||!u){alert("Por favor selecciona un color y una talla");return}g({...t,colorSeleccionado:a,tallaSeleccionada:u,cantidad:1})};return C.jsxs("div",{className:"product-detail-container",children:[C.jsxs("div",{className:"product-images",children:[C.jsx("div",{className:"main-image",children:C.jsx("img",{src:t.imagenes[m],alt:t.nombre})}),C.jsx("div",{className:"thumbnail-container",children:t.imagenes.map((A,w)=>C.jsx("img",{src:A,alt:`${t.nombre} ${w+1}`,onClick:()=>p(w),className:m===w?"active":""},w))})]}),C.jsxs("div",{className:"product-info",children:[C.jsx("h1",{children:t.nombre}),C.jsxs("p",{className:"price",children:["$",t.precio]}),C.jsxs("p",{className:"marca",children:["Marca: ",t.marca]}),C.jsxs("div",{className:"color-selector",children:[C.jsx("h3",{children:"Colores disponibles:"}),C.jsx("div",{className:"color-options",children:t.colores.map((A,w)=>C.jsx("button",{className:a===A?"selected":"",onClick:()=>o(A),children:A},w))})]}),C.jsxs("div",{className:"talla-selector",children:[C.jsx("h3",{children:"Tallas disponibles:"}),C.jsx("div",{className:"size-options",children:t.tallas.map((A,w)=>C.jsx("button",{className:u===A?"selected":"",onClick:()=>f(A),children:A},w))})]}),C.jsxs("div",{className:"especificaciones",children:[C.jsx("h3",{children:"Especificaciones:"}),C.jsx("ul",{children:t.especificaciones.map((A,w)=>C.jsx("li",{children:A},w))})]}),C.jsx("button",{className:"add-to-cart-btn",onClick:E,disabled:!a||!u,children:"Agregar al carrito"})]})]})}function Jx(){const[r,t]=q.useState([]),[n,a]=q.useState(!0),{categoria:o}=eE(),u=()=>{switch(o){case"gorras":return"Gorras";case"ropa-mujer":return"Ropa Mujer";case"ropa-hombre":return"Ropa Hombre";default:return"Productos"}};return q.useEffect(()=>{(async()=>{a(!0);try{const g=(await Gl($a(Ki,"productos"))).docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.categoria===o);t(g)}catch(m){console.error("Error al cargar productos:",m)}finally{a(!1)}})()},[o]),n?C.jsx("div",{className:"loading",children:"Cargando productos..."}):C.jsxs("div",{className:"category-view",children:[C.jsx("h2",{children:u()}),r.length===0?C.jsx("div",{className:"no-products",children:C.jsx("p",{children:"No hay productos disponibles en esta categoría"})}):C.jsx("div",{className:"products-grid",children:r.map(f=>C.jsx("div",{className:"product-card",children:C.jsxs(hn,{to:`/producto/${f.id}`,children:[C.jsx("img",{src:Array.isArray(f.imagenes)?f.imagenes[0]:f.imagen,alt:f.nombre}),C.jsxs("div",{className:"product-info",children:[C.jsx("h3",{children:f.nombre}),C.jsxs("p",{className:"price",children:["$",f.precio]})]})]})},f.id))})]})}function tO({children:r}){const{user:t,loading:n}=q.useContext(Jh);return n?C.jsx("h1",{children:"Cargando..."}):t?r:C.jsx(cw,{to:"/admin/login"})}function eO(){return C.jsxs("footer",{className:"footer",children:[C.jsxs("div",{className:"footer-content",children:[C.jsxs("div",{className:"footer-section",children:[C.jsx("h3",{children:"Contacto"}),C.jsx("p",{children:"WhatsApp: +57 123 456 7890"}),C.jsx("p",{children:"Email: tienda@ejemplo.com"}),C.jsx("p",{children:"Instagram: @tienda_ejemplo"})]}),C.jsxs("div",{className:"footer-section",children:[C.jsx("h3",{children:"Horarios de Entrega"}),C.jsx("p",{children:"Lunes a Viernes: 9:00 AM - 6:00 PM"}),C.jsx("p",{children:"Sábados: 9:00 AM - 2:00 PM"})]}),C.jsxs("div",{className:"footer-section",children:[C.jsx("h3",{children:"Zonas de Entrega"}),C.jsx("p",{children:"Bogotá: Todas las localidades"}),C.jsx("p",{children:"Tiempo estimado: 24-48 horas"})]})]}),C.jsx("div",{className:"footer-bottom",children:C.jsx("p",{children:"© 2024 Tu Tienda. Todos los derechos reservados."})})]})}function nO(){return C.jsx(Yx,{children:C.jsx(Pw,{children:C.jsxs("div",{className:"app",children:[C.jsx(DR,{}),C.jsx(CR,{}),C.jsxs(fw,{children:[C.jsx(Gr,{path:"/",element:C.jsx($x,{})}),C.jsx(Gr,{path:"/carrito",element:C.jsx(Kx,{})}),C.jsx(Gr,{path:"/sobre-nosotros",element:C.jsx(Qx,{})}),C.jsx(Gr,{path:"/admin/login",element:C.jsx(Xx,{})}),C.jsx(Gr,{path:"/admin",element:C.jsx(tO,{children:C.jsx(Wx,{})})}),C.jsx(Gr,{path:"/producto/:id",element:C.jsx(Zx,{})}),C.jsx(Gr,{path:"/categoria/:categoria",element:C.jsx(Jx,{})})]}),C.jsx(eO,{}),C.jsx(RR,{position:"bottom-right",autoClose:2e3})]})})})}TS.createRoot(document.getElementById("root")).render(C.jsx(q.StrictMode,{children:C.jsx(IR,{children:C.jsx(nO,{})})}));
